(window.webpackJsonp=window.webpackJsonp||[]).push([[6,1,4],{"+LPt":function(e,t,n){e.exports=n.p+"desktop-assets/bg-space-3-right.24b11cdab3c5daf1571c92cff320e2e6.svg"},"+jJA":function(e,t,n){e.exports=n.p+"desktop-assets/reg-about.39a060d6bb870751f467f387abbfab9e.svg"},"+sW7":function(e,t,n){e.exports=n.p+"desktop-assets/s4.21d636844d5096acf2e4cd247c759a45.svg"},"//e9":function(e,t,n){},"/RuS":function(e,t,n){e.exports=n.p+"desktop-assets/step-3.0b544bf963f846c672ae7b8f0a89c6fc.svg"},"/aJl":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("/MKj"),o=(n("17x9"),n("TSYQ")),s=n.n(o),c=n("GB65"),l=n("G5ih"),d=n("BWa0");n("emG5");function u(e){var t=e.active,n=s()({ButtonBackToTop:!0,badge:!0,active:t});return a.a.createElement("a",{href:"#",className:n,onClick:function(){var e=Object(c.bb)();Object(c.tb)(-e,0,"smooth")}},a.a.createElement(d.W,{className:"badge-icon",name:d.d,width:"32",height:"32"}),a.a.createElement("span",{className:"badge-text"},Object(l.a)("takeMeUp")))}u.defaultProps={active:!1,locationTop:!0},u.__docgenInfo={description:"",methods:[],displayName:"ButtonBackToTop",props:{active:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},locationTop:{defaultValue:{value:"true",computed:!1},required:!1}}},t.a=Object(i.b)(function(e){return{active:!e.ui.footer.get("isFooterVisible")}})(u)},"/b2Y":function(e,t,n){},"0575":function(e,t,n){e.exports=n.p+"desktop-assets/step-2.cd267815a476f687868abc3cf2431aed.svg"},"0WSl":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var r=n("E9Wd"),a="".concat(r.L,"/account/messages"),i=("".concat(r.L,"/upload"),"https://help.imgur.com/hc/en-us/articles/360038529112")},"0dru":function(e,t,n){e.exports=n.p+"desktop-assets/bg-mountain-left.1a07d255b71e57395816e6488e597901.svg"},"0m7p":function(e,t,n){e.exports=n.p+"desktop-assets/bg-mountain-right.45d1f1db129199fcf660d5b9c19306f6.svg"},"0pwo":function(e,t,n){},1:function(e,t){},"1POK":function(e,t,n){},"1coQ":function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("JPcv")),E=n("cm4/"),_=n.n(E),C=n("66r6"),O=function(e){function r(e){var t;a()(this,r),t=c()(this,d()(r).call(this,e)),h()(p()(t),"grabString",function(e){var t=Object(C.m)(e,C.c);if(!t.length)return e;var n="",r=e.substr(0,t[0].begin);r.length&&(n=r);for(var a=!1,i="",o=0;o<t.length;o++){if(0<o){var s=t[o-1],c=t[o].begin-1-s.end,l=e.substr(s.end+1,c);l.length&&(n+=l)}a?n+=C.a+t[o].href:(i=t[o].href,a=!0)}var d=e.substr(t[t.length-1].end+1);return d.length&&(n+=d),i&&(n+=" ".concat(i)),n});var n=e.opUsername?{opUsername:e.opUsername}:{};return n.isLinkifyTargetMedia=e.isLinkifyTargetMedia,n.postMedia=e.postMedia,Object(C.g)(E.linkify,n),t}return f()(r,e),o()(r,[{key:"getChildren",value:function(){var e=this.props,t=e.children,n=e.expandlink;return"string"!=typeof t||"true"!==n?t:this.grabString(t)}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.expandlink,r=e.component,a=e.postMedia;return v.a.createElement(_.a,{component:r,properties:{target:"_blank",rel:"noopener noreferrer",onClick:t,className:"Linkify-element",expandlink:n,postMedia:a}},this.getChildren())}}]),r}(v.a.Component);O.defaultProps={onClick:function(){return!0},expandlink:"false",postMedia:new y.List},O.__docgenInfo={description:"",methods:[{name:"getChildren",docblock:null,modifiers:[],params:[],returns:null},{name:"grabString",docblock:null,modifiers:[],params:[{name:"str",type:null}],returns:null}],displayName:"ImgurLinkify",props:{onClick:{defaultValue:{value:"() => true",computed:!1},type:{name:"func"},required:!1,description:""},expandlink:{defaultValue:{value:"'false'",computed:!1},type:{name:"enum",value:[{value:"'true'",computed:!1},{value:"'false'",computed:!1}]},required:!1,description:""},postMedia:{defaultValue:{value:"new List()",computed:!1},type:{name:"object"},required:!1,description:""},children:{type:{name:"any"},required:!1,description:""},component:{type:{name:"func"},required:!1,description:""},opUsername:{type:{name:"string"},required:!1,description:""},isLinkifyTargetMedia:{type:{name:"bool"},required:!1,description:""}}}},"1p8+":function(e,t,n){},"2JvH":function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=(n("17x9"),n("TSYQ")),c=n.n(s),l=n("GB65"),d=n("E9Wd"),u=n("Ty5D");n("JHKR");function p(e){var t=e.className,n=e.history;return o.a.createElement("a",{href:d.L,className:"GoUp-stopDrag",onClick:function(e){e.preventDefault(),Object(l.tb)(0,0),"/"!==n.location.pathname&&n.push("/")}},o.a.createElement("img",{className:c()("GoUp","GoUp-image","GoUp-stopDrag",a()({},t,!!t)),src:"//s.".concat(d.K,"/images/favicon-32x32.png")}))}p.defaultProps={className:""},p.__docgenInfo={description:"",methods:[],displayName:"GoUpComponent",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""}}},t.a=Object(u.h)(p)},"2X/W":function(e,t,n){},"4KxA":function(e,t,n){},"5DEz":function(e,t,n){e.exports=n.p+"desktop-assets/super-chewer-logo.21afd57ddfc0a01d99ecab19c473c780.svg"},"5I/V":function(e,t,n){},"6IHV":function(e,t,n){},"7TkL":function(e,t,n){},"7tjL":function(e,t,n){},"7znt":function(e,t,n){},"92em":function(e,t,n){},"94Yu":function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("/MKj")),E=n("JPcv"),_=n("sEfC"),C=n.n(_),O=n("9Jdl"),S=n("yFeA"),I=n("GB65"),k=n("ErBw"),w=n("enaV"),A=n("/PhX"),P=n("+qLk"),T=n("bWDY");n("qMU6");function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var N=function(e){function t(e){var i;return a()(this,t),i=c()(this,d()(t).call(this,e)),h()(p()(i),"receiveMessage",function(e){if(e&&e.data&&"string"==typeof e.data){var t=e.data.match(/disableRefreshForSession:(\S+);?/);t&&t[1]?i.setState({refresh:!1}):(t=e.data.match(/disableTimedRefresh:(\S+);?/))&&t[1]&&i.setState({refresh:!0})}}),h()(p()(i),"resizeHandler",C()(function(){(0,i.props.updateSCTUHeightAction)(i.sctuWrapper.current.offsetHeight)},100)),h()(p()(i),"callback",function(){(0,i.props.sctuLoadedAction)()}),h()(p()(i),"onloadCallback",function(){var e=i.state,t=e.show,n=e.isValid;n!==t&&i.updateVisibility(n)}),h()(p()(i),"onClose",function(){var e=i.props,t=e.onStatusChange,n=e.updateSCTUHeightAction,r=e.closeSCTUAction,a=i.state.insertionId;i.setState({closed:!0},function(){t(),n(i.sctuWrapper.current.offsetHeight)}),a&&r(a)}),h()(p()(i),"updateVisibility",function(e){var t=i.props,n=t.onStatusChange,r=t.updateSCTUHeightAction;i.setState({show:e},function(){n(),r(i.sctuWrapper.current.offsetHeight)})}),h()(p()(i),"loadCustomCreative",function(e){e.withCloseButton&&i.setState({withCloseButton:!0}),e.insertionId&&i.setState({insertionId:e.insertionId}),i.setState({isValid:!0}),i.updateVisibility(!0)}),i.state={isValid:!1,show:!1,withCloseButton:!1,closed:!1,insertionId:"",refresh:!1},i.sctuWrapper=v.a.createRef(),Object(I.wb)("loadCustomCreative",i.loadCustomCreative),Object(I.c)("message",i.receiveMessage),Object(I.c)("resize",i.resizeHandler),i}return f()(t,e),o()(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchClosedSCTUsAction)()}},{key:"componentWillUnmount",value:function(){Object(I.mb)("message",this.receiveMessage),Object(I.mb)("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.adsEnabled,a=n.onStatusChange,i=n.updateSCTUHeightAction;e.adsEnabled&&!r&&this.setState({closed:!0},function(){a();var e=t.sctuWrapper.current?t.sctuWrapper.current.offsetHeight:0;i(e)})}},{key:"shouldHide",value:function(){var e=this.props,t=e.adsEnabled,n=e.streamIsWhitelisted,r=this.state.closed;return!(t&&!r)||Object(w.e)(Object(I.w)())===P.D&&!n}},{key:"getSlotTargeting",value:function(){var e=this.props,t=e.sctusClosed,n=e.slotTargeting;return 0<t.size?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(n,!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n,{HLClose:t.toJS()}):n}},{key:"render",value:function(){if(this.shouldHide())return null;var e=this.props,t=e.postId,n=e.adsEnabled,r=e.path,a=this.state,i=a.refresh,o=a.show,s=a.withCloseButton,c="sctu";return i&&(c+=t),v.a.createElement("div",{className:"Ad-SCTU",ref:this.sctuWrapper,key:c,style:{display:o?"block":"none"}},v.a.createElement(S.a,{adsEnabled:n,path:r,dimensions:O.z,callback:this.callback,onloadCallback:this.onloadCallback,slotTargeting:this.getSlotTargeting()}),s&&v.a.createElement("div",{className:"Ad-SCTU-closeButton",onClick:this.onClose}))}}]),t}(b.Component);N.defaultProps={sctusClosed:Object(E.List)(),slotTargeting:{}},N.__docgenInfo={description:"",methods:[{name:"receiveMessage",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"callback",docblock:null,modifiers:[],params:[],returns:null},{name:"onloadCallback",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldHide",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"updateVisibility",docblock:null,modifiers:[],params:[{name:"show",type:null}],returns:null},{name:"loadCustomCreative",docblock:null,modifiers:[],params:[{name:"config",type:null}],returns:null},{name:"getSlotTargeting",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Sctu",props:{sctusClosed:{defaultValue:{value:"List()",computed:!0},type:{name:"instanceOf",value:"List"},required:!1,description:""},slotTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},path:{type:{name:"number"},required:!0,description:""},onStatusChange:{type:{name:"func"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},streamIsWhitelisted:{type:{name:"bool"},required:!1,description:""},closeSCTUAction:{type:{name:"func"},required:!0,description:""},fetchClosedSCTUsAction:{type:{name:"func"},required:!0,description:""},sctuLoadedAction:{type:{name:"func"},required:!0,description:""},postId:{type:{name:"string"},required:!1,description:""},updateSCTUHeightAction:{type:{name:"func"},required:!0,description:""}}},t.a=Object(y.b)(function(e){var t=e.ad,n=e.user,r=e.gallery,a=e.postsData,i=Object(T.d)(t,n);return t.getIn(["transformation","enabled"])&&(i=!1),{adsEnabled:i,streamIsWhitelisted:r.get("streamIsWhitelisted"),sctusClosed:t.get("sctusClosed"),postId:a.getIn(["currentPost","id"])}},{closeSCTUAction:k.n,fetchClosedSCTUsAction:k.o,sctuLoadedAction:k.q,updateSCTUHeightAction:A.G})(N)},"987h":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),f=n.n(m),g=(n("17x9"),n("/MKj")),h=n("1pu9");function b(n){var e=function(e){function t(){return a()(this,t),c()(this,d()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){return f.a.createElement(n,this.props)}}]),t}(f.a.Component);return e.displayName="WithProfileSSData(".concat(function(e){return e.displayName||e.name||"Component"}(n),")"),Object(g.b)(function(e){var t=e.secretSanta;return{profile:t.profile,isLoading:t.profile.get("isLoading")}},{optOutProfileSS:h.k,optInProfileSS:h.j,saveProfileChanges:h.l})(e)}},"9JWB":function(e,t,n){},"9UQG":function(e,t,n){"use strict";var r=n("q1tI"),p=n.n(r),a=n("17x9"),i=n.n(a),o=n("pVnL"),s=n.n(o);var c={primaryColor:"#8935c7",primaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 1), rgba(255, 88, 182, 0))",secondaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 0.4), rgba(137, 53, 199, 0))",buttonGradient:"linear-gradient(to top, rgba(254, 106, 255, 0.62), #db53dc)",buttonShadow:"rgba(119, 43, 120, 0.7) 6px 12px 32px 1px"},l={primaryColor:"#3149c9",primaryGradient:"linear-gradient(to right, rgba(6, 158, 94, 1), rgba(6, 158, 94, 0))",secondaryGradient:"linear-gradient(to right, rgba(6, 158, 182, 0.4), rgba(49, 73, 201, 0))",buttonGradient:"linear-gradient(to top, rgba(139, 173, 255, 0.62), #2f6dfc)",buttonShadow:"rgba(24, 54, 155, 0.7) 6px 12px 32px 1px"};var d=n("lwsE"),u=n.n(d),m=n("W8MJ"),f=n.n(m),g=n("a1gu"),h=n.n(g),b=n("Nsbk"),v=n.n(b),y=n("7W2i"),E=n.n(y),_=n("pNV7"),C=function(e){function t(){return u()(this,t),h()(this,v()(t).apply(this,arguments))}return E()(t,e),f()(t,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,r=e.actionButtonText,a=e.onClose,i=e.primaryColor,o=e.primaryGradient,s=e.secondaryGradient,c=e.bgImageSrc,l=e.buttonGradient,d=e.buttonShadow,u=e.url;return p.a.createElement("div",{className:"BannerTop3"},p.a.createElement("div",{style:{backgroundColor:i},className:"BannerTop3-layer"},p.a.createElement("div",{style:{backgroundImage:o},className:"BannerTop3-layer"})),p.a.createElement("div",{className:"BannerTop3-content BannerTop3-layer"},p.a.createElement("div",{style:{backgroundImage:s,zIndex:2},className:"BannerTop3-layer"}),p.a.createElement("div",{className:"BannerTop3-spacer--first"}),p.a.createElement("div",{className:"BannerTop3-description"},p.a.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},t),p.a.createElement("div",{className:"BannerTop3-subhead"},n),c&&p.a.createElement("img",{src:c})),p.a.createElement("div",{className:"BannerTop3-spacer"}),p.a.createElement("a",{href:u,target:"_blank",style:{backgroundImage:l,boxShadow:d},className:"BannerTop3-buttonCTA"},p.a.createElement("span",null,r)),p.a.createElement("div",{className:"BannerTop3-spacer--last"}),p.a.createElement("div",{className:"BannerTop3-buttonClose",onClick:a},p.a.createElement(_.db,{name:_.g,width:13}))))}}]),t}(p.a.Component);C.__docgenInfo={description:"",methods:[],displayName:"Default",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},url:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""},primaryColor:{type:{name:"string"},required:!0,description:""},primaryGradient:{type:{name:"string"},required:!0,description:""},secondaryGradient:{type:{name:"string"},required:!0,description:""},buttonGradient:{type:{name:"string"},required:!0,description:""},buttonShadow:{type:{name:"string"},required:!0,description:""}}};var O=n("PJYZ"),S=n.n(O),I=n("lSNA"),k=n.n(I),w=n("AoHe"),A=function(e){function i(){var e,n;u()(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=h()(this,(e=v()(i)).call.apply(e,[this].concat(r))),k()(S()(n),"onBannerClose",function(e){var t=n.props.onClose;e.stopPropagation(),e.preventDefault(),t()}),n}return E()(i,e),f()(i,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,r=e.actionButtonText,a=e.onClick,i=e.backgroundColor,o=e.bgImageSrc,s=e.url,c=e.customClass,l=void 0===c?"masthead":c,d=Object(w.g)(t),u={};return d&&(u.backgroundImage='url("'.concat(t,'")')),p.a.createElement("div",{className:"BannerTop3 ".concat(l)},p.a.createElement("a",{href:s,target:"_blank",onClick:a},p.a.createElement("div",{style:{backgroundImage:'url("'.concat(i,'")'),backgroundColor:i},className:"BannerTop3-content BannerTop3-layer"},p.a.createElement("div",{style:{backgroundImage:'url("'.concat(o,'")')},className:"masthead-image"}),p.a.createElement("div",{style:u,className:"BannerTop3-description"},p.a.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},!d&&t),p.a.createElement("div",{className:"BannerTop3-subhead"},n)),!Object(w.g)(r)&&p.a.createElement("div",{className:"BannerTop3-buttonCTA"},r),Object(w.g)(r)&&p.a.createElement("img",{className:"BannerTop3-buttonCTA-image",src:r}),p.a.createElement("div",{className:"BannerTop3-buttonClose",onClick:this.onBannerClose},p.a.createElement(_.db,{name:_.h,width:20})))))}}]),i}(p.a.Component);A.__docgenInfo={description:"",methods:[{name:"onBannerClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Masthead",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},url:{type:{name:"string"},required:!0,description:""},backgroundColor:{type:{name:"string"},required:!0,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},customClass:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""}}};var P=n("JPcv"),T=n("moYt"),j=n.n(T),N=n("/MKj"),D=n("cr+I"),x=n.n(D),q=n("WFr8"),M=n("+qLk"),R=n("PLrP"),B=n("enaV"),U=n("GB65");function L(e){var t=e.ctas,n=e.ctasClosed,r=e.city,a=e.region,i=e.metroCode,o=e.countryCode,s=e.hasPaid,c=(new Date).getTime()/1e3;return t.filter(function(e){return e.get("startTime")<c&&e.get("endTime")>c&&!n.includes(e.get("localStorageName"))&&function(e,t,n,r,a){var i=e.get("targeting");if(!i||!i.size)return!0;if(!t)return!1;var o={region:r,city:n,metroCode:a};return 0<i.filter(function(n,e){return j()(e)===t&&0===["region","city","metroCode"].filter(function(t){var e=n.get(t);return e&&e.size&&!e.filter(function(e){return e===o[t]}).size}).length}).size}(e,o,r,a,i)&&!(e.get("promoted")&&s)})}n("rbYx");function F(e){return-1!==e.customClass.indexOf("masthead")?p.a.createElement(A,e):p.a.createElement(function(n){function e(e){var t="blue"===e.theme?l:c;return p.a.createElement(n,s()({},e,t))}return e.displayName="WithThemeStyle(".concat(function(e){return e.displayName||e.name||"Component"}(n),")"),e}(C),e)}F.defaultProps={customClass:""},F.__docgenInfo={description:"",methods:[],displayName:"BannerTop",props:{customClass:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""}}};var W,V,G;t.a=(V=F,(G=function(e){function t(e){var a;return u()(this,t),a=h()(this,v()(t).call(this,e)),k()(S()(a),"isSfw",function(e){if(!e.get("sfw"))return!0;var t=a.state.sfw,n=a.props.currentPostInView;return!(!t||!n)&&(!!n.getIn(["adConfig","showsAds"])||(a.setState({sfw:!1}),!1))}),k()(S()(a),"getForceCTAName",function(){var e=a.props.queryString,t=x.a.parse(e).masthead;return t?(a.setState({forceCTA:t}),t):a.state.forceCTA}),k()(S()(a),"getForceCTAs",function(){var t=a.getForceCTAName();return t?a.props.ctas.filter(function(e){return e.get("localStorageName")===t}):Object(P.List)()}),k()(S()(a),"getActiveCTA",function(){var e=a.getForceCTAs(),t=a.props,n=t.ctas,r=t.ctaClosed;if(0===e.size&&(e=n.filter(function(e){return a.isSfw(e)})),0<e.size&&!r)return e.get(Math.floor(a.random*e.size))}),k()(S()(a),"shouldHide",function(){if(Object(U.w)()&&Object(B.e)(Object(U.w)())===M.D)return!0;var e=a.props.currentPostInView;return e&&e.get("is_ad")}),k()(S()(a),"handleCtaClose",function(e){return function(){(0,a.props.closeCTA)(e.get("localStorageName"),e.get("endTime"),e.get("promoted"))}}),k()(S()(a),"handleCtaClick",function(e){return function(){(0,a.props.clickedCTA)(e.get("localStorageName"),e.get("promoted"))}}),k()(S()(a),"handleImgLoad",function(e){var t=a.props.setCTASize,n=e.nativeEvent.srcElement;t(n.width,n.height)}),k()(S()(a),"onRender",function(){var e=a.props,t=e.onStatusChange,n=e.viewedCTA,r=a.getActiveCTA();t(!0),n(r.get("localStorageName"),r.get("endTime"),r.get("promoted"),r.get("oncePerSession"))}),a.state={sfw:!0,forceCTA:""},a.random=Math.random(),a}return E()(t,e),f()(t,[{key:"isCurrentPostChanged",value:function(e){var t=this.props,n=t.currentPostInView,r=t.isMobile;return!(n||!e.currentPostInView)||!(!n||!e.currentPostInView)&&(!r&&n.get("id")!==e.currentPostInView.get("id")||(n.get("is_ad")!==e.currentPostInView.get("is_ad")||!n.getIn(["adConfig","showsAds"])!=!e.currentPostInView.getIn(["adConfig","showsAds"])))}},{key:"componentDidMount",value:function(){if(this.props.ctaClosed||this.shouldHide())return null}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.ctas;return n!==e.ctaClosed||this.isCurrentPostChanged(e)||r.size!==e.ctas.size}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.onStatusChange,a=t.isMobile,i=t.closeCTASilently,o=t.currentPostInView;n!==e.ctaClosed&&r(n);var s=this.getActiveCTA();s&&(a||n||!(!o&&e.currentPostInView||o&&e.currentPostInView&&o.get("id")!==e.currentPostInView.get("id"))||i(s.get("localStorageName"),s.get("endTime"),s.get("promoted")))}},{key:"render",value:function(){if(this.props.ctaClosed||this.shouldHide())return null;var e=this.getActiveCTA();if(!e)return null;var t=e.get("backgroundImages"),n=t.get(Math.floor(Math.random()*t.size));return p.a.createElement(p.a.Fragment,null,p.a.createElement(V,{theme:e.get("theme")||"",headline:e.get("headline"),subhead:e.get("subhead"),actionButtonText:e.get("actionButtonText"),onClose:this.handleCtaClose(e),onClick:this.handleCtaClick(e),onImageLoad:this.handleImgLoad,url:e.get("url"),bgImageSrc:n,customClass:e.get("customClass"),backgroundColor:e.get("backgroundColor"),handleOnMount:this.onRender}),e.get("pixels",[]).map(function(e){return p.a.createElement("img",{src:e,style:{display:"none"}})}))}}]),t}(p.a.Component)).displayName="WithCTA(".concat((W=V).displayName||W.name||"Component",")"),G.contextTypes={router:i.a.object},G.defaultProps={onStatusChange:function(){}},Object(N.b)(function(e){var t=e.config,n=e.agent,r=e.posts,a=e.postsData,i=e.user;return{ctas:L({ctas:t.get("ctas"),ctasClosed:t.get("ctasClosed"),city:n.get("city"),region:n.get("region"),metroCode:n.get("metroCode"),countryCode:n.get("countryCode"),hasPaid:i.get("hasPaid")||i.getIn(["subscription","isSubscribed"])}),ctaClosed:t.get("ctaClosed"),currentPostInView:r.get("posts").get(a.get("currentPostInView"))||a.get("currentPost"),isMobile:n.get(R.b)}},{closeCTA:q.f,closeCTASilently:q.g,setCTASize:q.i,clickedCTA:q.e,viewedCTA:q.j})(G))},"9gc2":function(e,t,n){e.exports=n.p+"desktop-assets/bg-footer.f4b1d30f80d9a96363a6d3101c03c204.svg"},"9rNq":function(e,t,n){"use strict";n.d(t,"b",function(){return P}),n.d(t,"c",function(){return T}),n.d(t,"a",function(){return j});var r=n("/MKj"),a=n("I9rv"),i=n("lSNA"),o=n.n(i),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),d=n.n(l),u=n("a1gu"),p=n.n(u),m=n("Nsbk"),f=n.n(m),g=n("7W2i"),h=n.n(g),b=n("q1tI"),v=n.n(b);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var E,_=(E=a.a,function(e){function t(){return c()(this,t),p()(this,f()(t).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.props);return e.className+=" Dropdown--primary Dropdown--upper",v.a.createElement(E,e)}}]),t}(v.a.Component));function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var O,S=(O=a.a,function(e){function t(){return c()(this,t),p()(this,f()(t).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.props);return e.className+=" Dropdown--upper",v.a.createElement(O,e)}}]),t}(v.a.Component));function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var k,w=(k=a.a,function(e){function t(){return c()(this,t),p()(this,f()(t).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(n,!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.props);return e.className+=" Dropdown--postPage",v.a.createElement(k,e)}}]),t}(v.a.Component));function A(e){return{scrollPositionY:e.display.get("positionY")}}var P=Object(r.b)(A)(_),T=Object(r.b)(A)(S),j=Object(r.b)(A)(w);t.d=Object(r.b)(A)(a.a)},"9uSn":function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("TSYQ")),E=n.n(y),_=n("GB65"),C=n("AoHe"),O=n("xypG");n("NXH/");function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var I="center",k=function(e){function n(e){var t;return a()(this,n),t=c()(this,d()(n).call(this,e)),h()(p()(t),"handleOnMouseEnter",function(){t.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({show:!0},t.getTooltipPlacement()))}),h()(p()(t),"handleOnMouseLeave",function(){t.setState({isLoading:!0,show:!1,yPosition:"top",xPosition:I})}),h()(p()(t),"handleMediaLoad",function(){t.state.isLoading&&t.setState({isLoading:!1},function(){t.setState(t.getTooltipPlacement())})}),t.state={show:!1,yPosition:"top",xPosition:I,isLoading:!0},t}return f()(n,e),o()(n,[{key:"getTooltipPlacement",value:function(){var e=this.props.popupRef,t="top",n=I,r=this.tooltip.getBoundingClientRect().top,a=this.tooltiptext.getBoundingClientRect().left,i=this.tooltiptext.getBoundingClientRect().right,o=Object(_.v)(),s=Object(_.u)();if(e&&e.current){var c=e.current;r-=c.getBoundingClientRect().top,a-=c.getBoundingClientRect().left,o=c.getBoundingClientRect().right,s=c.getBoundingClientRect().height}return r<s/2&&(t="bottom"),a<0?n="right":o<i&&(n="left"),{yPosition:t,xPosition:n}}},{key:"getMediaComponentFromSrc",value:function(){var e=this.props.src;if(!e)return"";var t=Object(C.i)(this.props.src),n=E()({hide:this.state.isLoading}),r=v.a.createElement("img",{className:n,onLoad:this.handleMediaLoad,src:e});return t&&(e=this.props.src,".gifv"===t[0]&&(e=e.replace(".gifv",".mp4")),r=v.a.createElement("video",{src:e,className:n,onCanPlay:this.handleMediaLoad,muted:!0,loop:!0,autoPlay:!0})),v.a.createElement("div",null,this.state.isLoading&&v.a.createElement(O.a,{size:20}),r)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.className,a=n.children,i=n.text,o=n.src,s=n.onClick,c=E()((e={Tooltip:!0},h()(e,"Tooltip-".concat(this.state.yPosition),!0),h()(e,"Tooltip-".concat(this.state.xPosition),!0),h()(e,"inline",this.props.inline),h()(e,"inlineBlock",!this.props.inline),h()(e,r,r),e));return v.a.createElement("div",{className:c,ref:function(e){t.tooltip=e},onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,onClick:s},a,v.a.createElement("span",{className:"Tooltip-text",ref:function(e){t.tooltiptext=e}},i,this.state.show&&o&&this.getMediaComponentFromSrc()))}}]),n}(b.Component);k.defaultProps={inline:!1,onClick:function(){}},k.__docgenInfo={description:"",methods:[{name:"getTooltipPlacement",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnMouseLeave",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMediaLoad",docblock:null,modifiers:[],params:[],returns:null},{name:"getMediaComponentFromSrc",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Tooltip",props:{inline:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""},text:{type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1,description:""},src:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},popupRef:{type:{name:"object"},required:!1,description:""}}}},A8WO:function(e,t,n){},ATuD:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("cDf5"),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);!function(c){var l=window.pbjsChunk;window.pbjsChunk=function(e,t,n){for(var r,a,i,o=0,s=[];o<e.length;o++)a=e[o],d[a]&&s.push(d[a][0]),d[a]=0;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(c[r]=t[r]);for(l&&l(e,t,n);s.length;)s.shift()();if(n)for(o=0;o<n.length;o++)i=u(u.s=n[o]);return i};var n={},d={323:0};function u(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.m=c,u.c=n,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e},u(u.s=828)}({0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"internal",function(){return N}),n.d(t,"bind",function(){return x}),t.getUniqueIdentifierStr=M,t.generateUUID=function e(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,n){return n?e+t+"="+encodeURIComponent(n)+"&":e},t.parseQueryStringParameters=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.replace(/&$/,"")},t.transformAdServerTargetingObj=function(t){return t&&0<Object.getOwnPropertyNames(t).length?de(t).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))}).join("&"):""},t.getAdUnitSizes=function(e){if(e){var t,n=[];return e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?(t=e.mediaTypes.banner.sizes,Array.isArray(t[0])?n=t:n.push(t)):Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?n=e.sizes:n.push(e.sizes)),n}},t.parseSizesInput=function(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var a in n)ne(n,a)&&n[a].match(r)&&t.push(n[a])}else if("object"===b(e)){var i=e.length;if(0<i)if(2===i&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(R(e));else for(var o=0;o<i;o++)t.push(R(e[o]))}return t},t.parseGPTSingleSizeArray=R,t.parseGPTSingleSizeArrayToRtbSize=function(e){if(B(e))return{w:e[0],h:e[1]}},t.getWindowTop=U,t.getWindowSelf=L,t.getWindowLocation=F,t.logMessage=W,t.logInfo=V,t.logWarn=G,t.logError=z,t.hasConsoleLogger=function(){return A},t.debugTurnedOn=K,t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=M(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e},t.getParameterByName=function(e){return _e(F().search)[e]||""},t.isA=Y,t.isFn=J,t.isStr=Q,t.isArray=X,t.isNumber=Z,t.isPlainObject=$,t.isBoolean=function(e){return Y(e,I)},t.isEmpty=ee,t.isEmptyStr=function(e){return Q(e)&&(!e||0===e.length)},t._each=te,t.contains=function(e,t){if(ee(e))return!1;if(J(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},t._map=function(n,r){if(ee(n))return[];if(J(n.map))return n.map(r);var a=[];return te(n,function(e,t){a.push(r(e,t,n))}),a},t.hasOwn=ne,t.insertElement=re,t.triggerPixel=ae,t.callBurl=function(e){var t=e.source,n=e.burl;t===y.S2S.SRC&&n&&N.triggerPixel(n)},t.insertHtmlIntoIframe=function(e){if(e){var t=document.createElement("iframe");t.id=M(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",N.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}},t.insertUserSyncIframe=ie,t.createTrackPixelHtml=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':""},t.createTrackPixelIframeHtml=oe,t.getValueString=se,t.uniques=ce,t.flatten=le,t.getBidRequest=function(n,e){return n?(e.some(function(e){var t=s()(e.bids,function(t){return["bidId","adId","bid_id"].some(function(e){return t[e]===n})});return t&&(r=t),t}),r):void 0;var r},t.getKeys=de,t.getValue=function(e,t){return e[t]},t.getKeyByValue=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n},t.getBidderCodes=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map(function(e){return e.bids.map(function(e){return e.bidder}).reduce(le,[])}).reduce(le).filter(ce)},t.isGptPubadsDefined=ue,n.d(t,"getHighestCpm",function(){return pe}),n.d(t,"getOldestHighestCpmBid",function(){return me}),n.d(t,"getLatestHighestCpmBid",function(){return fe}),t.shuffle=function(e){for(var t=e.length;0<t;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e},t.adUnitsFilter=function(e,t){return l()(e,t&&t.adUnitCode)},t.deepClone=he,t.inIframe=function(){try{return N.getWindowSelf()!==N.getWindowTop()}catch(e){return!0}},t.isSafariBrowser=function(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.timestamp=function(){return(new Date).getTime()},t.hasDeviceAccess=function(){return!1!==r.b.getConfig("deviceAccess")},t.checkCookieSupport=be,t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}},t.groupBy=function(e,n){return e.reduce(function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e},{})},t.getDefinedParams=function(n,e){return e.filter(function(e){return n[e]}).reduce(function(e,t){return h(e,g({},t,n[t]))},{})},t.isValidMediaTypes=function(e){var t=["banner","native","video"];return!!Object.keys(e).every(function(e){return l()(t,e)})&&(!e.video||!e.video.context||l()(["instream","outstream","adpod"],e.video.context))},t.getBidderRequest=function(e,t,n){return s()(e,function(e){return 0<e.bids.filter(function(e){return e.bidder===t&&e.adUnitCode===n}).length})||{start:null,auctionId:null}},t.getUserConfiguredParams=function(e,t,n){return e.filter(function(e){return e.code===t}).map(function(e){return e.bids}).reduce(le,[]).filter(function(e){return e.bidder===n}).map(function(e){return e.params||{}})},t.getOrigin=function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},t.isAdUnitCodeMatchingSlot=function(t){return function(e){return ve(t,e)}},t.isSlotMatchingAdUnitCode=ye,t.getGptSlotInfoForAdUnitCode=function(e){var t;return ue()&&(t=s()(window.googletag.pubads().getSlots(),ye(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}},t.unsupportedBidderMessage=function(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")},t.isInteger=Ee,t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},t.cleanObj=function(n){return Object.keys(n).reduce(function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e},{})},t.pick=function(o,s){return"object"===b(o)?s.reduce(function(e,t,n){if("function"==typeof t)return e;var r=t,a=t.match(/^(.+?)\sas\s(.+?)$/i);a&&(t=a[1],r=a[2]);var i=o[t];return"function"==typeof s[n+1]&&(i=s[n+1](i,e)),void 0!==i&&(e[r]=i),e},{}):{}},t.transformBidderParamKeywords=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",a=[];return te(e,function(e,t){if(X(e)){var n=[];te(e,function(e){!(e=se(r+"."+t,e))&&""!==e||n.push(e)}),e=n}else{if(!Q(e=se(r+"."+t,e)))return;e=[e]}a.push({key:t,value:e})}),a},t.convertTypes=function(r,a){return Object.keys(r).forEach(function(e){var t,n;a[e]&&(J(r[e])?a[e]=r[e](a[e]):a[e]=(t=r[e],n=a[e],"string"===t?n&&n.toString():"number"===t?Number(n):n),isNaN(a[e])&&delete a.key)}),a},t.isArrayOfNums=function(e,t){return X(e)&&(!t||e.length===t)&&e.every(Ee)},t.fill=function(e,t){for(var n=[],r=0;r<t;r++){var a=$(e)?he(e):e;n.push(a)}return n},t.chunk=function(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var a=r*t,i=a+t;n.push(e.slice(a,i))}return n},t.getMinValueFromArray=function(e){return Math.min.apply(Math,p(e))},t.getMaxValueFromArray=function(e){return Math.max.apply(Math,p(e))},t.compareOn=function(n){return function(e,t){return e[n]<t[n]?1:e[n]>t[n]?-1:0}},t.parseQS=_e,t.formatQS=Ce,t.parseUrl=function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:N.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},t.buildUrl=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(N.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")},t.deepEqual=Oe,t.mergeDeep=function e(t){for(var n=arguments.length,r=new Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(!r.length)return t;var i=r.shift();if($(t)&&$(i))for(var o in i)$(i[o])?(t[o]||h(t,g({},o,{})),e(t[o],i[o])):X(i[o])&&t[o]?X(t[o])&&(t[o]=t[o].concat(i[o])):h(t,g({},o,i[o]));return e.apply(void 0,[t].concat(r))};var r=n(3),a=n(158),i=n.n(a),o=n(10),s=n.n(o),c=n(12),l=n.n(c),d=n(159);n.d(t,"deepAccess",function(){return d.a});var u=n(160);function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return(b="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}n.d(t,"deepSetValue",function(){return u.a});var v,y=n(5),E="Array",_="String",C="Function",O="Number",S="Object",I="Boolean",k=Object.prototype.toString,w=Boolean(window.console),A=Boolean(w&&window.console.log),P=Boolean(w&&window.console.info),T=Boolean(w&&window.console.warn),j=Boolean(w&&window.console.error),N={checkCookieSupport:be,createTrackPixelIframeHtml:oe,getWindowSelf:L,getWindowTop:U,getWindowLocation:F,insertUserSyncIframe:ie,insertElement:re,isFn:J,triggerPixel:ae,logError:z,logWarn:G,logMessage:W,logInfo:V,parseQS:_e,formatQS:Ce,deepEqual:Oe},D={},x=function(e,t){return t}.bind(null,1,D)()===D?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},q=(v=0,function(){return++v});function M(){return q()+Math.random().toString(16).substr(2)}function R(e){if(B(e))return e[0]+"x"+e[1]}function B(e){return X(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function U(){return window.top}function L(){return window.self}function F(){return window.location}function W(){K()&&A&&console.log.apply(console,H(arguments,"MESSAGE:"))}function V(){K()&&P&&console.info.apply(console,H(arguments,"INFO:"))}function G(){K()&&T&&console.warn.apply(console,H(arguments,"WARNING:"))}function z(){K()&&j&&console.error.apply(console,H(arguments,"ERROR:"))}function H(e,t){return e=[].slice.call(e),t&&e.unshift(t),e.unshift("display: inline-block; color: #fff; background: #3b88c3; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cPrebid"),e}function K(){return!!r.b.getConfig("debug")}function Y(e,t){return k.call(e)==="[object "+t+"]"}function J(e){return Y(e,C)}function Q(e){return Y(e,_)}function X(e){return Y(e,E)}function Z(e){return Y(e,O)}function $(e){return Y(e,S)}function ee(e){if(!e)return!0;if(X(e)||Q(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function te(e,t){if(!ee(e)){if(J(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(0<r)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function ne(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function re(e,t,n,r){var a;t=t||document,a=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((a=a.length?a:t.getElementsByTagName("body")).length){a=a[0];var i=r?null:a.firstChild;return a.insertBefore(e,i)}}catch(e){}}function ae(e,t){var n=new Image;t&&N.isFn(t)&&(n.addEventListener("load",t),n.addEventListener("error",t)),n.src=e}function ie(e,t){var n=N.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),r=document.createElement("div");r.innerHTML=n;var a=r.firstChild;t&&N.isFn(t)&&(a.addEventListener("load",t),a.addEventListener("error",t)),N.insertElement(a,document,"html",!0)}function oe(e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e?(1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||(e=encodeURI(e)),t=t&&'sandbox="'.concat(t,'"'),"<iframe ".concat(t,' id="').concat(M(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function se(e,t,n){return null==t?n:Q(t)?t:Z(t)?t.toString():void N.logWarn("Unsuported type for param: "+e+" required type: String")}function ce(e,t,n){return n.indexOf(e)===t}function le(e,t){return e.concat(t)}function de(e){return Object.keys(e)}function ue(){if(window.googletag&&J(window.googletag.pubads)&&J(window.googletag.pubads().getSlots))return!0}var pe=ge("timeToRespond",function(e,t){return t<e}),me=ge("responseTimestamp",function(e,t){return t<e}),fe=ge("responseTimestamp",function(e,t){return e<t});function ge(n,r){return function(e,t){return e.cpm===t.cpm?r(e[n],t[n])?t:e:e.cpm<t.cpm?t:e}}function he(e){return i()(e)}function be(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}var ve=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function ye(t){return function(e){return ve(e,t)}}function Ee(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function _e(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("="),2),r=n[0],a=n[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(a)):e[r]=a||"",e},{}):{}}function Ce(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(e[t])}).join("&")}function Oe(e,t){if(e===t)return!0;if("object"!==b(e)||null===e||"object"!==b(t)||null===t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!Oe(e[n],t[n]))return!1}return!0}},1:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",function(){return S}),t.registerBidder=function(r){var n=Array.isArray(r.supportedMediaTypes)?{supportedMediaTypes:r.supportedMediaTypes}:void 0;function a(e){var t=w(e);s.default.registerBidAdapter(t,e.code,n)}a(r),Array.isArray(r.aliases)&&r.aliases.forEach(function(e){var t,n=e;Object(y.isPlainObject)(e)&&(n=e.code,t=e.gvlid),s.default.aliasRegistry[n]=r.code,a(O({},r,{code:n,gvlid:t}))})},t.newBidder=w,n.d(t,"registerSyncInner",function(){return A}),t.preloadBidderMappingFile=P,t.getIabSubCategory=function(e,t){var n=s.default.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),a=r.localStorageKey?r.localStorageKey:n.getBidderCode(),i=S.getDataFromLocalStorage(a);if(i){try{i=JSON.parse(i)}catch(t){Object(y.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return i.mapping[t]?i.mapping[t]:null}}},t.isValid=T;var r=n(90),s=n(7),c=n(3),h=n(32),l=n(43),i=n(35),o=n(36),a=n(5),b=n.n(a),d=n(8),v=n.n(d),u=n(12),p=n.n(u),m=n(4),y=n(0),f=n(2),g=n(13),E=n(9);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){return(C="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=Object(E.a)("bidderFactory"),I=["requestId","cpm","ttl","creativeId","netRevenue","currency"],k=1;function w(m){return O(new r.a(m.code),{getSpec:function(){return Object.freeze(m)},registerSyncs:f,callBids:function(i,o,e,r,s,c){var l,d,t,u,n,p;function a(){e(),v.a.emit(b.a.EVENTS.BIDDER_DONE,i),f(d,i.gdprConsent,i.uspConsent)}Array.isArray(i.bids)&&(l={},d=[],0!==(t=i.bids.filter(g)).length?(u={},t.forEach(function(e){(u[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode)}),(n=m.buildRequests(t,i))&&0!==n.length?(Array.isArray(n)||(n=[n]),p=Object(y.delayExecution)(c(a),n.length),n.forEach(function(a){switch(a.method){case"GET":r("".concat(a.url).concat((e=a.data)?"?".concat("object"===C(e)?Object(y.parseQueryStringParameters)(e):e):""),{success:c(t),error:n},void 0,O({method:"GET",withCredentials:!0},a.options));break;case"POST":r(a.url,{success:c(t),error:n},"string"==typeof a.data?a.data:JSON.stringify(a.data),O({method:"POST",contentType:"text/plain",withCredentials:!0},a.options));break;default:Object(y.logWarn)("Skipping invalid request from ".concat(m.code,". Request type ").concat(a.type," must be GET or POST")),p()}var e;function t(e,t){s(m.code);try{e=JSON.parse(e)}catch(e){}var n;e={body:e,headers:{get:t.getResponseHeader.bind(t)}},d.push(e);try{n=m.interpretResponse(e,a)}catch(e){return Object(y.logError)("Bidder ".concat(m.code," failed to interpret the server's response. Continuing without bids"),null,e),void p()}function r(e){var t,n,r,a=u[e.requestId];a?(e.originalCpm=e.cpm,e.originalCurrency=e.currency,e.meta=e.meta||O({},e[a.bidder]),t=O(Object(h.a)(b.a.STATUS.GOOD,a),e),n=a.adUnitCode,r=t,l[n]=!0,T(n,r,[i])&&o(n,r)):Object(y.logWarn)("Bidder ".concat(m.code," made bid for unknown request ID: ").concat(e.requestId,". Ignoring."))}n&&(Object(y.isArray)(n)?n.forEach(r):r(n)),p(n)}function n(e){s(m.code),Object(y.logError)("Server call for ".concat(m.code," failed: ").concat(e,". Continuing without bids.")),p()}})):a()):a())}});function f(e,t,n){A(m,e,t,n)}function g(e){return!!m.isBidRequestValid(e)||(Object(y.logWarn)("Invalid bid sent to bidder ".concat(m.code,": ").concat(JSON.stringify(e))),!1)}}var A=Object(g.b)("async",function(t,e,n,r){var a,i,o=c.b.getConfig("userSync.aliasSyncEnabled");!t.getUserSyncs||!o&&s.default.aliasRegistry[t.code]||(a=c.b.getConfig("userSync.filterSettings"),(i=t.getUserSyncs({iframeEnabled:!(!a||!a.iframe&&!a.all),pixelEnabled:!(!a||!a.image&&!a.all)},e,n,r))&&(Array.isArray(i)||(i=[i]),i.forEach(function(e){l.a.registerSync(e.type,t.code,e.url)})))},"registerSyncs");function P(e,t){if(!c.b.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter(function(e){return Object(y.deepAccess)(e,"mediaTypes.video.context")===f.a}).map(function(e){return e.bids.map(function(e){return e.bidder})}).reduce(y.flatten,[]).filter(y.uniques).forEach(function(n){var e=s.default.getBidAdapter(n);if(e.getSpec().getMappingFileInfo){var t=e.getSpec().getMappingFileInfo(),r=t.refreshInDays?t.refreshInDays:k,a=t.localStorageKey?t.localStorageKey:e.getSpec().code,i=S.getDataFromLocalStorage(a);try{(!(i=i?JSON.parse(i):void 0)||Object(y.timestamp)()>i.lastUpdated+24*r*60*60*1e3)&&Object(m.a)(t.url,{success:function(e){try{e=JSON.parse(e);var t={lastUpdated:Object(y.timestamp)(),mapping:e.mapping};S.setDataInLocalStorage(a,JSON.stringify(t))}catch(e){Object(y.logError)("Failed to parse ".concat(n," bidder translation mapping file"))}},error:function(){Object(y.logError)("Failed to load ".concat(n," bidder translation file"))}})}catch(e){Object(y.logError)("Failed to parse ".concat(n," bidder translation mapping file"))}}}),e.call(this,t)}function T(e,t,n){function r(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?(a=Object.keys(t),I.every(function(e){return p()(a,e)&&!p()([void 0,null],t[e])})?"native"!==t.mediaType||Object(i.f)(t,n)?"video"!==t.mediaType||Object(o.d)(t,n)?!("banner"===t.mediaType&&!function(e,t,n){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),1;var r=Object(y.getBidderRequest)(n,t.bidderCode,e),a=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,i=Object(y.parseSizesInput)(a);if(1===i.length){var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i[0].split("x"),2),s=o[0],c=o[1];return t.width=parseInt(s,10),t.height=parseInt(c,10),1}}(e,t,n)&&(Object(y.logError)(r("Banner bids require a width and height")),1)):(Object(y.logError)(r("Video bid does not have required vastUrl or renderer property")),!1):(Object(y.logError)(r("Native bid missing some required properties.")),!1):(Object(y.logError)(r("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):(Object(y.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):(Object(y.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var a}Object(g.a)("checkAdUnitSetup").before(P)},10:function(e,t,n){var r=n(96);e.exports=r},100:function(e,t,n){function r(e,t){var n=s[o(e)];return n==l||n!=c&&("function"==typeof t?a(t):!!t)}var a=n(28),i=/#|\.prototype\./,o=r.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=r.data={},c=r.NATIVE="N",l=r.POLYFILL="P";e.exports=r},101:function(e,t,n){var r=n(23),a=n(102),i=n(19)("species");e.exports=function(e,t){var n;return a(e)&&("function"==typeof(n=e.constructor)&&(n===Array||a(n.prototype))||r(n)&&null===(n=n[i]))&&(n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},102:function(e,t,n){var r=n(48);e.exports=Array.isArray||function(e){return"Array"==r(e)}},103:function(e,t,n){var r=n(22),a=n(29);e.exports=function(t,n){try{a(r,t,n)}catch(e){r[t]=n}return n}},104:function(e,t,n){var r=n(75);e.exports=r&&!Symbol.sham&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)},105:function(e,t,n){n(106);var r=n(52);e.exports=r("Array","includes")},106:function(e,t,n){var r=n(14),a=n(76).includes,i=n(51);r({target:"Array",proto:!0,forced:!n(60)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e,t){return a(this,e,1<arguments.length?t:void 0)}}),i("includes")},107:function(e,t,n){var r=n(58),a=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?a(n+t,0):i(n,t)}},108:function(e,t,n){n(109),n(126),n(87),n(128);var r=n(42);e.exports=r.Set},109:function(e,t,n){var r=n(110),a=n(115);e.exports=r("Set",function(t){return function(e){return t(this,arguments.length?e:void 0)}},a)},11:function(e,t,n){t.a=a,t.c=function(e){return!(!e||!e.url)},t.b=function(e,t){e.render(t)};var c=n(39),l=n(0),r=n(10),d=n.n(r),u="outstream";function a(e){var t=this,r=e.url,n=e.config,a=e.id,i=e.callback,o=e.loaded,s=e.adUnitCode;this.url=r,this.config=n,this.handlers={},this.id=a,this.loaded=o,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):l.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=i||function(){t.loaded=!0,t.process()},this.render=function(){var t,e,n;t=s,e=pbjs.adUnits,(n=d()(e,function(e){return e.code===t}))&&n.renderer&&n.renderer.url&&n.renderer.render?l.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(s)):Object(c.a)(r,u,this.callback),this._render?this._render.apply(this,arguments):l.logWarn("No render function was provided, please use .setRender on the renderer")}.bind(this)}a.install=function(e){return new a({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},a.prototype.getConfig=function(){return this.config},a.prototype.setRender=function(e){this._render=e},a.prototype.setEventHandlers=function(e){this.handlers=e},a.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),l.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(n))},a.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){l.logError("Error processing Renderer command: ",e)}}},110:function(e,t,n){var u=n(14),p=n(22),m=n(78),f=n(28),g=n(29),h=n(17),b=n(81),v=n(23),y=n(64),E=n(31).f,_=n(56).forEach,C=n(27),r=n(54),O=r.set,S=r.getterFor;e.exports=function(n,e,t){var r,o,a=-1!==n.indexOf("Map"),s=-1!==n.indexOf("Weak"),i=a?"set":"add",c=p[n],l=c&&c.prototype,d={};return C&&"function"==typeof c&&(s||l.forEach&&!f(function(){(new c).entries().next()}))?(r=e(function(e,t){O(b(e,r,n),{type:n,collection:new c}),null!=t&&h(t,e[i],e,a)}),o=S(n),_(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(a){var i="add"==a||"set"==a;a in l&&(!s||"clear"!=a)&&g(r.prototype,a,function(e,t){var n=o(this).collection;if(!i&&s&&!v(e))return"get"==a&&void 0;var r=n[a](0===e?0:e,t);return i?this:r})}),s||E(r.prototype,"size",{configurable:!0,get:function(){return o(this).collection.size}})):(r=t.getConstructor(e,n,a,i),m.REQUIRED=!0),y(r,n,!1,!0),d[n]=r,u({global:!0,forced:!0},d),s||t.setStrong(r,n,a),r}},111:function(e,t,n){var r=n(28);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},112:function(e,t,n){var r=n(63),a=n(62);e.exports=r?{}.toString:function(){return"[object "+a(this)+"]"}},113:function(e,t,n){var r=n(22),a=n(114),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(a(i))},114:function(e,t,n){var r=n(74),a=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return a.call(e)}),e.exports=r.inspectSource},115:function(e,t,n){var l=n(31).f,d=n(82),u=n(120),p=n(21),m=n(81),f=n(17),o=n(66),s=n(125),g=n(27),h=n(78).fastKey,r=n(54),b=r.set,v=r.getterFor;e.exports={getConstructor:function(e,n,r,a){function i(e,t,n){var r,a,i=c(e),o=s(e,t);return o?o.value=n:(i.last=o={index:a=h(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=o),r&&(r.next=o),g?i.size++:e.size++,"F"!==a&&(i.index[a]=o)),e}function s(e,t){var n,r=c(e),a=h(t);if("F"!==a)return r.index[a];for(n=r.first;n;n=n.next)if(n.key==t)return n}var o=e(function(e,t){m(e,o,n),b(e,{type:n,index:d(null),first:void 0,last:void 0,size:0}),g||(e.size=0),null!=t&&f(t,e[a],e,r)}),c=v(n);return u(o.prototype,{clear:function(){for(var e=c(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,g?e.size=0:this.size=0},delete:function(e){var t,n,r=c(this),a=s(this,e);return a&&(t=a.next,n=a.previous,delete r.index[a.index],a.removed=!0,n&&(n.next=t),t&&(t.previous=n),r.first==a&&(r.first=t),r.last==a&&(r.last=n),g?r.size--:this.size--),!!a},forEach:function(e,t){for(var n,r=c(this),a=p(e,1<arguments.length?t:void 0,3);n=n?n.next:r.first;)for(a(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(e){return!!s(this,e)}}),u(o.prototype,r?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),g&&l(o.prototype,"size",{get:function(){return c(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",a=v(t),i=v(r);o(e,t,function(e,t){b(this,{type:r,target:e,state:a(e),kind:t,last:void 0})},function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}},n?"entries":"values",!n,!0),s(t)}}},116:function(e,t,n){var r=n(27),o=n(31),s=n(15),c=n(117);e.exports=r?Object.defineProperties:function(e,t){s(e);for(var n,r=c(t),a=r.length,i=0;i<a;)o.f(e,n=r[i++],t[n]);return e}},117:function(e,t,n){var r=n(118),a=n(83);e.exports=Object.keys||function(e){return r(e,a)}},118:function(e,t,n){var o=n(24),s=n(47),c=n(76).indexOf,l=n(53);e.exports=function(e,t){var n,r=s(e),a=0,i=[];for(n in r)!o(l,n)&&o(r,n)&&i.push(n);for(;t.length>a;)o(r,n=t[a++])&&(~c(i,n)||i.push(n));return i}},119:function(e,t,n){var r=n(25);e.exports=r("document","documentElement")},12:function(e,t,n){var r=n(105);e.exports=r},120:function(e,t,n){var a=n(84);e.exports=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:a(e,r,t[r],n);return e}},121:function(e,t,n){function a(){return this}var i=n(85).IteratorPrototype,o=n(82),s=n(46),c=n(64),l=n(37);e.exports=function(e,t,n){var r=t+" Iterator";return e.prototype=o(i,{next:s(1,n)}),c(e,r,!1,!0),l[r]=a,e}},122:function(e,t,n){var r=n(28);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},123:function(e,t,n){var a=n(15),i=n(124);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(e){}return function(e,t){return a(e),i(t),r?n.call(e,t):e.__proto__=t,e}}():void 0)},124:function(e,t,n){var r=n(23);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},125:function(e,t,n){var r=n(25),a=n(31),i=n(19),o=n(27),s=i("species");e.exports=function(e){var t=r(e),n=a.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},126:function(e,t){},127:function(e,t,n){function r(s){return function(e,t){var n,r,a=String(l(e)),i=c(t),o=a.length;return i<0||o<=i?s?"":void 0:(n=a.charCodeAt(i))<55296||56319<n||i+1===o||(r=a.charCodeAt(i+1))<56320||57343<r?s?a.charAt(i):n:s?a.slice(i,i+2):r-56320+(n-55296<<10)+65536}}var c=n(58),l=n(49);e.exports={codeAt:r(!1),charAt:r(!0)}},128:function(e,t,n){n(129);var r=n(130),a=n(22),i=n(62),o=n(29),s=n(37),c=n(19)("toStringTag");for(var l in r){var d=a[l],u=d&&d.prototype;u&&i(u)!==c&&o(u,c,l),s[l]=s.Array}},129:function(e,t,n){var r=n(47),a=n(51),i=n(37),o=n(54),s=n(66),c="Array Iterator",l=o.set,d=o.getterFor(c);e.exports=s(Array,"Array",function(e,t){l(this,{type:c,target:r(e),index:0,kind:t})},function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},13:function(e,t,n){n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),t.d=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;0===e.getHooks({hook:t}).length&&e.before(t,n)},t.c=function(e,n){o("async",function(e){e.forEach(function(e){return n.apply(void 0,function(e){if(Array.isArray(e))return i(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e){if(e){if("string"==typeof e)return i(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var t})},e)([])},t.e=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];s(e).before(function(e,t){t.push(n),e(t)})};var r=n(161),a=n.n(r);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=a()({ready:a.a.SYNC|a.a.ASYNC|a.a.QUEUE}),s=o.get},130:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},131:function(e,t,n){n(14)({target:"Set",stat:!0},{from:n(132)})},132:function(e,t,n){var l=n(18),d=n(21),u=n(17);e.exports=function(e,t,n){var r,a,i,o,s=arguments.length,c=1<s?t:void 0;return l(this),(r=void 0!==c)&&l(c),null==e?new this:(a=[],r?(i=0,o=d(c,2<s?n:void 0,2),u(e,function(e){a.push(o(e,i++))})):u(e,a.push,a),new this(a))}},133:function(e,t,n){n(14)({target:"Set",stat:!0},{of:n(134)})},134:function(e,t,n){e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},135:function(e,t,n){var r=n(14),a=n(16),i=n(136);r({target:"Set",proto:!0,real:!0,forced:a},{addAll:function(){return i.apply(this,arguments)}})},136:function(e,t,n){var a=n(15),i=n(18);e.exports=function(){for(var e=a(this),t=i(e.add),n=0,r=arguments.length;n<r;n++)t.call(e,arguments[n]);return e}},137:function(e,t,n){var r=n(14),a=n(16),i=n(138);r({target:"Set",proto:!0,real:!0,forced:a},{deleteAll:function(){return i.apply(this,arguments)}})},138:function(e,t,n){var o=n(15),s=n(18);e.exports=function(){for(var e,t=o(this),n=s(t.delete),r=!0,a=0,i=arguments.length;a<i;a++)e=n.call(t,arguments[a]),r=r&&e;return!!r}},139:function(e,t,n){var r=n(14),a=n(16),i=n(15),o=n(21),s=n(34),c=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{every:function(e,t){var n=i(this),r=s(n),a=o(e,1<arguments.length?t:void 0,3);return!c(r,function(e){if(!a(e,e,n))return c.stop()},void 0,!1,!0).stopped}})},14:function(e,t,n){function b(r){function e(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)}return e.prototype=r.prototype,e}var v=n(22),y=n(98).f,E=n(100),_=n(42),C=n(21),O=n(29),S=n(24);e.exports=function(e,t){var n,r,a,i,o,s,c,l,d=e.target,u=e.global,p=e.stat,m=e.proto,f=u?v:p?v[d]:(v[d]||{}).prototype,g=u?_:_[d]||(_[d]={}),h=g.prototype;for(a in t)n=!E(u?a:d+(p?".":"#")+a,e.forced)&&f&&S(f,a),o=g[a],n&&(s=e.noTargetGet?(l=y(f,a))&&l.value:f[a]),i=n&&s?s:t[a],n&&_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(o)==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(i)||(c=e.bind&&n?C(i,v):e.wrap&&n?b(i):m&&"function"==typeof i?C(Function.call,i):i,(e.sham||i&&i.sham||o&&o.sham)&&O(c,"sham",!0),g[a]=c,m&&(S(_,r=d+"Prototype")||O(_,r,{}),_[r][a]=i,e.real&&h&&!h[a]&&O(h,a,i)))}},140:function(e,t,n){var r=n(14),a=n(16),i=n(25),o=n(15),s=n(18),c=n(38),l=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{difference:function(e){var t=o(this),n=new(c(t,i("Set")))(t),r=s(n.delete);return l(e,function(e){r.call(n,e)}),n}})},141:function(e,t,n){var r=n(14),a=n(16),s=n(25),c=n(15),l=n(18),d=n(21),u=n(38),p=n(34),m=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{filter:function(e,t){var n=c(this),r=p(n),a=d(e,1<arguments.length?t:void 0,3),i=new(u(n,s("Set"))),o=l(i.add);return m(r,function(e){a(e,e,n)&&o.call(i,e)},void 0,!1,!0),i}})},142:function(e,t,n){var r=n(14),a=n(16),i=n(15),o=n(21),s=n(34),c=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{find:function(e,t){var n=i(this),r=s(n),a=o(e,1<arguments.length?t:void 0,3);return c(r,function(e){if(a(e,e,n))return c.stop(e)},void 0,!1,!0).result}})},143:function(e,t,n){var r=n(14),a=n(16),i=n(25),o=n(15),s=n(18),c=n(38),l=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{intersection:function(e){var t=o(this),n=new(c(t,i("Set"))),r=s(t.has),a=s(n.add);return l(e,function(e){r.call(t,e)&&a.call(n,e)}),n}})},144:function(e,t,n){var r=n(14),a=n(16),i=n(15),o=n(18),s=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{isDisjointFrom:function(e){var t=i(this),n=o(t.has);return!s(e,function(e){if(!0===n.call(t,e))return s.stop()}).stopped}})},145:function(e,t,n){var r=n(14),a=n(16),i=n(25),o=n(15),s=n(18),c=n(88),l=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{isSubsetOf:function(e){var t=c(this),n=o(e),r=n.has;return"function"!=typeof r&&(n=new(i("Set"))(e),r=s(n.has)),!l(t,function(e){if(!1===r.call(n,e))return l.stop()},void 0,!1,!0).stopped}})},146:function(e,t,n){var r=n(14),a=n(16),i=n(15),o=n(18),s=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{isSupersetOf:function(e){var t=i(this),n=o(t.has);return!s(e,function(e){if(!1===n.call(t,e))return s.stop()}).stopped}})},147:function(e,t,n){var r=n(14),a=n(16),i=n(15),o=n(34),s=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{join:function(e){var t=i(this),n=o(t),r=void 0===e?",":String(e),a=[];return s(n,a.push,a,!1,!0),a.join(r)}})},148:function(e,t,n){var r=n(14),a=n(16),s=n(25),c=n(15),l=n(18),d=n(21),u=n(38),p=n(34),m=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{map:function(e,t){var n=c(this),r=p(n),a=d(e,1<arguments.length?t:void 0,3),i=new(u(n,s("Set"))),o=l(i.add);return m(r,function(e){o.call(i,a(e,e,n))},void 0,!1,!0),i}})},149:function(e,t,n){var r=n(14),a=n(16),o=n(15),s=n(18),c=n(34),l=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{reduce:function(t,e){var n=o(this),r=c(n),a=arguments.length<2,i=a?void 0:e;if(s(t),l(r,function(e){i=a?(a=!1,e):t(i,e,e,n)},void 0,!1,!0),a)throw TypeError("Reduce of empty set with no initial value");return i}})},15:function(e,t,n){var r=n(23);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},150:function(e,t,n){var r=n(14),a=n(16),i=n(15),o=n(21),s=n(34),c=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{some:function(e,t){var n=i(this),r=s(n),a=o(e,1<arguments.length?t:void 0,3);return c(r,function(e){if(a(e,e,n))return c.stop()},void 0,!1,!0).stopped}})},151:function(e,t,n){var r=n(14),a=n(16),i=n(25),o=n(15),s=n(18),c=n(38),l=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{symmetricDifference:function(e){var t=o(this),n=new(c(t,i("Set")))(t),r=s(n.delete),a=s(n.add);return l(e,function(e){r.call(n,e)||a.call(n,e)}),n}})},152:function(e,t,n){var r=n(14),a=n(16),i=n(25),o=n(15),s=n(18),c=n(38),l=n(17);r({target:"Set",proto:!0,real:!0,forced:a},{union:function(e){var t=o(this),n=new(c(t,i("Set")))(t);return l(e,s(n.add),n),n}})},153:function(e,t,n){n(87),n(154);var r=n(42);e.exports=r.Array.from},154:function(e,t,n){var r=n(14),a=n(155);r({target:"Array",stat:!0,forced:!n(157)(function(e){Array.from(e)})},{from:a})},155:function(e,t,n){var h=n(21),b=n(57),v=n(80),y=n(79),E=n(50),_=n(156),C=n(61);e.exports=function(e,t,n){var r,a,i,o,s,c,l=b(e),d="function"==typeof this?this:Array,u=arguments.length,p=1<u?t:void 0,m=void 0!==p,f=C(l),g=0;if(m&&(p=h(p,2<u?n:void 0,2)),null==f||d==Array&&y(f))for(a=new d(r=E(l.length));g<r;g++)c=m?p(l[g],g):l[g],_(a,g,c);else for(s=(o=f.call(l)).next,a=new d;!(i=s.call(o)).done;g++)c=m?v(o,p,[i.value,g],!0):i.value,_(a,g,c);return a.length=g,a}},156:function(e,t,n){var a=n(55),i=n(31),o=n(46);e.exports=function(e,t,n){var r=a(t);r in e?i.f(e,r,o(0,n)):e[r]=n}},157:function(e,t,n){var a=n(19)("iterator"),i=!1;try{var r=0,o={next:function(){return{done:!!r++}},return:function(){i=!0}};o[a]=function(){return this},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r={};r[a]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},158:function(e,t){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var a=t[r];n[r]=a&&"object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(a)?e(a):a}return n}},159:function(e,t,n){t.a=function(e,t,n,r,a){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:a;return e===a?n:e}},16:function(e,t){e.exports=!0},160:function(e,t,n){t.a=function(e,t,n){t.split&&(t=t.split("."));for(var r,a=0,i=t.length,o=e;a<i;++a)r=o[t[a]],o=o[t[a]]=a===i-1?n:null!=r?r:!~t[a+1].indexOf(".")&&-1<+t[a+1]?[]:{}}},161:function(e,t){v.SYNC=1,v.ASYNC=2,v.QUEUE=4;var f="fun-hooks",n=Object.freeze({useProxy:!0,ready:0}),g=new WeakMap,r="2,1,0"===[1].reduce(function(e,t,n){return[e,t,n]},2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),a=r.length>>>0,i=0;if(t)n=t;else{for(;i<a&&!(i in r);)i++;n=r[i++]}for(;i<a;)i in r&&(n=e(n,r[i],i,r)),i++;return n};function h(e,t){return Array.prototype.slice.call(e,t)}var b=Object.assign||function(e){return r.call(h(arguments,1),function(t,n){return n&&Object.keys(n).forEach(function(e){t[e]=n[e]}),t},e)};function v(c){var l,e={},d=[];function t(e,t){return"function"==typeof e?u.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?u.apply(null,arguments):"object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)?function(i,e,o){var t=!0;void 0===e&&(e=Object.getOwnPropertyNames(i),t=!1);for(var s={},n=["constructor"];(e=e.filter(function(e){return!("function"!=typeof i[e]||-1!==n.indexOf(e)||e.match(/^_/))})).forEach(function(e){var t,n=e.split(":"),r=n[0],a=n[1]||"sync";s[r]||(t=i[r],s[r]=i[r]=u(a,t,o?[o,r]:void 0))}),i=Object.getPrototypeOf(i),t&&i;);return s}.apply(null,arguments):void 0}function p(i){var o=Array.isArray(i)?i:i.split(".");return r.call(o,function(t,n,e){var r=t[n],a=!1;return r||(e===o.length-1?(l||d.push(function(){a||console.warn(f+": referenced '"+i+"' but it was never created")}),t[n]=m(function(e){t[n]=e,a=!0})):t[n]={})},e)}function m(r){var i=[],o=[],s=function(){},e={before:function(e,t){return n.call(this,i,"before",e,t)},after:function(e,t){return n.call(this,o,"after",e,t)},getHooks:function(n){var e=i.concat(o);"object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(n)&&(e=e.filter(function(t){return Object.keys(n).every(function(e){return t[e]===n[e]})}));try{b(e,{remove:function(){return e.forEach(function(e){e.remove()}),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return e},removeAll:function(){return this.getHooks().remove()}},t={install:function(e,t,n){this.type=e,(s=n)(i,o),r&&r(t)}};return g.set(e.after,t),e;function n(t,e,n,r){var a={hook:n,type:e,priority:r||10,remove:function(){var e=t.indexOf(a);-1!==e&&(t.splice(e,1),s(i,o))}};return t.push(a),t.sort(function(e,t){return t.priority-e.priority}),s(i,o),this}}function u(u,e,t){var n=e.after&&g.get(e.after);if(n){if(n.type!==u)throw f+": recreated hookable with different type";return e}var r,a,i=t?p(t):m(),o={get:function(e,t){return i[t]||Reflect.get.apply(Reflect,arguments)}};return l||d.push(s),c.useProxy&&"function"==typeof Proxy&&Proxy.revocable?a=new Proxy(e,o):b(a=function(){return o.apply?o.apply(e,this,h(arguments)):e.apply(this,arguments)},i),g.get(a.after).install(u,a,function(e,t){var l,d=[];function n(e){d.push(e.hook)}r=e.length||t.length?(e.forEach(n),l=d.push(void 0)-1,t.forEach(n),function(n,r,e){var a,i=0,o="async"===u&&"function"==typeof e[e.length-1]&&e.pop();function s(e){"sync"===u?a=e:o&&o.apply(null,arguments)}function c(e){if(d[i]){var t=h(arguments);return c.bail=s,t.unshift(c),d[i++].apply(r,t)}"sync"===u?a=e:o&&o.apply(null,arguments)}return d[l]=function(){var e=h(arguments,1);"async"===u&&o&&(delete c.bail,e.push(c));var t=n.apply(r,e);"sync"===u&&c(t)},c.apply(null,e),a}):void 0,s()}),a;function s(){!l&&("sync"!==u||c.ready&v.SYNC)&&("async"!==u||c.ready&v.ASYNC)?"sync"!==u&&c.ready&v.QUEUE?o.apply=function(){var e=arguments;d.push(function(){a.apply(e[1],e[2])})}:o.apply=function(){throw f+": hooked function not ready"}:o.apply=r}}return(c=b({},n,c)).ready?t.ready=function(){l=!0,function(e){for(var t;t=e.shift();)t()}(d)}:l=!0,t.get=p,t}e.exports=v},17:function(e,t,n){function m(e,t){this.stopped=e,this.result=t}var f=n(15),g=n(79),h=n(50),b=n(21),v=n(61),y=n(80);(e.exports=function(e,t,n,r,a){var i,o,s,c,l,d,u,p=b(t,n,r?2:1);if(a)i=e;else{if("function"!=typeof(o=v(e)))throw TypeError("Target is not iterable");if(g(o)){for(s=0,c=h(e.length);s<c;s++)if((l=r?p(f(u=e[s])[0],u[1]):p(e[s]))&&l instanceof m)return l;return new m(!1)}i=o.call(e)}for(d=i.next;!(u=d.call(i)).done;)if("object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(l=y(i,p,u.value,r))&&l&&l instanceof m)return l;return new m(!1)}).stop=function(e){return new m(!0,e)}},18:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},19:function(e,t,n){var r=n(22),a=n(73),i=n(24),o=n(59),s=n(75),c=n(104),l=a("wks"),d=r.Symbol,u=c?d:d&&d.withoutSetter||o;e.exports=function(e){return i(l,e)||(s&&i(d,e)?l[e]=d[e]:l[e]=u("Symbol."+e)),l[e]}},2:function(e,t,n){n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r="native",a="video",i="banner",o="adpod"},20:function(e,t,n){t.a=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},21:function(e,t,n){var i=n(18);e.exports=function(r,a,e){if(i(r),void 0===a)return r;switch(e){case 0:return function(){return r.call(a)};case 1:return function(e){return r.call(a,e)};case 2:return function(e,t){return r.call(a,e,t)};case 3:return function(e,t,n){return r.call(a,e,t,n)}}return function(){return r.apply(a,arguments)}}},215:function(e,t,n){n(216);var r=n(52);e.exports=r("Array","findIndex")},216:function(e,t,n){var r=n(14),a=n(56).findIndex,i=n(51),o=n(60),s="findIndex",c=!0,l=o(s);s in[]&&Array(1)[s](function(){c=!1}),r({target:"Array",proto:!0,forced:c||!l},{findIndex:function(e,t){return a(this,e,1<arguments.length?t:void 0)}}),i(s)},22:function(n,e,t){(function(e){function t(e){return e&&e.Math==Math&&e}n.exports=t("object"==("undefined"==typeof globalThis?"undefined":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(globalThis))&&globalThis)||t("object"==("undefined"==typeof window?"undefined":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(window))&&window)||t("object"==("undefined"==typeof self?"undefined":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(self))&&self)||t("object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)&&e)||Function("return this")()}).call(e,t(33))},223:function(e,t,n){t.a=function(){window.addEventListener("message",s,!1)};var r=n(8),y=n.n(r),E=n(35),a=n(5),_=(n.n(a),n(0)),C=n(26),i=n(10),O=n.n(i),S=n(11),o=n(12),I=n.n(o),k=a.EVENTS.BID_WON;function s(e){var t,n,r,a,i,o,s,c,l,d,u,p,m,f,g=e.message?"message":"data",h={};try{h=JSON.parse(e[g])}catch(e){return}if(h&&h.adId){var b=O()(C.a.getBidsReceived(),function(e){return e.adId===h.adId});if(b&&"Prebid Request"===h.message&&(n=e,r=(t=b).adId,a=t.ad,i=t.adUrl,o=t.width,s=t.height,c=t.renderer,l=t.cpm,Object(S.c)(c)?Object(S.b)(c,t):r&&(u=(d=t).adId,p=d.adUnitCode,m=d.width,f=d.height,["div","iframe"].forEach(function(e){var t,n=function(e){var t,n,r,a,i,o=(t=u,n=p,window.googletag?(i=t,O()(window.googletag.pubads().getSlots(),function(t){return O()(t.getTargetingKeys(),function(e){return I()(t.getTargeting(e),i)})}).getSlotElementId()):window.apntag?(r=n,(a=window.apntag.getTag(r))&&a.targetId):n),s=document.getElementById(o);return s&&s.querySelector(e)}(e+':not([style*="display: none"])');n?((t=n.style).width=m+"px",t.height=f+"px"):Object(_.logWarn)("Unable to locate matching page element for adUnitCode ".concat(p,".  Can't resize it to ad's dimensions.  Please review setup."))}),n.source.postMessage(JSON.stringify({message:"Prebid Response",ad:Object(_.replaceAuctionPrice)(a,l),adUrl:Object(_.replaceAuctionPrice)(i,l),adId:r,width:o,height:s}),n.origin)),C.a.addWinningBid(b),y.a.emit(k,b)),b&&"Prebid Native"===h.message){if("assetRequest"===h.action){var v=Object(E.c)(h,b);return void e.source.postMessage(JSON.stringify(v),e.origin)}if("click"===Object(E.b)(h,b))return;C.a.addWinningBid(b),y.a.emit(k,b)}}}},224:function(e,t,n){t.a=function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(c))}catch(e){}t&&p(t,!0)};var r,a,i=n(3),o=n(0),s=n(40),c="pbjs:debugging";function l(e){Object(o.logMessage)("DEBUG: "+e)}function d(e){Object(o.logWarn)("DEBUG: "+e)}function u(){s.c.getHooks({hook:r}).remove(),s.e.getHooks({hook:a}).remove()}function p(e,t){var n=1<arguments.length&&void 0!==t&&t;i.b.setConfig({debug:!0}),u(),function(e){r=function(e,t,n){f(this.bidders,n.bidderCode)?d("bidder '".concat(n.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(this.bids)&&this.bids.forEach(function(e){m(e,n.bidderCode,t)||g(e,n,"bidder")}),e(t,n))}.bind(e),s.c.before(r,5),a=function(e,t){var r=this,n=t.filter(function(e){return!f(r.bidders,e.bidderCode)||(d("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)});Array.isArray(r.bidRequests)&&n.forEach(function(n){r.bidRequests.forEach(function(t){n.bids.forEach(function(e){m(t,n.bidderCode,e.adUnitCode)||g(t,e,"bidRequest")})})}),e(n)}.bind(e),s.e.before(a,5)}(e),l("bidder overrides enabled".concat(n?" from session":""))}function m(e,t,n){return e.bidder&&e.bidder!==t||!(!e.adUnitCode||e.adUnitCode===n)}function f(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function g(n,e,r){return Object.keys(n).filter(function(e){return-1===["adUnitCode","bidder"].indexOf(e)}).reduce(function(e,t){return l("bidder overrides changed '".concat(e.adUnitCode,"/").concat(e.bidderCode,"' ").concat(r,".").concat(t," from '").concat(e[t],".js' to '").concat(n[t],"'")),e[t]=n[t],e},e)}i.b.getConfig("debugging",function(e){return function(e){if(e.enabled){try{window.sessionStorage.setItem(c,JSON.stringify(e))}catch(e){}p(e)}else{u(),l("bidder overrides disabled");try{window.sessionStorage.removeItem(c)}catch(e){}}}(e.debugging)})},23:function(e,t){e.exports=function(e){return"object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)?null!==e:"function"==typeof e}},24:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},25:function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var a=n(42),i=n(22);e.exports=function(e,t){return arguments.length<2?r(a[e])||r(i[e]):a[e]&&a[e][t]||i[e]&&i[e][t]}},26:function(e,t,n){n.d(t,"a",function(){return c});var l,a,r=n(0),d=n(40),i=n(10),o=n.n(i),s=n(5),c=(l=[],(a={}).addWinningBid=function(t){var e=o()(l,function(e){return e.getAuctionId()===t.auctionId});e?(t.status=s.BID_STATUS.RENDERED,e.addWinningBid(t)):Object(r.logWarn)("Auction not found when adding winning bid")},a.getAllWinningBids=function(){return l.map(function(e){return e.getWinningBids()}).reduce(r.flatten,[])},a.getBidsRequested=function(){return l.map(function(e){return e.getBidRequests()}).reduce(r.flatten,[])},a.getNoBids=function(){return l.map(function(e){return e.getNoBids()}).reduce(r.flatten,[])},a.getBidsReceived=function(){return l.map(function(e){if(e.getAuctionStatus()===d.a)return e.getBidsReceived()}).reduce(r.flatten,[]).filter(function(e){return e})},a.getAdUnits=function(){return l.map(function(e){return e.getAdUnits()}).reduce(r.flatten,[])},a.getAdUnitCodes=function(){return l.map(function(e){return e.getAdUnitCodes()}).reduce(r.flatten,[]).filter(r.uniques)},a.createAuction=function(e){var t,n=e.adUnits,r=e.adUnitCodes,a=e.callback,i=e.cbTimeout,o=e.labels,s=e.auctionId,c=Object(d.k)({adUnits:n,adUnitCodes:r,callback:a,cbTimeout:i,labels:o,auctionId:s});return t=c,l.push(t),c},a.findBidByAdId=function(t){return o()(l.map(function(e){return e.getBidsReceived()}).reduce(r.flatten,[]),function(e){return e.adId===t})},a.getStandardBidderAdServerTargeting=function(){return Object(d.j)()[s.JSON_MAPPING.ADSERVER_TARGETING]},a.setStatusForBids=function(e,t){var n,r=a.findBidByAdId(e);r&&(r.status=t),!r||t!==s.BID_STATUS.BID_TARGETING_SET||(n=o()(l,function(e){return e.getAuctionId()===r.auctionId}))&&n.setBidTargeting(r)},a.getLastAuctionId=function(){return l.length&&l[l.length-1].getAuctionId()},a)},27:function(e,t,n){var r=n(28);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},28:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},29:function(e,t,n){var r=n(27),a=n(31),i=n(46);e.exports=r?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},3:function(e,t,n){n.d(t,"a",function(){return b}),n.d(t,"b",function(){return k});var r=n(45),a=n(10),o=n.n(a),i=n(12),s=n.n(i),c=n(77),l=n.n(c),d=n(0);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=n(89),m=n(0),f=n(5),g="TRUE"===m.getParameterByName(f.DEBUG_MODE).toUpperCase(),h=window.location.origin,b="random",v={};v[b]=!0,v.fixed=!0;var y,E,_,C,O,S=b,I={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},k=(C=[],O=null,w(),{getCurrentBidder:function(){return O},getConfig:function(e){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:e)){var t=arguments.length<=0?void 0:e;return t?m.deepAccess(A(),t):A()}return function(e,t){var n=t;if("string"!=typeof e&&(n=e,e="*"),"function"==typeof n){var r={topic:e,callback:n};return C.push(r),function(){C.splice(C.indexOf(r),1)}}m.logError("listener must be a function")}.apply(void 0,arguments)},setConfig:function(n){var e,r;m.isPlainObject(n)?(e=Object.keys(n),r={},e.forEach(function(e){var t=n[e];m.isPlainObject(y[e])&&m.isPlainObject(t)&&(t=u({},y[e],t)),r[e]=E[e]=t}),P(r)):m.logError("setConfig options must be an object")},setDefaults:function(e){m.isPlainObject(y)?(u(y,e),u(E,e)):m.logError("defaults must be an object")},resetConfig:w,runWithBidder:T,callbackWithBidder:function(i){return function(a){return function(){if("function"==typeof a){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(i,(e=m.bind).call.apply(e,[a,this].concat(n)))}m.logWarn("config.callbackWithBidder callback is not a function")}}},setBidderConfig:function(r){try{!function(e){if(!m.isPlainObject(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!m.isPlainObject(e.config))throw"setBidderConfig bidder options must contain a config object"}(r),r.bidders.forEach(function(n){_[n]||(_[n]={}),Object.keys(r.config).forEach(function(e){var t=r.config[e];m.isPlainObject(t)?_[n][e]=u({},_[n][e]||{},t):_[n][e]=t})})}catch(e){m.logError(e)}},getBidderConfig:function(){return _}});function w(){y={};var n=Object.defineProperties({_debug:g,_bidderTimeout:3e3,_publisherDomain:h,_priceGranularity:I.MEDIUM,_customPriceBucket:{},_mediaTypePriceGranularity:{},_sendAllBids:!0,_useBidCache:!1,_deviceAccess:!0,_bidderSequence:S,_timeoutBuffer:400,_disableAjaxTimeout:!1},{debug:{get:function(){return this._debug},set:function(e){this._debug=e},configurable:!0,enumerable:!0},bidderTimeout:{get:function(){return this._bidderTimeout},set:function(e){this._bidderTimeout=e},configurable:!0,enumerable:!0},publisherDomain:{get:function(){return this._publisherDomain},set:function(e){this._publisherDomain=e},configurable:!0,enumerable:!0},priceGranularity:{set:function(e){i(e)&&("string"==typeof e?this._priceGranularity=a(e)?e:I.MEDIUM:m.isPlainObject(e)&&(this._customPriceBucket=e,this._priceGranularity=I.CUSTOM,m.logMessage("Using custom price granularity")))},get:function(){return this._priceGranularity},configurable:!0,enumerable:!0},customPriceBucket:{get:function(){return this._customPriceBucket},configurable:!0,enumerable:!0},mediaTypePriceGranularity:{get:function(){return this._mediaTypePriceGranularity},set:function(n){var r=this;this._mediaTypePriceGranularity=Object.keys(n).reduce(function(e,t){return i(n[t])?"string"==typeof n?e[t]=a(n[t])?n[t]:r._priceGranularity:m.isPlainObject(n)&&(e[t]=n[t],m.logMessage("Using custom price granularity for ".concat(t))):m.logWarn("Invalid price granularity for media type: ".concat(t)),e},{})},configurable:!0,enumerable:!0},enableSendAllBids:{get:function(){return this._sendAllBids},set:function(e){this._sendAllBids=e},configurable:!0,enumerable:!0},useBidCache:{get:function(){return this._useBidCache},set:function(e){this._useBidCache=e},configurable:!0,enumerable:!0},deviceAccess:{get:function(){return this._deviceAccess},set:function(e){this._deviceAccess=e},configurable:!0,enumerable:!0},bidderSequence:{get:function(){return this._bidderSequence},set:function(e){v[e]?this._bidderSequence=e:m.logWarn("Invalid order: ".concat(e,". Bidder Sequence was not set."))},configurable:!0,enumerable:!0},timeoutBuffer:{get:function(){return this._timeoutBuffer},set:function(e){this._timeoutBuffer=e},configurable:!0,enumerable:!0},disableAjaxTimeout:{get:function(){return this._disableAjaxTimeout},set:function(e){this._disableAjaxTimeout=e},configurable:!0,enumerable:!0}});function a(t){return o()(Object.keys(I),function(e){return t===I[e]})}function i(e){if(e){if("string"==typeof e)a(e)||m.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(m.isPlainObject(e)&&!Object(r.b)(e))return void m.logError("Invalid custom price value passed to `setPriceGranularity()`");return 1}m.logError("Prebid Error: no value passed to `setPriceGranularity()`")}E&&P(Object.keys(E).reduce(function(e,t){return E[t]!==n[t]&&(e[t]=n[t]||{}),e},{})),E=n,_={}}function A(){if(O&&_&&m.isPlainObject(_[O])){var n=_[O],e=new l.a(Object.keys(E).concat(Object.keys(n)));return p(e).reduce(function(e,t){return void 0===n[t]?e[t]=E[t]:void 0!==E[t]&&m.isPlainObject(n[t])?e[t]=Object(d.mergeDeep)({},E[t],n[t]):e[t]=n[t],e},{})}return u({},E)}function P(a){var t=Object.keys(a);C.filter(function(e){return s()(t,e.topic)}).forEach(function(e){var t,n,r;e.callback((t={},n=e.topic,r=a[e.topic],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}),C.filter(function(e){return"*"===e.topic}).forEach(function(e){return e.callback(a)})}function T(e,t){O=e;try{return t()}finally{O=null}}},30:function(e,t,n){n.d(t,"a",function(){return r});var i=n(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s,r=(s=window,function(){try{var e,t=function(){var e=function(){var e,t=[];do{try{e=e?e.parent:s;try{var n=e==s.top,r={referrer:e.document.referrer||null,location:e.location.href||null,isTop:n};n&&(r=o(r,{canonicalUrl:function(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}(e.document)})),t.push(r)}catch(n){t.push({referrer:null,location:null,isTop:e==s.top}),Object(i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location")}}catch(n){return t.push({referrer:null,location:null,isTop:!1}),t}}while(e!=s.top);return t}(),t=function(){try{if(!s.location.ancestorOrigins)return;return s.location.ancestorOrigins}catch(e){}}();if(t)for(var n=0,r=t.length;n<r;n++)e[n].ancestor=t[n];return e}(),n=t.length-1,r=null!==t[n].location||0<n&&null!==t[n-1].referrer,a=function(e){for(var t,n=[],r=null,a=null,i=null,o=null,s=e.length-1;0<=s;s--){try{r=e[s].location}catch(e){}if(r)n.push(r),o=o||r;else if(0!==s){t=e[s-1];try{a=t.referrer,i=t.ancestor}catch(e){}a?(n.push(a),o=o||a):i?(n.push(i),o=o||i):n.push(null)}else n.push(null)}return{stack:n,detectedRefererUrl:o}}(t);return t[t.length-1].canonicalUrl&&(e=t[t.length-1].canonicalUrl),{referer:a.detectedRefererUrl,reachedTop:r,numIframes:n,stack:a.stack,canonicalUrl:e}}catch(e){}})},31:function(e,t,n){var r=n(27),a=n(71),i=n(15),o=n(55),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=o(t,!0),i(n),a)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},32:function(e,t,n){t.a=function(e,t){return new r(e,t)};var a=n(0);function r(e,t){var n=t&&t.src||"client",r=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(r){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=a.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=n,this.getStatusCode=function(){return r},this.getSize=function(){return this.width+"x"+this.height}}},33:function(e,t){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(window))&&(n=window)}e.exports=n},339:function(e,t,n){var r=n(340);e.exports=r},34:function(e,t,n){var r=n(16),a=n(88);e.exports=r?a:function(e){return Set.prototype.values.call(e)}},340:function(e,t,n){n(341);var r=n(52);e.exports=r("String","includes")},341:function(e,t,n){var r=n(14),a=n(342),i=n(49);r({target:"String",proto:!0,forced:!n(344)("includes")},{includes:function(e,t){return!!~String(i(this)).indexOf(a(e),1<arguments.length?t:void 0)}})},342:function(e,t,n){var r=n(343);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},343:function(e,t,n){var r=n(23),a=n(48),i=n(19)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},344:function(e,t,n){var r=n(19)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,"/./"[t](n)}catch(e){}}return!1}},35:function(e,t,n){n.d(t,"e",function(){return i}),n.d(t,"a",function(){return l}),t.g=function(e){return e&&e.type&&((t=e.type)&&s()(Object.keys(d),t)||(Object(o.logError)("".concat(t," nativeParam is not supported")),0))?d[e.type]:e;var t},t.f=function(t,e){var n=Object(o.getBidRequest)(t.requestId,e);if(!n)return!1;if(!Object(o.deepAccess)(t,"native.clickUrl"))return!1;if(Object(o.deepAccess)(t,"native.image")&&(!Object(o.deepAccess)(t,"native.image.height")||!Object(o.deepAccess)(t,"native.image.width")))return!1;if(Object(o.deepAccess)(t,"native.icon")&&(!Object(o.deepAccess)(t,"native.icon.height")||!Object(o.deepAccess)(t,"native.icon.width")))return!1;var r=n.nativeParams;if(!r)return!0;var a=Object.keys(r).filter(function(e){return r[e].required}),i=Object.keys(t.native).filter(function(e){return t.native[e]});return a.every(function(e){return s()(i,e)})},t.b=function(e,t){var n;return"click"===e.action?n=t.native&&t.native.clickTrackers:(n=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&Object(o.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(n||[]).forEach(o.triggerPixel),e.action},t.d=function(r,a){var i={};return Object.keys(r.native).forEach(function(e){var t=c.NATIVE_KEYS[e],n=u(r.native[e]);Object(o.deepAccess)(a,"mediaTypes.native.".concat(e,".sendId"))&&(n="".concat(t,":").concat(r.adId)),t&&n&&(i[t]=n)}),i},t.c=function(e,r){var a={message:"assetResponse",adId:e.adId,assets:[]};return e.assets.forEach(function(e){var t=Object(o.getKeyByValue)(c.NATIVE_KEYS,e),n=u(r.native[t]);a.assets.push({key:t,value:n})}),a};var o=n(0),r=n(12),s=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}var c=n(5),i=[],l=Object.keys(c.NATIVE_KEYS).map(function(e){return c.NATIVE_KEYS[e]}),d={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function u(e){return"object"===a(e)&&e.url?e.url:e}},36:function(e,t,n){n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c}),t.d=function(e,t){var n=Object(i.getBidRequest)(e.requestId,t),r=n&&Object(i.deepAccess)(n,"mediaTypes.video"),a=r&&Object(i.deepAccess)(r,"context");return l(e,n,r,a)},n.d(t,"c",function(){return l}),n(7);var i=n(0),a=n(3),r=n(12),o=(n.n(r),n(13)),s="outstream",c="instream",l=Object(o.b)("sync",function(e,t,n,r){return!t||n&&r!==s?a.b.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(i.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):r!==s||!(!e.renderer&&!t.renderer)},"checkVideoBidSetup")},37:function(e,t){e.exports={}},38:function(e,t,n){var a=n(15),i=n(18),o=n(19)("species");e.exports=function(e,t){var n,r=a(e).constructor;return void 0===r||null==(n=a(r)[o])?t:i(n)}},39:function(e,t,n){t.a=function(t,e,n){var r,a,i;if(e&&t){if(o()(l,e))return c[t]?(n&&"function"==typeof n&&(c[t].loaded?n():c[t].callbacks.push(n)),c[t].tag):(c[t]={loaded:!1,tag:null,callbacks:[]},n&&"function"==typeof n&&c[t].callbacks.push(n),s.logWarn("module ".concat(e," is loading external JavaScript")),r=t,a=function(){c[t].loaded=!0;try{for(var e=0;e<c[t].callbacks.length;e++)c[t].callbacks[e]()}catch(e){s.logError("Error executing callback","adloader.js:loadExternalScript",e)}},(i=document.createElement("script")).type="text/javascript",i.async=!0,(c[t].tag=i).readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,a())}:i.onload=function(){a()},i.src=r,s.insertElement(i),i);s.logError("".concat(e," not whitelisted for loading external JavaScript"))}else s.logError("cannot load external script without url and moduleCode")};var r=n(12),o=n.n(r),s=n(0),c={},l=["criteo","outstream","adagio","browsi"]},4:function(e,t,n){n.d(t,"a",function(){return r}),t.b=a;var p=n(3);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return(f="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}var g=n(0),h=4,r=a();function a(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=e.request,u=e.done;return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var a,i=r.method||(n?"POST":"GET"),o=document.createElement("a");o.href=e;var s,c="object"===f(t)&&null!==t?t:{success:function(){g.logMessage("xhr success")},error:function(e){g.logError("xhr error",null,e)}};"function"==typeof t&&(c.success=t),(a=new window.XMLHttpRequest).onreadystatechange=function(){var e;a.readyState===h&&("function"==typeof u&&u(o.origin),200<=(e=a.status)&&e<300||304===e?c.success(a.responseText,a):c.error(a.statusText,a))},p.b.getConfig("disableAjaxTimeout")||(a.ontimeout=function(){g.logError("  xhr timeout after ",a.timeout,"ms")}),"GET"===i&&n&&(m((s=g.parseUrl(e,r)).search,n),e=g.buildUrl(s)),a.open(i,e,!0),p.b.getConfig("disableAjaxTimeout")||(a.timeout=l),r.withCredentials&&(a.withCredentials=!0),g._each(r.customHeaders,function(e,t){a.setRequestHeader(t,e)}),r.preflight&&a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type",r.contentType||"text/plain"),"function"==typeof d&&d(o.origin),"POST"===i&&n?a.send(n):a.send()}catch(e){g.logError("xhr construction",e)}}}},40:function(e,t,n){n.d(t,"b",function(){return F}),n.d(t,"a",function(){return W}),t.k=function(e){var t,a,g,h,i=e.adUnits,n=e.adUnitCodes,r=e.callback,o=e.cbTimeout,s=e.labels,c=e.auctionId,b=i,l=s,d=n,u=[],p=[],m=[],f=c||M.generateUUID(),v=r,y=o,E=[],_=new Set;function C(){return{auctionId:f,timestamp:t,auctionEnd:a,auctionStatus:g,adUnits:b,adUnitCodes:d,labels:l,bidderRequests:u,noBids:m,bidsReceived:p,winningBids:E,timeout:y}}function O(n,e){var r,t;e&&clearTimeout(h),void 0===a&&(r=[],n&&(M.logMessage("Auction ".concat(f," timedOut")),t=_,(r=u.map(function(e){return(e.bids||[]).filter(function(e){return!t.has(e.bidder)})}).reduce(w.flatten,[]).map(function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}})).length&&B.emit(U.EVENTS.BID_TIMEOUT,r)),g=W,a=Date.now(),B.emit(U.EVENTS.AUCTION_END,C()),J(b,function(){try{var e;null!=v&&(e=p.filter(M.bind.call(w.adUnitsFilter,this,d)).reduce($,{}),v.apply(pbjs,[e,n,f]),v=null)}catch(e){M.logError("Error executing bidsBackHandler",null,e)}finally{r.length&&R.callTimedOutBidders(i,r,y);var t=T.b.getConfig("userSync")||{};t.enableOverride||q(t.syncDelay)}}))}function S(){M.logInfo("Bids Received for Auction with id: ".concat(f),p),g=W,O(!1,!0)}function I(e){_.add(e)}function k(o){var s=this;o.forEach(function(e){var t;t=e,u=u.concat(t)});var c={},e={bidRequests:o,run:function(){var e,t;e=O.bind(null,!0),t=setTimeout(e,y),h=t,g=F,B.emit(U.EVENTS.AUCTION_INIT,C());var n,u,p,r,a,m,i=(n=S,u=s,p=0,r=!1,a=new Set,m={},{addBidResponse:function(e,t){m[t.requestId]=!0,p++;var n,r,a,i,o,s,c,l,d=function(e){var t=e.adUnitCode,n=e.bid,r=e.bidderRequest,a=e.auctionId,i=r.start,o=x({},n,{auctionId:a,responseTimestamp:Object(w.timestamp)(),requestTimestamp:i,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:t});o.timeToRespond=o.responseTimestamp-o.requestTimestamp,B.emit(U.EVENTS.BID_ADJUSTMENT,o);var s=r.bids&&j()(r.bids,function(e){return e.adUnitCode==t}),c=s&&s.renderer;c&&c.url&&(o.renderer=P.a.install({url:c.url}),o.renderer.setRender(c.render));var l=Z(n.mediaType,s,T.b.getConfig("mediaTypePriceGranularity")),d=Object(A.a)(o.cpm,"object"===D(l)?l:T.b.getConfig("customPriceBucket"),T.b.getConfig("currency.granularityMultiplier"));return o.pbLg=d.low,o.pbMg=d.med,o.pbHg=d.high,o.pbAg=d.auto,o.pbDg=d.dense,o.pbCg=d.custom,o}({adUnitCode:e,bid:t,bidderRequest:this,auctionId:u.getAuctionId()});"video"===d.mediaType?(n=u,r=d,a=this,i=f,o=!0,s=Object(w.getBidRequest)(r.requestId,[a]),c=s&&Object(w.deepAccess)(s,"mediaTypes.video"),l=c&&Object(w.deepAccess)(c,"context"),T.b.getConfig("cache.url")&&l!==N.b&&(r.videoCacheKey?r.vastUrl||(M.logError("videoCacheKey specified but not required vastUrl for video bid"),o=!1):(o=!1,X(n,r,i,s))),o&&(Q(n,r),i())):(Q(u,d),f())},adapterDone:function(){a.add(this),r=u.getBidRequests().every(function(e){return a.has(e)}),this.bids.forEach(function(e){m[e.bidId]||(u.addNoBid(e),B.emit(U.EVENTS.NO_BID,e))}),r&&0===p&&n()}});function f(){p--,r&&0===p&&n()}R.callBids(b,o,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];K.apply({dispatch:i.addBidResponse,bidderRequest:this},t)},i.adapterDone,{request:function(e,t){d(G,t),d(c,e),z[e]||(z[e]={SRA:!0,origin:t}),1<c[e]&&(z[e].SRA=!1)},done:function(e){G[e]--,H[0]&&l(H[0])&&H.shift()}},y,I)}};function l(e){var r=!0,a=T.b.getConfig("maxRequestsPerOrigin")||V;return e.bidRequests.some(function(e){var t=1,n=void 0!==e.src&&e.src===U.S2S.SRC?"s2s":e.bidderCode;return z[n]&&(!1===z[n].SRA&&(t=Math.min(e.bids.length,a)),G[z[n].origin]+t>a&&(r=!1)),!r}),r&&e.run(),r}function d(e,t){void 0===e[t]?e[t]=1:e[t]++}l(e)||(M.logWarn("queueing auction due to limited endpoint capacity"),H.push(e))}return{addBidReceived:function(e){p=p.concat(e)},addNoBid:function(e){m=m.concat(e)},executeCallback:O,callBids:function(){g=L,t=Date.now();var e=R.makeBidRequests(b,t,f,y,l);M.logInfo("Bids Requested for Auction with id: ".concat(f),e),e.length<1?(M.logWarn("No valid bid requests returned for auction"),S()):Y.call({dispatch:k,context:this},e)},addWinningBid:function(e){E=E.concat(e),R.callBidWonBidder(e.bidder,e,i)},setBidTargeting:function(e){R.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return E},getTimeout:function(){return y},getAuctionId:function(){return f},getAuctionStatus:function(){return g},getAdUnits:function(){return b},getAdUnitCodes:function(){return d},getBidRequests:function(){return u},getBidsReceived:function(){return p},getNoBids:function(){return m}}},n.d(t,"c",function(){return K}),n.d(t,"e",function(){return Y}),t.g=l,t.d=Q,n.d(t,"f",function(){return X}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return u}),t.j=p;var w=n(0),A=n(45),c=n(35),i=n(93),P=n(11),T=n(3),r=n(43),a=n(13),o=n(10),j=n.n(o),N=n(36),s=n(2);function D(e){return(D="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var q=r.a.syncUsers,M=n(0),R=n(7).default,B=n(8),U=n(5),L="started",F="inProgress",W="completed";B.on(U.EVENTS.BID_ADJUSTMENT,function(e){!function(e){var t,n=e.bidderCode,r=e.cpm;if(pbjs.bidderSettings&&(n&&pbjs.bidderSettings[n]&&"function"==typeof pbjs.bidderSettings[n].bidCpmAdjustment?t=pbjs.bidderSettings[n].bidCpmAdjustment:pbjs.bidderSettings[U.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[U.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=pbjs.bidderSettings[U.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{r=t(e.cpm,x({},e))}catch(e){M.logError("Error during bid adjustment","bidmanager.js",e)}0<=r&&(e.cpm=r)}(e)});var V=4,G={},z={},H=[],K=Object(a.b)("async",function(e,t){this.dispatch.call(this.bidderRequest,e,t)},"addBidResponse"),Y=Object(a.b)("sync",function(e){this.dispatch.call(this.context,e)},"addBidderRequests"),J=Object(a.b)("async",function(e,t){t&&t()},"bidsBackCallback");function l(e,t){t.timeToRespond>e.getTimeout()+T.b.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function Q(e,t){var n,r,a,i,o=e.getBidRequests(),s=j()(o,function(e){return e.bidderCode===t.bidderCode});r=s,(n=t).bidderCode&&(0<n.cpm||n.dealId)&&(i=j()(r.bids,function(e){return e.adUnitCode===n.adUnitCode}),a=function(e,t,n){if(!t)return{};var r={},a=pbjs.bidderSettings;return a&&(m(r,p(t.mediaType,e,n),t),e&&a[e]&&a[e][U.JSON_MAPPING.ADSERVER_TARGETING]&&(m(r,a[e],t),t.sendStandardTargeting=a[e].sendStandardTargeting)),t.native&&(r=x({},r,Object(c.d)(t,n))),r}(n.bidderCode,n,i)),n.adserverTargeting=x(n.adserverTargeting||{},a),B.emit(U.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),l(e,t)}var X=Object(a.b)("async",function(n,r,a,e){Object(i.b)([r],function(e,t){e?(M.logWarn("Failed to save to the video cache: ".concat(e,". Video bid must be discarded.")),l(n,r)):""===t[0].uuid?(M.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),l(n,r)):(r.videoCacheKey=t[0].uuid,r.vastUrl||(r.vastUrl=Object(i.a)(r.videoCacheKey)),Q(n,r),a())},e)},"callPrebidCache");function Z(e,t,n){if(e&&n){if(e===s.d){var r=Object(w.deepAccess)(t,"mediaTypes.".concat(s.d,".context"),"instream");if(n["".concat(s.d,"-").concat(r)])return n["".concat(s.d,"-").concat(r)]}return n[e]}}var d=function(e,t){var n=Z(e,t,T.b.getConfig("mediaTypePriceGranularity"));return"string"==typeof e&&n?"string"==typeof n?n:"custom":T.b.getConfig("priceGranularity")},u=function(t){return function(e){return t===U.GRANULARITY_OPTIONS.AUTO?e.pbAg:t===U.GRANULARITY_OPTIONS.DENSE?e.pbDg:t===U.GRANULARITY_OPTIONS.LOW?e.pbLg:t===U.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:t===U.GRANULARITY_OPTIONS.HIGH?e.pbHg:t===U.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}};function p(e,t,n){function r(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return Object(w.getValue)(e,t)}}}var a,i,o=U.TARGETING_KEYS,s=d(e,n),c=pbjs.bidderSettings;return c[U.JSON_MAPPING.BD_SETTING_STANDARD]||(c[U.JSON_MAPPING.BD_SETTING_STANDARD]={}),c[U.JSON_MAPPING.BD_SETTING_STANDARD][U.JSON_MAPPING.ADSERVER_TARGETING]||(c[U.JSON_MAPPING.BD_SETTING_STANDARD][U.JSON_MAPPING.ADSERVER_TARGETING]=[r(o.BIDDER,"bidderCode"),r(o.AD_ID,"adId"),r(o.PRICE_BUCKET,u(s)),r(o.SIZE,"size"),r(o.DEAL,"dealId"),r(o.SOURCE,"source"),r(o.FORMAT,"mediaType")]),"video"===e&&(a=c[U.JSON_MAPPING.BD_SETTING_STANDARD][U.JSON_MAPPING.ADSERVER_TARGETING],[o.UUID,o.CACHE_ID].forEach(function(t){void 0===j()(a,function(e){return e.key===t})&&a.push(r(t,"videoCacheKey"))}),!T.b.getConfig("cache.url")||t&&!1===M.deepAccess(c,"".concat(t,".sendStandardTargeting"))||(i=Object(w.parseUrl)(T.b.getConfig("cache.url")),void 0===j()(a,function(e){return e.key===o.CACHE_HOST})&&a.push(r(o.CACHE_HOST,function(e){return M.deepAccess(e,"adserverTargeting.".concat(o.CACHE_HOST))?e.adserverTargeting[o.CACHE_HOST]:i.hostname})))),c[U.JSON_MAPPING.BD_SETTING_STANDARD]}function m(r,a,i){var e=a[U.JSON_MAPPING.ADSERVER_TARGETING];return i.size=i.getSize(),M._each(e,function(e){var t=e.key,n=e.val;if(r[t]&&M.logWarn("The key: "+t+" is getting ovewritten"),M.isFn(n))try{n=n(i)}catch(e){M.logError("bidmanager","ERROR",e)}(void 0===a.suppressEmptyKeys||!0!==a.suppressEmptyKeys)&&t!==U.TARGETING_KEYS.DEAL||!M.isEmptyStr(n)&&null!=n?r[t]=n:M.logInfo("suppressing empty key '"+t+"' from adserver targeting")}),r}function $(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},41:function(e,t,n){n.d(t,"a",function(){return m});var b=n(0),v=n(3),y=n(35),r=n(26),a=n(91),i=n(2),o=n(12),E=n.n(o);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return s(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return e.responseTimestamp+1e3*e.ttl+1e3>Object(b.timestamp)()}function l(e){return e&&(e.status&&!E()([S.BID_STATUS.RENDERED],e.status)||!e.status)}var d=n(0),S=n(5),I=[],k=Object.keys(S.TARGETING_KEYS).map(function(e){return S.TARGETING_KEYS[e]});function w(e,r,t){var a=2<arguments.length&&void 0!==t?t:0,i=[],o=v.b.getConfig("sendBidsControl.dealPrioritization"),s=Object(b.groupBy)(e,"adUnitCode");return Object.keys(s).forEach(function(e){var t=[],n=Object(b.groupBy)(s[e],"bidderCode");Object.keys(n).forEach(function(e){return t.push(n[e].reduce(r))}),0<a?(t=o?t.sort(A(!0)):t.sort(function(e,t){return t.cpm-e.cpm}),i.push.apply(i,O(t.slice(0,a)))):i.push.apply(i,O(t))}),i}function A(e){var n=0<arguments.length&&void 0!==e&&e;return function(e,t){return void 0!==e.adserverTargeting.hb_deal&&void 0===t.adserverTargeting.hb_deal?-1:void 0===e.adserverTargeting.hb_deal&&void 0!==t.adserverTargeting.hb_deal?1:n?t.cpm-e.cpm:t.adserverTargeting.hb_pb-e.adserverTargeting.hb_pb}}var u,P,p,m=(u=r.a,p={},(P={}).setLatestAuctionForAdUnit=function(e,t){p[e]=t},P.resetPresetTargeting=function(e,t){var n,a;Object(b.isGptPubadsDefined)()&&(n=j(e),a=u.getAdUnits().filter(function(e){return E()(n,e.code)}),window.googletag.pubads().getSlots().forEach(function(n){var r=d.isFn(t)&&t(n);I.forEach(function(t){a.forEach(function(e){(e.code===n.getAdUnitPath()||e.code===n.getSlotElementId()||d.isFn(r)&&r(e.code))&&n.setTargeting(t,null)})})}))},P.resetPresetTargetingAST=function(e){j(e).forEach(function(e){var t,n,r=window.apntag.getTag(e);r&&r.keywords&&(t=Object.keys(r.keywords),n={},t.forEach(function(e){E()(I,e.toLowerCase())||(n[e]=r.keywords[e])}),window.apntag.modifyTag(e,{keywords:n}))})},P.getAllTargeting=function(e){var n,t,r,a,i,o,s,c,l,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:N(),u=j(e),p=(o=u,s=d,c=P.getWinningBids(o,s),l=D(),(c=c.map(function(i){return C({},i.adUnitCode,Object.keys(i.adserverTargeting).filter(function(e){return void 0===i.sendStandardTargeting||i.sendStandardTargeting||-1===l.indexOf(e)}).reduce(function(e,t){var n=[i.adserverTargeting[t]],r=C({},t.substring(0,20),n);if(t!==S.TARGETING_KEYS.DEAL)return[].concat(O(e),[r]);var a=C({},"".concat(t,"_").concat(i.bidderCode).substring(0,20),n);return[].concat(O(e),[r,a])},[]))})).concat((i=u,d.filter(function(e){return E()(i,e.adUnitCode)}).map(function(e){return _({},e)}).reduce(x,[]).map(q).filter(function(e){return e}))).concat(v.b.getConfig("enableSendAllBids")?(n=u,t=d,r=k.concat(y.a),a=v.b.getConfig("sendBidsControl.bidLimit"),w(t,b.getHighestCpm,a).map(function(t){if(T(t,n))return C({},t.adUnitCode,M(t,r.filter(function(e){return void 0!==t.adserverTargeting[e]})))}).filter(function(e){return e})):function(e,t){if(!0!==v.b.getConfig("targetingControls.alwaysIncludeDeals"))return[];var n=k.concat(y.a);return w(t,b.getHighestCpm).map(function(t){if(t.dealId&&T(t,e))return C({},t.adUnitCode,M(t,n.filter(function(e){return void 0!==t.adserverTargeting[e]})))}).filter(function(e){return e})}(u,d)));p.map(function(t){Object.keys(t).map(function(e){t[e].map(function(e){-1===I.indexOf(Object.keys(e)[0])&&(I=Object.keys(e).concat(I))})})}),p=p.map(function(e){return C({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return C({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))}).reduce(function(e,t){return _(t,e)},{}))}).reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=_({},e[n],t[n]),e},{});var m,f,g,h=v.b.getConfig("targetingControls.auctionKeyMaxChars");return h&&(Object(b.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(h," characters.  Running checks on auction keys...")),m=p,f=h,g=Object(b.deepClone)(m),p=Object.keys(g).map(function(e){return{adUnitCode:e,adserverTargeting:g[e]}}).sort(A()).reduce(function(e,t,n,r){var a,i=(a=t.adserverTargeting,Object.keys(a).reduce(function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(a[t]),"%26")},""));n+1===r.length&&(i=i.slice(0,-3));var o=t.adUnitCode,s=i.length;return s<=f?(f-=s,Object(b.logInfo)("AdUnit '".concat(o,"' auction keys comprised of ").concat(s," characters.  Deducted from running threshold; new limit is ").concat(f),g[o]),e[o]=g[o]):Object(b.logWarn)("The following keys for adUnitCode '".concat(o,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(s,", the current allotted amount was ").concat(f,".\n"),g[o]),n+1===r.length&&0===Object.keys(e).length&&Object(b.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e},{})),u.forEach(function(e){p[e]||(p[e]={})}),p},P.setTargetingForGPT=function(a,e){window.googletag.pubads().getSlots().forEach(function(r){Object.keys(a).filter((e||Object(b.isAdUnitCodeMatchingSlot))(r)).forEach(function(n){return Object.keys(a[n]).forEach(function(t){var e=a[n][t].split(",");(e=1<e.length?[e]:e).map(function(e){return d.logMessage("Attempting to set key value for slot: ".concat(r.getSlotElementId()," key: ").concat(t," value: ").concat(e)),e}).forEach(function(e){r.setTargeting(t,e)})})})})},P.getWinningBids=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:N(),t=j(e);return n.filter(function(e){return E()(t,e.adUnitCode)}).filter(function(e){return 0<e.cpm}).map(function(e){return e.adUnitCode}).filter(b.uniques).map(function(t){return n.filter(function(e){return e.adUnitCode===t?e:null}).reduce(b.getHighestCpm)})},P.setTargetingForAst=function(e){var r=P.getAllTargeting(e);try{P.resetPresetTargetingAST(e)}catch(e){d.logError("unable to reset targeting for AST"+e)}Object.keys(r).forEach(function(n){return Object.keys(r[n]).forEach(function(e){var t;d.logMessage("Attempting to set targeting for targetId: ".concat(n," key: ").concat(e," value: ").concat(r[n][e])),(d.isStr(r[n][e])||d.isArray(r[n][e]))&&(t={},e.search(/pt[0-9]/)<0?t[e.toUpperCase()]=r[n][e]:t[e]=r[n][e],window.apntag.setKeywords(n,t,{overrideKeyValue:!0}))})})},P.isApntagDefined=function(){if(window.apntag&&d.isFn(window.apntag.setKeywords))return!0},P);function T(e,t){return e.adserverTargeting&&t&&(d.isArray(t)&&E()(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function j(e){return"string"==typeof e?[e]:d.isArray(e)?e:u.getAdUnitCodes()||[]}function N(){var e=u.getBidsReceived();return v.b.getConfig("useBidCache")||(e=e.filter(function(e){return p[e.adUnitCode]===e.auctionId})),w(e=e.filter(function(e){return Object(b.deepAccess)(e,"video.context")!==i.a}).filter(function(e){return"banner"!==e.mediaType||Object(a.c)([e.width,e.height])}).filter(l).filter(c),b.getOldestHighestCpmBid)}function D(){return u.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(k).filter(b.uniques)}function x(r,a,e,t){return Object.keys(a.adserverTargeting).filter(f()).forEach(function(e){var t,n;r.length&&r.filter((n=e,function(e){return e.adUnitCode===a.adUnitCode&&e.adserverTargeting[n]})).forEach((t=e,function(e){d.isArray(e.adserverTargeting[t])||(e.adserverTargeting[t]=[e.adserverTargeting[t]]),e.adserverTargeting[t]=e.adserverTargeting[t].concat(a.adserverTargeting[t]).filter(b.uniques),delete a.adserverTargeting[t]}))}),r.push(a),r}function f(){var t=D().concat(y.a);return function(e){return-1===t.indexOf(e)}}function q(t){return C({},t.adUnitCode,Object.keys(t.adserverTargeting).filter(f()).map(function(e){return C({},e.substring(0,20),[t.adserverTargeting[e]])}))}function M(t,e){return e.map(function(e){return C({},"".concat(e,"_").concat(t.bidderCode).substring(0,20),[t.adserverTargeting[e]])})}},42:function(e,t){e.exports={}},43:function(e,t,n){n.d(t,"a",function(){return E});var o=n(0),r=n(3),a=n(12),i=n.n(a),s=n(9);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.b.setDefaults({userSync:o.deepClone({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var u,p,m,f,g,h,b,v=Object(s.a)("usersync"),y=!o.isSafariBrowser()&&v.cookiesAreEnabled(),E=(u={config:r.b.getConfig("userSync"),browserSupportsCookies:y},p={},m={image:[],iframe:[]},f=new Set,h={image:!0,iframe:(g={},!1)},b=u.config,r.b.getConfig("userSync",function(e){var t;e.userSync&&(t=e.userSync.filterSettings,o.isPlainObject(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))),b=d(b,e.userSync)}),p.registerSync=function(e,t,n){return f.has(t)?o.logMessage('already fired syncs for "'.concat(t,'", ignoring registerSync call')):b.syncEnabled&&o.isArray(m[e])?t?0!==b.syncsPerBidder&&Number(g[t])>=b.syncsPerBidder?o.logWarn('Number of user syncs exceeded for "'.concat(t,'"')):p.canBidderRegisterSync(e,t)?(m[e].push([t,n]),(r=g)[a=t]?r[a]+=1:r[a]=1,void(g=r)):o.logWarn('Bidder "'.concat(t,'" not permitted to register their "').concat(e,'" userSync pixels.')):o.logWarn("Bidder is required for registering sync"):o.logWarn('User sync type "'.concat(e,'" not supported'));var r,a},p.syncUsers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(_,Number(e));_()},p.triggerUserSyncs=function(){b.enableOverride&&p.syncUsers()},p.canBidderRegisterSync=function(e,t){return!b.filterSettings||!function(e,t){var n=b.filterSettings;if(function(e,t){if(e.all&&e[t])return o.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;var a=n.filter,i=n.bidders;return a&&"include"!==a&&"exclude"!==a?(o.logWarn('UserSync "filterSettings.'.concat(r,".filter\" setting '").concat(a,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===i||Array.isArray(i)&&0<i.length&&i.every(function(e){return o.isStr(e)&&"*"!==e}))||(o.logWarn('Detected an invalid setup in userSync "filterSettings.'.concat(r,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(n,e)){h[e]=!0;var r=n.all?n.all:n[e],a="*"===r.bidders?[t]:r.bidders;return{include:function(e,t){return!i()(e,t)},exclude:function(e,t){return i()(e,t)}}[r.filter||"include"](a,t)}}(e,t)},p);function _(){if(b.syncEnabled&&u.browserSupportsCookies){try{h.image&&C(m.image,function(e){var t=c(e,2),n=t[0],r=t[1];o.logMessage("Invoking image pixel user sync for bidder: ".concat(n)),o.triggerPixel(r)}),h.iframe&&C(m.iframe,function(e){var t=c(e,2),n=t[0],r=t[1];o.logMessage("Invoking iframe user sync for bidder: ".concat(n)),o.insertUserSyncIframe(r)})}catch(e){return o.logError("Error firing user syncs",e)}m={image:[],iframe:[]}}}function C(e,t){o.shuffle(e).forEach(function(e){t(e),f.add(e[0])})}},45:function(e,t,n){n.d(t,"a",function(){return d}),n.d(t,"b",function(){return v});var r=n(10),h=n.n(r),a=n(0),b=2,i={buckets:[{max:5,increment:.5}]},o={buckets:[{max:20,increment:.1}]},s={buckets:[{max:20,increment:.01}]},c={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},l={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function d(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":u(e,i,n),med:""===r?"":u(e,o,n),high:""===r?"":u(e,s,n),auto:""===r?"":u(e,l,n),dense:""===r?"":u(e,c,n),custom:""===r?"":u(e,t,n)}}function u(n,e,r){var a="";if(!v(e))return a;var t,i,o,s,c,l,d,u,p,m=e.buckets.reduce(function(e,t){return e.max>t.max?e:t},{max:0}),f=0,g=h()(e.buckets,function(e){if(n>m.max*r){var t=e.precision;void 0===t&&(t=b),a=(e.max*r).toFixed(t)}else{if(n<=e.max*r&&f*r<=n)return e.min=f,e;f=e.max}});return g&&(t=n,o=r,s=void 0!==(i=g).precision?i.precision:b,c=i.increment*o,l=i.min*o,u=(t*(d=Math.pow(10,s+2))-l*d)/(c*d),p=Math.floor(u)*c+l,a=(p=Number(p.toFixed(10))).toFixed(s)),a}function v(e){if(a.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){e.max&&e.increment||(t=!1)}),t}},46:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},466:function(e,t,n){var r=n(467);e.exports=r},467:function(e,t,n){n(468);var r=n(42);e.exports=r.Number.isInteger},468:function(e,t,n){n(14)({target:"Number",stat:!0},{isInteger:n(469)})},469:function(e,t,n){var r=n(23),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e}},47:function(e,t,n){var r=n(70),a=n(49);e.exports=function(e){return r(a(e))}},48:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},49:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},5:function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",NO_BID:"noBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",BIDDER_BLOCKED:"bidderBlocked"},AD_RENDER_FAILED_REASON:{PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocuemnt",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host"},NATIVE_KEYS:{title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice"},S2S:{SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},BID_STATUS:{BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"}}},50:function(e,t,n){var r=n(58),a=Math.min;e.exports=function(e){return 0<e?a(r(e),9007199254740991):0}},51:function(e,t){e.exports=function(){}},52:function(e,t,n){var r=n(25);e.exports=r},53:function(e,t){e.exports={}},54:function(e,t,n){var r,a,i,o,s,c,l,d,u=n(113),p=n(22),m=n(23),f=n(29),g=n(24),h=n(65),b=n(53),v=p.WeakMap;l=u?(r=new v,a=r.get,i=r.has,o=r.set,s=function(e,t){return o.call(r,e,t),t},c=function(e){return a.call(r,e)||{}},function(e){return i.call(r,e)}):(b[d=h("state")]=!0,s=function(e,t){return f(e,d,t),t},c=function(e){return g(e,d)?e[d]:{}},function(e){return g(e,d)}),e.exports={set:s,get:c,has:l,enforce:function(e){return l(e)?c(e):s(e,{})},getterFor:function(n){return function(e){var t;if(!m(e)||(t=c(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}}},55:function(e,t,n){var a=n(23);e.exports=function(e,t){if(!a(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!a(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},56:function(e,t,n){function r(m){var f=1==m,g=2==m,h=3==m,b=4==m,v=6==m,y=5==m||v;return function(e,t,n,r){for(var a,i,o=C(e),s=_(o),c=E(t,n,3),l=O(s.length),d=0,u=r||S,p=f?u(e,l):g?u(e,0):void 0;d<l;d++)if((y||d in s)&&(i=c(a=s[d],d,o),m))if(f)p[d]=i;else if(i)switch(m){case 3:return!0;case 5:return a;case 6:return d;case 2:I.call(p,a)}else if(b)return!1;return v?-1:h||b?b:p}}var E=n(21),_=n(70),C=n(57),O=n(50),S=n(101),I=[].push;e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},57:function(e,t,n){var r=n(49);e.exports=function(e){return Object(r(e))}},58:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},59:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},60:function(e,t,n){function o(e){throw e}var s=n(27),c=n(28),l=n(24),d=Object.defineProperty,u={};e.exports=function(e,t){if(l(u,e))return u[e];var n=[][e],r=!!l(t=t||{},"ACCESSORS")&&t.ACCESSORS,a=l(t,0)?t[0]:o,i=l(t,1)?t[1]:void 0;return u[e]=!!n&&!c(function(){if(r&&!s)return!0;var e={length:-1};r?d(e,1,{enumerable:!0,get:o}):e[1]=1,n.call(e,a,i)})}},61:function(e,t,n){var r=n(62),a=n(37),i=n(19)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},62:function(e,t,n){var r=n(63),a=n(48),i=n(19)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?a(t):"Object"==(r=a(t))&&"function"==typeof t.callee?"Arguments":r}},63:function(e,t,n){var r={};r[n(19)("toStringTag")]="z",e.exports="[object z]"===String(r)},64:function(e,t,n){var i=n(63),o=n(31).f,s=n(29),c=n(24),l=n(112),d=n(19)("toStringTag");e.exports=function(e,t,n,r){var a;e&&(a=n?e:e.prototype,c(a,d)||o(a,d,{configurable:!0,value:t}),r&&!i&&s(a,"toString",l))}},65:function(e,t,n){var r=n(73),a=n(59),i=r("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},66:function(e,t,n){function b(){return this}var v=n(14),y=n(121),E=n(86),_=n(123),C=n(64),O=n(29),S=n(84),r=n(19),I=n(16),k=n(37),a=n(85),w=a.IteratorPrototype,A=a.BUGGY_SAFARI_ITERATORS,P=r("iterator"),T="values";e.exports=function(e,t,n,r,a,i,o){function s(e){if(e===a&&g)return g;if(!A&&e in m)return m[e];switch(e){case"keys":case T:case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}}y(n,t,r);var c,l,d,u=t+" Iterator",p=!1,m=e.prototype,f=m[P]||m["@@iterator"]||a&&m[a],g=!A&&f||s(a),h="Array"==t&&m.entries||f;if(h&&(c=E(h.call(new e)),w!==Object.prototype&&c.next&&(I||E(c)===w||(_?_(c,w):"function"!=typeof c[P]&&O(c,P,b)),C(c,u,!0,!0),I&&(k[u]=b))),a==T&&f&&f.name!==T&&(p=!0,g=function(){return f.call(this)}),I&&!o||m[P]===g||O(m,P,g),k[t]=g,a)if(l={values:s(T),keys:i?g:s("keys"),entries:s("entries")},o)for(d in l)!A&&!p&&d in m||S(m,d,l[d]);else v({target:t,proto:!0,forced:A||p},l);return l}},67:function(e,t,n){n.d(t,"a",function(){return i});var r=n(0),s={};function a(e,t,n){var r,a,i,o=(a=n,i=s[r=e]=s[r]||{bidders:{}},a?i.bidders[a]=i.bidders[a]||{}:i);return o[t]=(o[t]||0)+1,o[t]}var i={incrementRequestsCounter:function(e){return a(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return a(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return a(e,"winsCounter",t)},getRequestsCounter:function(e){return Object(r.deepAccess)(s,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return Object(r.deepAccess)(s,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return Object(r.deepAccess)(s,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},68:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"adUnitSetupChecks",function(){return G}),n.d(t,"checkAdUnitSetup",function(){return z}),t.executeStorageCallbacks=Y;var r=n(20),a=n(0),i=n(223),o=n(43),d=n(3),b=n(26),u=n(41),s=n(13),c=n(224),l=n(12),p=n.n(l),m=n(67),v=n(11),f=n(32),g=n(9);function h(e){return(h="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=Object(r.a)(),_=n(5),C=n(0),O=n(7).default,S=n(8),I=o.a.triggerUserSyncs,k=_.EVENTS,w=k.ADD_AD_UNITS,A=k.BID_WON,P=k.REQUEST_BIDS,T=k.SET_TARGETING,j=k.AD_RENDER_FAILED,N=_.AD_RENDER_FAILED_REASON,D=N.PREVENT_WRITING_ON_MAIN_DOCUMENT,x=N.NO_AD,q=N.EXCEPTION,M=N.CANNOT_FIND_AD,R=N.MISSING_DOC_OR_ADID,B={bidWon:function(e){var t=b.a.getBidsRequested().map(function(e){return e.bids.map(function(e){return e.adUnitCode})}).reduce(a.flatten).filter(a.uniques);return!!C.contains(t,e)||void C.logError('The "'+e+'" placement is not defined.')}};function U(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function L(e,t){var n=[];return C.isArray(e)&&(t?e.length===t:0<e.length)&&(e.every(function(e){return Object(a.isArrayOfNums)(e,2)})?n=e:Object(a.isArrayOfNums)(e,2)&&n.push(e)),n}function F(e){var t=C.deepClone(e),n=t.mediaTypes.banner,r=L(n.sizes);return 0<r.length?(n.sizes=r,t.sizes=r):(C.logError("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function W(e){var t,n,r=C.deepClone(e),a=r.mediaTypes.video;return a.playerSize&&(t="number"==typeof a.playerSize[0]?2:1,0<(n=L(a.playerSize,t)).length?(2==t&&C.logInfo("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),a.playerSize=n,r.sizes=n):(C.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete r.mediaTypes.video.playerSize)),r}function V(e){var t=C.deepClone(e),n=t.mediaTypes.native;return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&(C.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&(C.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&(C.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}Object(c.a)(),E.bidderSettings=E.bidderSettings||{},E.libLoaded=!0,E.version="v4.2.0",C.logInfo("Prebid.js v4.2.0 loaded"),E.adUnits=E.adUnits||[],E.triggerUserSyncs=I;var G={validateBannerMediaType:F,validateVideoMediaType:W,validateNativeMediaType:V,validateSizes:L},z=Object(s.b)("sync",function(e){var o=[];return e.forEach(function(e){var t,n,r,a,i=e.mediaTypes;i&&0!==Object.keys(i).length?(i.banner&&(t=F(e)),i.video&&(n=W(t||e)),i.native&&(r=V(n||t||e)),a=y({},t,n,r),o.push(a)):C.logError("Detected adUnit.code '".concat(e.code,"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed."))}),o},"checkAdUnitSetup");function H(e){var n=b.a[e]().filter(C.bind.call(a.adUnitsFilter,this,b.a.getAdUnitCodes())),r=b.a.getLastAuctionId();return n.map(function(e){return e.adUnitCode}).filter(a.uniques).map(function(t){return n.filter(function(e){return e.auctionId===r&&e.adUnitCode===t})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){return t={},r={bids:e},(n=e[0].adUnitCode)in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r}).reduce(function(e,t){return y(e,t)},{})}function K(e){var t=e.reason,n=e.message,r=e.bid,a=e.id,i={reason:t,message:n};r&&(i.bid=r),a&&(i.adId=a),C.logError(n),S.emit(j,i)}function Y(e,t){!function(e){for(var t;t=e.shift();)t()}(g.c),e.call(this,t)}function J(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){C.logError("Error processing command :","prebid.js",e)}})}E.getAdserverTargetingForAdUnitCodeStr=function(e){if(C.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=E.getAdserverTargetingForAdUnitCode(e);return C.transformAdServerTargetingObj(t)}C.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},E.getAdserverTargetingForAdUnitCode=function(e){return E.getAdserverTargeting(e)[e]},E.getAdserverTargeting=function(e){return C.logInfo("Invoking pbjs.getAdserverTargeting",arguments),u.a.getAllTargeting(e)},E.getNoBids=function(){return C.logInfo("Invoking pbjs.getNoBids",arguments),H("getNoBids")},E.getBidResponses=function(){return C.logInfo("Invoking pbjs.getBidResponses",arguments),H("getBidsReceived")},E.getBidResponsesForAdUnitCode=function(t){return{bids:b.a.getBidsReceived().filter(function(e){return e.adUnitCode===t})}},E.setTargetingForGPTAsync=function(e,t){var n;C.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),Object(a.isGptPubadsDefined)()?(n=u.a.getAllTargeting(e),u.a.resetPresetTargeting(e,t),u.a.setTargetingForGPT(n,t),Object.keys(n).forEach(function(t){Object.keys(n[t]).forEach(function(e){"hb_adid"===e&&b.a.setStatusForBids(n[t][e],_.BID_STATUS.BID_TARGETING_SET)})}),S.emit(T,n)):C.logError("window.googletag is not defined on the page")},E.setTargetingForAst=function(e){C.logInfo("Invoking pbjs.setTargetingForAn",arguments),u.a.isApntagDefined()?(u.a.setTargetingForAst(e),S.emit(T,u.a.getAllTargeting())):C.logError("window.apntag is not defined on the page")},E.renderAd=function(e,t){if(C.logInfo("Invoking pbjs.renderAd",arguments),C.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n,r,a,i,o,s,c,l,d,u,p,m,f=b.a.findBidByAdId(t);f?(f.ad=C.replaceAuctionPrice(f.ad,f.cpm),f.adUrl=C.replaceAuctionPrice(f.adUrl,f.cpm),b.a.addWinningBid(f),S.emit(A,f),n=f.height,r=f.width,a=f.ad,i=f.mediaType,o=f.adUrl,s=f.renderer,c=document.createComment("Creative ".concat(f.creativeId," served by ").concat(f.bidder," Prebid.js Header Bidding")),C.insertElement(c,e,"body"),Object(v.c)(s)?Object(v.b)(s,f):e===document&&!C.inIframe()||"video"===i?(l="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document."),K({reason:D,message:l,bid:f,id:t})):a?(navigator.userAgent&&-1<navigator.userAgent.toLowerCase().indexOf("firefox/")&&(d=navigator.userAgent.toLowerCase().match(/firefox\/([\d\.]+)/)[1])&&parseInt(d,10)<67&&e.open("text/html","replace"),e.write(a),e.close(),U(e,r,n),C.callBurl(f)):o?((u=C.createInvisibleIframe()).height=n,u.width=r,u.style.display="inline",u.style.overflow="hidden",u.src=o,C.insertElement(u,e,"body"),U(e,r,n),C.callBurl(f)):(p="Error trying to write ad. No ad for bid response id: ".concat(t),K({reason:x,message:p,bid:f,id:t}))):(m="Error trying to write ad. Cannot find ad by given id : ".concat(t),K({reason:M,message:m,id:t}))}catch(e){var g="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);K({reason:q,message:g,id:t})}else{var h="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");K({reason:R,message:h,id:t})}},E.removeAdUnit=function(e){C.logInfo("Invoking pbjs.removeAdUnit",arguments),e?(C.isArray(e)?e:[e]).forEach(function(e){for(var t=E.adUnits.length-1;0<=t;t--)E.adUnits[t].code===e&&E.adUnits.splice(t,1)}):E.adUnits=[]},E.requestBids=Object(s.b)("async",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,a=e.adUnitCodes,i=e.labels,o=e.auctionId;S.emit(P);var s=n||d.b.getConfig("bidderTimeout");r=r||E.adUnits;if(C.logInfo("Invoking pbjs.requestBids",arguments),r=z(r),a&&a.length?r=r.filter(function(e){return p()(a,e.code)}):a=r&&r.map(function(e){return e.code}),r.forEach(function(a){var i=Object.keys(a.mediaTypes||{banner:"banner"}),e=a.bids.map(function(e){return e.bidder}),o=O.bidderRegistry,t=d.b.getConfig("s2sConfig"),n=t&&t.bidders,r=n?e.filter(function(e){return!p()(n,e)}):e;a.transactionId=C.generateUUID(),r.forEach(function(t){var e=o[t],n=e&&e.getSpec&&e.getSpec(),r=n&&n.supportedMediaTypes||["banner"];i.some(function(e){return p()(r,e)})?m.a.incrementBidderRequestsCounter(a.code,t):(C.logWarn(C.unsupportedBidderMessage(a,t)),a.bids=a.bids.filter(function(e){return e.bidder!==t}))}),m.a.incrementRequestsCounter(a.code)}),r&&0!==r.length){var c=b.a.createAuction({adUnits:r,adUnitCodes:a,callback:t,cbTimeout:s,labels:i,auctionId:o}),l=r.length;15<l&&C.logInfo("Current auction ".concat(c.getAuctionId()," contains ").concat(l," adUnits."),r),a.forEach(function(e){return u.a.setLatestAuctionForAdUnit(e,c.getAuctionId())}),c.callBids()}else if(C.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){C.logError("Error executing bidsBackHandler",null,e)}}),E.requestBids.before(Y,49),E.addAdUnits=function(e){C.logInfo("Invoking pbjs.addAdUnits",arguments),C.isArray(e)?E.adUnits.push.apply(E.adUnits,e):"object"===h(e)&&E.adUnits.push(e),S.emit(w)},E.onEvent=function(e,t,n){C.logInfo("Invoking pbjs.onEvent",arguments),C.isFn(t)?!n||B[e].call(null,n)?S.on(e,t,n):C.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):C.logError('The event handler provided is not a function and was not set on event "'+e+'".')},E.offEvent=function(e,t,n){C.logInfo("Invoking pbjs.offEvent",arguments),n&&!B[e].call(null,n)||S.off(e,t,n)},E.registerBidAdapter=function(e,t){C.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{O.registerBidAdapter(e(),t)}catch(e){C.logError("Error registering bidder adapter : "+e.message)}},E.registerAnalyticsAdapter=function(e){C.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{O.registerAnalyticsAdapter(e)}catch(e){C.logError("Error registering analytics adapter : "+e.message)}},E.createBid=function(e){return C.logInfo("Invoking pbjs.createBid",arguments),Object(f.a)(e)},E.enableAnalytics=function(e){e&&!C.isEmpty(e)?(C.logInfo("Invoking pbjs.enableAnalytics for: ",e),O.enableAnalytics(e)):C.logError("pbjs.enableAnalytics should be called with option {}")},E.aliasBidder=function(e,t,n){C.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?O.aliasBidAdapter(e,t,n):C.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},E.getAllWinningBids=function(){return b.a.getAllWinningBids()},E.getAllPrebidWinningBids=function(){return b.a.getBidsReceived().filter(function(e){return e.status===_.BID_STATUS.BID_TARGETING_SET})},E.getHighestCpmBids=function(e){return u.a.getWinningBids(e)},E.markWinningBidAsUsed=function(t){var e=[];t.adUnitCode&&t.adId?e=b.a.getBidsReceived().filter(function(e){return e.adId===t.adId&&e.adUnitCode===t.adUnitCode}):t.adUnitCode?e=u.a.getWinningBids(t.adUnitCode):t.adId?e=b.a.getBidsReceived().filter(function(e){return e.adId===t.adId}):C.logWarn("Inproper usage of markWinningBidAsUsed. It'll need an adUnitCode and/or adId to function."),0<e.length&&(e[0].status=_.BID_STATUS.RENDERED)},E.getConfig=d.b.getConfig,E.setConfig=d.b.setConfig,E.setBidderConfig=d.b.setBidderConfig,E.que.push(function(){return Object(i.a)()}),E.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){C.logError("Error processing command :",e.message,e.stack)}else C.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},E.que.push=E.cmd.push,E.processQueue=function(){s.b.ready(),J(E.que),J(E.cmd)},t.default=E},69:function(e,t,n){t.a=function(t,n){i.adServers=i.adServers||{},i.adServers[t]=i.adServers[t]||{},Object.keys(n).forEach(function(e){i.adServers[t][e]?Object(a.logWarn)("Attempting to add an already registered function property ".concat(e," for AdServer ").concat(t,".")):i.adServers[t][e]=n[e]})};var r=n(20),a=n(0),i=Object(r.a)()},7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"gdprDataHandler",function(){return D}),n.d(t,"uspDataHandler",function(){return x}),t.setS2STestingModule=function(e){I=e};var E=n(0),m=n(91),f=n(35),p=n(1),v=n(4),_=n(3),r=n(13),a=n(12),C=n.n(a),i=n(10),O=n.n(i),g=n(67),S=n(30);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I,k=n(0),w=n(5),A=n(8),b={},P=b.bidderRegistry={},T=b.aliasRegistry={},j={};_.b.getConfig("s2sConfig",function(e){j=e.s2sConfig});var o={},N=Object(r.b)("sync",function(e){var a=e.bidderCode,l=e.auctionId,d=e.bidderRequestId,t=e.adUnits,u=e.labels,p=e.src;return t.reduce(function(e,s){var t=Object(m.b)(Object(m.a)(s,u),s.mediaTypes,s.sizes),n=t.active,c=t.mediaTypes,r=t.filterResults;return n?r&&k.logInfo('Size mapping filtered adUnit "'.concat(s.code,'" banner sizes from '),r.before,"to ",r.after):k.logInfo('Size mapping disabled adUnit "'.concat(s.code,'"')),n&&e.push(s.bids.filter(function(e){return e.bidder===a}).reduce(function(e,t){var n=s.nativeParams||k.deepAccess(s,"mediaTypes.native");n&&(t=h({},t,{nativeParams:Object(f.g)(n)})),t=h({},t,Object(E.getDefinedParams)(s,["fpd","mediaType","renderer","storedAuctionResponse"]));var r=Object(m.b)(Object(m.a)(t,u),c),a=r.active,i=r.mediaTypes,o=r.filterResults;return a?o&&k.logInfo('Size mapping filtered adUnit "'.concat(s.code,'" bidder "').concat(t.bidder,'" banner sizes from '),o.before,"to ",o.after):k.logInfo('Size mapping deactivated adUnit "'.concat(s.code,'" bidder "').concat(t.bidder,'"')),k.isValidMediaTypes(i)?t=h({},t,{mediaTypes:i}):k.logError("mediaTypes is not correctly configured for adunit ".concat(s.code)),a&&e.push(h({},t,{adUnitCode:s.code,transactionId:s.transactionId,sizes:k.deepAccess(i,"banner.sizes")||k.deepAccess(i,"video.playerSize")||[],bidId:t.bid_id||k.getUniqueIdentifierStr(),bidderRequestId:d,auctionId:l,src:p,bidRequestsCount:g.a.getRequestsCounter(s.code),bidderRequestsCount:g.a.getBidderRequestsCounter(s.code,t.bidder),bidderWinsCount:g.a.getBidderWinsCounter(s.code,t.bidder)})),e},[])),e},[]).reduce(E.flatten,[]).filter(function(e){return""!==e})},"getBids"),D={consentData:null,setConsentData:function(e){D.consentData=e},getConsentData:function(){return D.consentData}},x={consentData:null,setConsentData:function(e){x.consentData=e},getConsentData:function(){return x.consentData}};function q(){return j&&j.enabled&&j.testing&&I}function s(e,t,n){try{var r=P[e].getSpec();r&&r[t]&&"function"==typeof r[t]&&(k.logInfo("Invoking ".concat(e,".").concat(t)),_.b.runWithBidder(e,E.bind.call(r[t],r,n)))}catch(n){k.logWarn("Error calling ".concat(t," of ").concat(e))}}b.makeBidRequests=Object(r.b)("sync",function(e,a,i,o,s){A.emit(w.EVENTS.BEFORE_REQUEST_BIDS,e);var c=[],t=Object(E.getBidderCodes)(e);_.b.getConfig("bidderSequence")===_.a&&(t=Object(E.shuffle)(t));var n,r,l,d,u,p,m,f=Object(S.a)(),g=t,h=[];j.enabled&&(q()&&(h=I.getSourceBidderMap(e)[I.CLIENT]),n=j.bidders,g=t.filter(function(e){return!C()(n,e)||C()(h,e)}),Boolean(q()&&j.testServerOnly)&&(m=e,Boolean(O()(m,function(e){return O()(e.bids,function(e){return(e.bidSource||j.bidderControl&&j.bidderControl[e.bidder])&&e.finalSource===I.SERVER})})))&&(g.length=0),d=e,u=j.bidders,(p=k.deepClone(d)).forEach(function(e){e.bids=e.bids.filter(function(e){return C()(u,e.bidder)&&(!q()||e.finalSource!==I.CLIENT)}).map(function(e){return e.bid_id=k.getUniqueIdentifierStr(),e})}),r=p=p.filter(function(e){return 0!==e.bids.length}),l=k.generateUUID(),n.forEach(function(e){var t=k.getUniqueIdentifierStr(),n={bidderCode:e,auctionId:i,bidderRequestId:t,tid:l,bids:N({bidderCode:e,auctionId:i,bidderRequestId:t,adUnits:k.deepClone(r),labels:s,src:w.S2S.SRC}),auctionStart:a,timeout:j.timeout,src:w.S2S.SRC,refererInfo:f};0!==n.bids.length&&c.push(n)}),r.forEach(function(e){var t=e.bids.filter(function(t){return O()(c,function(e){return O()(e.bids,function(e){return e.bidId===t.bid_id})})});e.bids=t}),c.forEach(function(e){e.adUnitsS2SCopy=r.filter(function(e){return 0<e.bids.length})}));var b,v,y=(b=e,(v=k.deepClone(b)).forEach(function(e){e.bids=e.bids.filter(function(e){return!q()||e.finalSource!==I.SERVER})}),v=v.filter(function(e){return 0!==e.bids.length}));return g.forEach(function(e){var t=k.getUniqueIdentifierStr(),n={bidderCode:e,auctionId:i,bidderRequestId:t,bids:N({bidderCode:e,auctionId:i,bidderRequestId:t,adUnits:k.deepClone(y),labels:s,src:"client"}),auctionStart:a,timeout:o,refererInfo:f},r=P[e];r||k.logError("Trying to make a request for bidder that does not exist: ".concat(e)),r&&n.bids&&0!==n.bids.length&&c.push(n)}),D.getConsentData()&&c.forEach(function(e){e.gdprConsent=D.getConsentData()}),x.getConsentData()&&c.forEach(function(e){e.uspConsent=x.getConsentData()}),c},"makeBidRequests"),b.callBids=function(e,t,a,i,o,s,c){var n,r,l,d,u,p,m,f,g,h,b;t.length?(r=(n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.reduce(function(e,t){return e[Number(void 0!==t.src&&t.src===w.S2S.SRC)].push(t),e},[[],[]]),2))[0],(l=n[1]).length&&(d=Object(v.b)(s,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),u=j.bidders,p=P[j.adapter],m=l[0].tid,f=l[0].adUnitsS2SCopy,p?(g={tid:m,ad_units:f}).ad_units.length&&(h=l.map(function(e){return e.start=Object(E.timestamp)(),i.bind(e)}),b=g.ad_units.reduce(function(e,t){return e.concat((t.bids||[]).reduce(function(e,t){return e.concat(t.bidder)},[]))},[]),k.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(u.filter(function(e){return C()(b,e)}).join(","))),l.forEach(function(e){A.emit(w.EVENTS.BID_REQUESTED,e)}),p.callBids(g,l,function(e,t){var n=Object(E.getBidderRequest)(l,t.bidderCode,e);n&&a.call(n,e,t)},function(){return h.forEach(function(e){return e()})},d)):k.logError("missing "+j.adapter)),r.forEach(function(e){e.start=Object(E.timestamp)();var t=P[e.bidderCode];k.logMessage("CALLING BIDDER ======= ".concat(e.bidderCode)),A.emit(w.EVENTS.BID_REQUESTED,e);var n=Object(v.b)(s,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0),r=i.bind(e);try{_.b.runWithBidder(e.bidderCode,E.bind.call(t.callBids,t,e,a.bind(e),r,n,c,_.b.callbackWithBidder(e.bidderCode)))}catch(t){k.logError("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),r()}})):k.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},b.videoAdapters=[],b.registerBidAdapter=function(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(P[t]=e,C()(r,"video")&&b.videoAdapters.push(t),C()(r,"native")&&f.e.push(t)):k.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):k.logError("bidAdaptor or bidderCode not specified")},b.aliasBidAdapter=function(e,t,n){var r,a;if(void 0===P[t]){var i=P[e];if(void 0===i){var o=_.b.getConfig("s2sConfig"),s=o&&o.bidders;s&&C()(s,t)?T[t]=e:k.logError('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}else try{var c,l,d,u=(r=e,a=[],C()(b.videoAdapters,r)&&a.push("video"),C()(f.e,r)&&a.push("native"),a);i.constructor.prototype!=Object.prototype?(d=new i.constructor).setBidderCode(t):(c=i.getSpec(),l=n&&n.gvlid,d=Object(p.newBidder)(h({},c,{code:t,gvlid:l})),T[t]=e),b.registerBidAdapter(d,t,{supportedMediaTypes:u})}catch(t){k.logError(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else k.logMessage('alias name "'+t+'" has been already specified.')},b.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,o[n]=t):k.logError('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):k.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},b.enableAnalytics=function(e){k.isArray(e)||(e=[e]),k._each(e,function(e){var t=o[e.provider];t?t.enableAnalytics(e):k.logError("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))})},b.getBidAdapter=function(e){return P[e]},b.callTimedOutBidders=function(t,n,r){n=n.map(function(e){return e.params=k.getUserConfiguredParams(t,e.adUnitCode,e.bidder),e.timeout=r,e}),n=k.groupBy(n,"bidder"),Object.keys(n).forEach(function(e){s(e,"onTimeout",n[e])})},b.callBidWonBidder=function(e,t,n){t.params=k.getUserConfiguredParams(n,t.adUnitCode,t.bidder),g.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),s(e,"onBidWon",t)},b.callSetTargetingBidder=function(e,t){s(e,"onSetTargeting",t)},t.default=b},70:function(e,t,n){var r=n(28),a=n(48),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},71:function(e,t,n){var r=n(27),a=n(28),i=n(72);e.exports=!r&&!a(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},72:function(e,t,n){var r=n(22),a=n(23),i=r.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},73:function(e,t,n){var r=n(16),a=n(74);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},74:function(e,t,n){var r=n(22),a=n(103),i="__core-js_shared__",o=r[i]||a(i,{});e.exports=o},75:function(e,t,n){var r=n(28);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},76:function(e,t,n){function r(s){return function(e,t,n){var r,a=c(e),i=l(a.length),o=d(n,i);if(s&&t!=t){for(;o<i;)if((r=a[o++])!=r)return!0}else for(;o<i;o++)if((s||o in a)&&a[o]===t)return s||o||0;return!s&&-1}}var c=n(47),l=n(50),d=n(107);e.exports={includes:r(!0),indexOf:r(!1)}},77:function(e,t,n){var r=n(108);n(131),n(133),n(135),n(137),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),e.exports=r},78:function(e,t,n){function r(e){s(e,d,{value:{objectID:"O"+ ++u,weakData:{}}})}var a=n(53),i=n(23),o=n(24),s=n(31).f,c=n(59),l=n(111),d=c("meta"),u=0,p=Object.isExtensible||function(){return!0},m=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)?e:("string"==typeof e?"S":"P")+e;if(!o(e,d)){if(!p(e))return"F";if(!t)return"E";r(e)}return e[d].objectID},getWeakData:function(e,t){if(!o(e,d)){if(!p(e))return!0;if(!t)return!1;r(e)}return e[d].weakData},onFreeze:function(e){return l&&m.REQUIRED&&p(e)&&!o(e,d)&&r(e),e}};a[d]=!0},79:function(e,t,n){var r=n(19),a=n(37),i=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},8:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s,a,c=n(0),i=n(5),o=Array.prototype.slice,l=Array.prototype.push,d=c._map(i.EVENTS,function(e){return e}),u=i.EVENT_ID_PATHS,p=[];e.exports=(s={},(a={}).on=function(e,t,n){var r,a;a=e,c.contains(d,a)?(r=s[e]||{que:[]},n?(r[n]=r[n]||{que:[]},r[n].que.push(t)):r.que.push(t),s[e]=r):c.logError("Wrong event name : "+e+" Valid event names :"+d)},a.emit=function(e){!function(e,t){c.logMessage("Emitting event for: "+e);var n=t[0]||{},r=n[u[e]],a=s[e]||{que:[]},i=c._map(a,function(e,t){return t}),o=[];p.push({eventType:e,args:n,id:r}),r&&c.contains(i,r)&&l.apply(o,a[r].que),l.apply(o,a.que),c._each(o,function(e){if(e)try{e.apply(null,t)}catch(e){c.logError("Error executing handler:","events.js",e)}})}(e,o.call(arguments,1))},a.off=function(e,n,r){var a=s[e];c.isEmpty(a)||c.isEmpty(a.que)&&c.isEmpty(a[r])||r&&(c.isEmpty(a[r])||c.isEmpty(a[r].que))||(r?c._each(a[r].que,function(e){var t=a[r].que;e===n&&t.splice(t.indexOf(e),1)}):c._each(a.que,function(e){var t=a.que;e===n&&t.splice(t.indexOf(e),1)}),s[e]=a)},a.get=function(){return s},a.getEvents=function(){var n=[];return c._each(p,function(e){var t=r({},e);n.push(t)}),n},a)},80:function(e,t,n){var i=n(15);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&i(a.call(e)),t}}},81:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},82:function(e,t,n){function r(){}function a(e){return"<script>"+e+"<\/script>"}var i,o=n(15),s=n(116),c=n(83),l=n(53),d=n(119),u=n(72),p=n(65),m="prototype",f=p("IE_PROTO"),g=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;g=i?function(e){e.write(a("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=u("iframe")).style.display="none",d.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(a("document.F=Object")),e.close(),e.F);for(var n=c.length;n--;)delete g[m][c[n]];return g()};l[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(r[m]=o(e),n=new r,r[m]=null,n[f]=e):n=g(),void 0===t?n:s(n,t)}},828:function(e,t,n){e.exports=n(68)},83:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},84:function(e,t,n){var a=n(29);e.exports=function(e,t,n,r){r&&r.enumerable?e[t]=n:a(e,t,n)}},85:function(e,t,n){var r,a,i,o=n(86),s=n(29),c=n(24),l=n(19),d=n(16),u=l("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(a=o(o(i)))!==Object.prototype&&(r=a):p=!0),null==r&&(r={}),d||c(r,u)||s(r,u,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},86:function(e,t,n){var r=n(24),a=n(57),i=n(65),o=n(122),s=i("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},87:function(e,t,n){var a=n(127).charAt,r=n(54),i=n(66),o="String Iterator",s=r.set,c=r.getterFor(o);i(String,"String",function(e){s(this,{type:o,string:String(e),index:0})},function(){var e,t=c(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=a(n,r),t.index+=e.length,{value:e,done:!1})})},88:function(e,t,n){var r=n(15),a=n(61);e.exports=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},89:function(e,t,n){var r=n(153);e.exports=r},9:function(e,t,n){n.d(t,"c",function(){return u}),n.d(t,"d",function(){return p}),t.a=function(e){return i({moduleName:e,moduleType:"core"})},t.b=function(e,t){return i({gvlid:e,moduleName:t})};var r=n(13),s=n(0),a=n(12),c=n.n(a),d=["core","prebid-module"],u=[];function i(e){var t=0<arguments.length&&void 0!==e?e:{},a=t.gvlid,i=t.moduleName,o=t.moduleType;function l(n){return c()(d,o)?n({valid:!0}):(p(a,i,{hasEnforcementHook:!1},function(e){var t;r=e&&e.hasEnforcementHook?n(e):(t={hasEnforcementHook:!1,valid:s.hasDeviceAccess()},n(t))}),r);var r}return{setCookie:function(a,i,o,s,c,t){function n(e){var t,n,r;e&&e.valid&&(t=c&&""!==c?" ;domain=".concat(encodeURIComponent(c)):"",n=o&&""!==o?" ;expires=".concat(o):"",r=null!=s&&"none"==s.toLowerCase()?"; Secure":"",document.cookie="".concat(a,"=").concat(encodeURIComponent(i)).concat(n,"; path=/").concat(t).concat(s?"; SameSite=".concat(s):"").concat(r))}if(!t||"function"!=typeof t)return l(n);u.push(function(){var e=l(n);t(e)})},getCookie:function(n,t){function r(e){if(e&&e.valid){var t=window.document.cookie.match("(^|;)\\s*"+n+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null}if(!t||"function"!=typeof t)return l(r);u.push(function(){var e=l(r);t(e)})},localStorageIsEnabled:function(t){function n(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}return!1}if(!t||"function"!=typeof t)return l(n);u.push(function(){var e=l(n);t(e)})},cookiesAreEnabled:function(t){function n(e){return!(!e||!e.valid||!s.checkCookieSupport()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))}if(!t||"function"!=typeof t)return l(n);u.push(function(){var e=l(n);t(e)})},setDataInLocalStorage:function(t,n,r){function a(e){e&&e.valid&&window.localStorage.setItem(t,n)}if(!r||"function"!=typeof r)return l(a);u.push(function(){var e=l(a);r(e)})},getDataFromLocalStorage:function(t,n){function r(e){return e&&e.valid?window.localStorage.getItem(t):null}if(!n||"function"!=typeof n)return l(r);u.push(function(){var e=l(r);n(e)})},removeDataFromLocalStorage:function(t,n){function r(e){e&&e.valid&&window.localStorage.removeItem(t)}if(!n||"function"!=typeof n)return l(r);u.push(function(){var e=l(r);n(e)})},hasLocalStorage:function(t){function n(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){s.logError("Local storage api disabled")}return!1}if(!t||"function"!=typeof t)return l(n);u.push(function(){var e=l(n);t(e)})},findSimilarCookies:function(i,t){function n(e){if(e&&e.valid){var t=[];if(s.hasDeviceAccess())for(var n=document.cookie.split(";");n.length;){var r=n.pop(),a=(a=r.indexOf("="))<0?r.length:a;0<=decodeURIComponent(r.slice(0,a).replace(/^\s+/,"")).indexOf(i)&&t.push(decodeURIComponent(r.slice(a+1)))}return t}}if(!t||"function"!=typeof t)return l(n);u.push(function(){var e=l(n);t(e)})}}}var p=Object(r.b)("async",function(e,t,n,r){r(n)},"validateStorageEnforcement")},90:function(e,t,n){t.a=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},91:function(e,t,n){t.a=function(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}},t.c=function(e){var t=h(1<arguments.length&&void 0!==arguments[1]?arguments[1]:g);return!t.shouldFilter||!!t.sizesSupported[e]},t.b=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,a=void 0!==r&&r,i=e.activeLabels,o=void 0===i?[]:i,s=1<arguments.length?arguments[1]:void 0,c=2<arguments.length?arguments[2]:void 0,l=h(3<arguments.length&&void 0!==arguments[3]?arguments[3]:g);s=Object(m.isPlainObject)(s)?Object(m.deepClone)(s):c?{banner:{sizes:c}}:{};var d=Object(m.deepAccess)(s,"banner.sizes");l.shouldFilter&&d&&(s.banner.sizes=d.filter(function(e){return l.sizesSupported[e]}));var u=Object.keys(s),p={active:u.every(function(e){return"banner"!==e})||u.some(function(e){return"banner"===e})&&0<Object(m.deepAccess)(s,"banner.sizes.length")&&(0===n.length||!a&&(n.some(function(e){return l.labels[e]})||n.some(function(e){return f()(o,e)}))||a&&n.reduce(function(e,t){return e?l.labels[t]||f()(o,t):e},!0)),mediaTypes:s};return d&&d.length!==s.banner.sizes.length&&(p.filterResults={before:d,after:s.banner.sizes}),p};var r=n(3),m=n(0),a=n(12),f=n.n(a);function i(e){return(i="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}var g=[];function h(e){return e.reduce(function(n,r){if("object"===i(r)&&"string"==typeof r.mediaQuery){var t=!1;if(""===r.mediaQuery)t=!0;else try{t=Object(m.getWindowTop)().matchMedia(r.mediaQuery).matches}catch(e){Object(m.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),t=matchMedia(r.mediaQuery).matches}t&&(Array.isArray(r.sizesSupported)&&(n.shouldFilter=!0),["labels","sizesSupported"].forEach(function(t){return(r[t]||[]).forEach(function(e){return n[t][e]=!0})}))}else Object(m.logWarn)('sizeConfig rule missing required property "mediaQuery"');return n},{labels:{},sizesSupported:{},shouldFilter:!1})}r.b.getConfig("sizeConfig",function(e){return t=e.sizeConfig,void(g=t);var t})},92:function(e,t,n){var r=n(215);e.exports=r},93:function(e,t,n){t.b=function(e,t,n){var r,a={puts:e.map(c,n)};Object(i.a)(o.b.getConfig("cache.url"),(r=t,{success:function(e){var t;try{t=JSON.parse(e).responses}catch(e){return void r(e,[])}t?r(null,t):r(new Error("The cache server didn't respond with a responses property."),[])},error:function(e,t){r(new Error("Error storing video ad in the cache: ".concat(e,": ").concat(JSON.stringify(t))),[])}}),JSON.stringify(a),{contentType:"text/plain",withCredentials:!0})},t.a=function(e){return"".concat(o.b.getConfig("cache.url"),"?uuid=").concat(e)};var i=n(4),o=n(3),s=n(0);function c(e){var t,n,r,a={type:"xml",value:e.vastXml?e.vastXml:(t=e.vastUrl,n=e.vastImpUrl,r=n?"<![CDATA[".concat(n,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)};return o.b.getConfig("cache.vasttrack")&&(a.bidder=e.bidder,a.bidid=e.requestId,s.isPlainObject(this)&&this.hasOwnProperty("auctionStart")&&(a.timestamp=this.auctionStart)),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(a.key=e.customCacheKey),a}},96:function(e,t,n){n(97);var r=n(52);e.exports=r("Array","find")},97:function(e,t,n){var r=n(14),a=n(56).find,i=n(51),o=n(60),s=!0,c=o("find");"find"in[]&&Array(1).find(function(){s=!1}),r({target:"Array",proto:!0,forced:s||!c},{find:function(e,t){return a(this,e,1<arguments.length?t:void 0)}}),i("find")},98:function(e,t,n){var r=n(27),a=n(99),i=n(46),o=n(47),s=n(55),c=n(24),l=n(71),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=o(e),t=s(t,!0),l)try{return d(e,t)}catch(e){}if(c(e,t))return i(!a.f.call(e,t),e[t])}},99:function(e,t,n){var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!r.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:r}}),pbjsChunk([286],{253:function(e,t,n){e.exports=n(254)},254:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return v});var r=n(1),l=n(2),d=n(0);function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}var p=/\.co\.\w{2,4}$/,m=/^\s*<\?xml[^\?]+\?>/,f=/^\s*<\??(?:vast|xml)/i;function g(e,t){return null==e?[]:e.map(t).reduce(function(e,t){return null!=t&&e.concat(t)},[])}function s(e,t){return null==e||o(e)===t}var c=encodeURIComponent;function h(e){var s={};return Object(d._each)(e,function(e){var t,n,r,a,i,o;s[e.bidId]=(n=function(e,t){return e.concat(Object(d.deepAccess)(t,"".concat(l.b,".sizes"),[])||[]).concat(Object(d.deepAccess)(t,"".concat(l.d,".sizes"),[])||[]).sort(function(e,t){return t[0]*t[1]-e[0]*e[1]})[0]}((t=e).sizes,t.mediaTypes)||[0,0],r=t.mediaType===l.d||l.d in t.mediaTypes,a=r||100<n[1],i=Object(d.deepAccess)(t,"params.tagId"),o={av:a,vr:r,aw:n[0],ah:n[1],tf:0},"string"==typeof i&&0<i.length&&(o.i=i),o)}),s}function b(e,t){return Object(d.triggerPixel)("".concat("https://1x1.a-mo.net/hbx/","g_").concat(e,"?").concat(Object(d.formatQS)(i(i({},t),{},{ts:Date.now(),eid:Object(d.getUniqueIdentifierStr)()}))))}var v={code:"amx",supportedMediaTypes:[l.b,l.d],isBidRequestValid:function(e){return s(Object(d.deepAccess)(e,"params.endpoint",null),"string")&&s(Object(d.deepAccess)(e,"params.tagId",null),"string")&&s(Object(d.deepAccess)(e,"params.testMode",null),"boolean")},buildRequests:function(e,t){var n,r,a,i,o=(n=t,Object(d.parseUrl)(Object(d.deepAccess)(n,"refererInfo.canonicalUrl",location.href))),s=Object(d.deepAccess)(e[0],"params.tagId",null),c=Object(d.deepAccess)(e[0],"params.testMode",0);return{data:{a:t.auctionId,B:0,b:o.host,tm:c,V:"4.2.0",i:c&&null!=s?s:(a=(r=o).hostname.split("."),i=a.slice(a.length-(p.test(r.host)?3:2)).join("."),btoa(i).replace(/=+$/,"")),l:{},f:.01,cv:"pba1.0",st:"prebid",h:screen.height,w:screen.width,gs:Object(d.deepAccess)(t,"gdprConsent.gdprApplies","0"),gc:Object(d.deepAccess)(t,"gdprConsent.consentString",""),u:Object(d.deepAccess)(t,"refererInfo.canonicalUrl",o.href),do:o.host,re:Object(d.deepAccess)(t,"refererInfo.referer"),usp:t.uspConsent||"1---",smt:1,d:"",m:h(e)},method:"POST",url:Object(d.deepAccess)(e[0],"params.endpoint","https://prebid.a-mo.net/a/c"),withCredentials:!0}},getUserSyncs:function(n,e){if(null==e||0===e.length)return[];var r=[];return Object(d._each)(e,function(e){var t=e.body;null!=t&&null!=t.p&&t.p.hreq&&Object(d._each)(t.p.hreq,function(e){var t=-1!==e.indexOf("__st=iframe")?"iframe":"image";!n.iframeEnabled&&"image"!=t||r.push({url:e,type:t})})}),r},interpretResponse:function(e,c){var t=e.body;return null==t||"string"==typeof t?[]:g(Object.keys(t.r),function(s){return g(t.r[s],function(e){return e.b.map(function(e){var t,n,r=function(e){return null!=(t=e.adm)&&f.test(t)?l.d:l.b;var t}(e),a=r===l.b?(t=e,n=Object(d.deepAccess)(t,"ext.himp",[]).concat(null!=t.nurl?[t.nurl]:[]).filter(function(e){return null!=e&&0<e.length}).map(function(e){return'<img src="'.concat(e,'" width="0" height="0"/>')}).join(""),t.adm+n):function(e){if("undefined"==typeof DOMParser||null==DOMParser.prototype.parseFromString)return function(e){var t=[];Object(d._each)([e.nurl].concat(null!=e.ext&&null!=e.ext.himp?e.ext.himp:[]),function(e){null!=e&&t.push("<Impression><![CDATA[".concat(e,"]]></Impression>"))});var n=e.adm.indexOf("<Impression");return e.adm.slice(0,n)+t.join("")+e.adm.slice(n)}(e);var r=(new DOMParser).parseFromString(e.adm,"text/xml");if(null==r||null!=r.querySelector("parsererror"))return null;var a=r.querySelector("InLine,Wrapper");if(null==a)return null;var t=[e.nurl].concat(null!=e.ext&&null!=e.ext.himp?e.ext.himp:[]).filter(function(e){return null!=e});Object(d._each)(t,function(e){var t=r.createElement("Impression"),n=r.createCDATASection(e);t.appendChild(n),a.appendChild(t)});var n,i,o=m.exec(e.adm);return(null!=o?o[0]:'<?xml version="'.concat((i=r).xmlVersion,'" encoding="').concat(i.xmlEncoding,'" ?>'))+("outerHTML"in(n=r.documentElement)&&null!=n.outerHTML?n.outerHTML:(new XMLSerializer).serializeToString(n))}(e);if(null==a)return null;var i,o=function(e,t,n){if(null!=e.w&&1<e.w&&null!=e.h&&1<e.h)return[e.w,e.h];var r=t.m[n];return null==r?[0,0]:[r.aw,r.ah]}(e,c.data,s);return u(i={requestId:s,cpm:e.price,width:o[0],height:o[1],creativeId:e.crid,currency:"USD",netRevenue:!0},r===l.d?"vastXml":"ad",a),u(i,"meta",{advertiserDomains:e.adomain,mediaType:r}),u(i,"ttl",r===l.d?90:70),i})}).filter(function(e){return null!=e})})},onSetTargeting:function(e){var t,n;null!=e&&b("pbst",{A:e.bidder,w:e.width,h:e.height,bid:e.adId,c1:e.mediaType,np:e.cpm,aud:e.requestId,a:e.adUnitCode,c2:(t=e.adserverTargeting,n=[],Object.keys(t||{}).forEach(function(e){n.push(c(e)+"="+c(String(t[e])))}),c(n.join("&")))})},onTimeout:function(e){null!=e&&b("pbto",{A:e.bidder,bid:e.bidId,a:e.adUnitCode,cn:e.timeout,aud:e.auctionId})},onBidWon:function(e){null!=e&&b("pbwin",{A:e.bidder,w:e.width,h:e.height,bid:e.adId,C:e.mediaType===l.b?0:1,np:e.cpm,a:e.adUnitCode})}};Object(r.registerBidder)(v)}},[253]),pbjsChunk([284],{257:function(e,t,n){e.exports=n(258)},258:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return w});var s=n(0),r=n(1),a=n(2);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(){var e=d(["dcn=","&pos=","&cmd=bid",""]);return i=function(){return e},e}function c(){var e=d(["","/bidRequest?"]);return c=function(){return e},e}function l(){var e=d(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]);return l=function(){return e},e}function d(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u={AOL:"aol",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},p="display-get",m="mobile-get",f="mobile-post",g="iframe",h="img",b="image",v=C(l(),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),y=C(c(),"host"),E=C(i(),"dcn","pos","dynamicParams"),_={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"};function C(o){for(var e=arguments.length,n=new Array(1<e?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var a=r[r.length-1]||{},i=[o[0]];return n.forEach(function(e,t){var n=s.isInteger(e)?r[e]:a[e];i.push(n,o[t+1])}),i.join("")}}function O(e){return e===u.AOL||e===u.ONEMOBILE}function S(e){if(O(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var t=e.params.imp[0];return t.id&&t.tagid&&(t.banner&&t.banner.w&&t.banner.h||t.video&&t.video.mimes&&t.video.minduration&&t.video.maxduration)}}function I(e){return O(e.bidder)&&e.params.dcn&&e.params.pos}function k(e){return((t=e.bidder)===u.AOL||t===u.ONEDISPLAY)&&e.params.placement&&e.params.network;var t}var w={code:u.AOL,gvlid:25,aliases:[u.ONEMOBILE,u.ONEDISPLAY],supportedMediaTypes:[a.b],isBidRequestValid:function(e){return k(e)||I(t=e)||S(t);var t},buildRequests:function(e,t){var r=this,a={};return t&&(a.gdpr=t.gdprConsent,a.uspConsent=t.uspConsent),e.map(function(e){var t,n=I(t=e)?m:S(t)?f:k(t)?p:void 0;if(n)return r.formatBidRequest(n,e,a)})},interpretResponse:function(e,t){var n=e.body;if(n){var r=this._parseBidResponse(n,t);if(r)return r}else s.logError("Empty bid response",t.bidderCode,n)},getUserSyncs:function(e,t){var n=!s.isEmpty(t)&&t[0].body;return n&&n.ext&&n.ext.pixels?this.parsePixelItems(n.ext.pixels):[]},formatBidRequest:function(e,t,n){var r;switch(e){case p:r={url:this.buildMarketplaceUrl(t,n),method:"GET",ttl:60};break;case m:r={url:this.buildOneMobileGetUrl(t,n),method:"GET",ttl:3600};break;case f:r={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,n),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return r.bidderCode=t.bidder,r.bidId=t.bidId,r.userSyncOn=t.params.userSyncOn,r},buildMarketplaceUrl:function(e,t){var n,r=e.params,a=r.server,i=r.region||"us";return _.hasOwnProperty(i)||(s.logWarn("Unknown region '".concat(i,"' for AOL bidder.")),i="us"),n=a||_[i],r.region=i,this.applyProtocol(v({host:n,network:r.network,placement:parseInt(r.placement),pageid:r.pageId||0,sizeid:r.sizeId||0,alias:r.alias||s.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(r,t)}))},buildOneMobileGetUrl:function(e,t){var n,r=e.params,a=r.dcn,i=r.pos,o=r.ext,s=this.buildOneMobileBaseUrl(e);return a&&i&&(n=this.formatOneMobileDynamicParams(o,t),s+=E({dcn:a,pos:i,dynamicParams:n})),s},buildOneMobileBaseUrl:function(e){return this.applyProtocol(y({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:0===e.indexOf("//")?"".concat("https",":").concat(e):"".concat("https","://").concat(e)},formatMarketplaceDynamicParams:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{},a={};n.bidFloor&&(a.bidfloor=n.bidFloor),o(a,this.formatKeyValues(n.keyValues)),o(a,this.formatConsentData(r));var i="";return s._each(a,function(e,t){i+="".concat(t,"=").concat(encodeURIComponent(e),";")}),i},formatOneMobileDynamicParams:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{};this.isSecureProtocol()&&(n.secure=1),o(n,this.formatConsentData(r));var a="";return s._each(n,function(e,t){a+="&".concat(t,"=").concat(encodeURIComponent(e))}),a},buildOpenRtbRequestData:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(n)&&(s.deepSetValue(r,"regs.ext.gdpr",1),n.gdpr.consentString&&s.deepSetValue(r,"user.ext.consent",n.gdpr.consentString)),n.uspConsent&&s.deepSetValue(r,"regs.ext.us_privacy",n.uspConsent),r},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var n={};return s._each(e,function(e,t){n["kv".concat(t)]=e}),n},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=1,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var t,r=/\w*(?=\s)/,a=/src=("|')(.*?)\1/,i=[];return!e||(t=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&t.forEach(function(e){var t=e.match(r)[0],n=e.match(a)[2];t&&t&&i.push({type:t===h?b:g,url:n})}),i},_parseBidResponse:function(e,t){var n,r;try{n=e.seatbid[0].bid[0]}catch(e){return}if(n.ext&&n.ext.encp)r=n.ext.encp;else if(null===(r=n.price)||isNaN(r))return void s.logError("Invalid price in bid response",u.AOL,n);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:n.adm,cpm:r,width:n.w,height:n.h,creativeId:n.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:n.dealid,netRevenue:!0,ttl:t.ttl}},isOneMobileBidder:O,isSecureProtocol:function(){return"https:"===document.location.protocol}};Object(r.registerBidder)(w)}},[257]),pbjsChunk([282],{265:function(e,t,n){e.exports=n(266)},266:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return m});var f=n(11),P=n(0),T=n(3),g=n(1),h=n(2),l=n(26),r=n(10),j=n.n(r),a=n(12),N=n.n(a),b=n(36),i=n(9);function o(e){return(o="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return s(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x="https://ib.adnxs.com/ut/v3/prebid",d=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],q=["age","externalUid","segments","gender","dnt","language"],M=["geo","device_id"],R=["enabled","dongle","member_id","debug_timeout"],u={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},p={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},c=/\/\/cdn\.adnxs\.com\/v/,B=Object(i.b)(32,"appnexus"),m={code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[h.b,h.d,h.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var E=e.map(U),n=j()(e,L),r={};!0===T.b.getConfig("coppa")&&(r={coppa:!0}),n&&Object.keys(n.params.user).filter(function(e){return N()(q,e)}).forEach(function(e){var t=P.convertCamelToUnderscore(e);r[t]=n.params.user[e]});var a,i=j()(e,W);i&&i.params&&i.params.app&&(a={},Object.keys(i.params.app).filter(function(e){return N()(M,e)}).forEach(function(e){return a[e]=i.params.app[e]}));var o,s=j()(e,V);s&&s.params&&i.params.app&&i.params.app.id&&(o={appid:s.params.app.id});var c={},l={},d=B.getCookie("apn_prebid_debug")||null;if(d)try{c=JSON.parse(d)}catch(e){P.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var u=j()(e,G);u&&u.debug&&(c=u.debug)}c&&c.enabled&&Object.keys(c).filter(function(e){return N()(R,e)}).forEach(function(e){l[e]=c[e]});var p,m=j()(e,F),f=m?parseInt(m.params.member,10):0,g=e[0].schain,_={tags:D(E),user:r,sdk:{source:"pbjs",version:"4.2.0"},schain:g};0<f&&(_.member_id=f),i&&(_.device=a),s&&(_.app=o),T.b.getConfig("adpod.brandCategoryExclusion")&&(_.brand_category_uniqueness=!0),l.enabled&&(_.debug=l,P.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(l,null,4))),t&&t.gdprConsent&&(_.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(_.us_privacy=t.uspConsent),t&&t.refererInfo&&(p={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},_.referrer_detection=p),j()(e,z)&&e.filter(z).forEach(function(t){var e,n,r,a,i,o,s,c,l,d,u,p,m,f,g,h,b,v=(e=E,u=(n=t).mediaTypes.video,p=u.durationRangeSec,m=u.requireExactDuration,r=n.mediaTypes.video,a=r.adPodDurationSec,i=r.durationRangeSec,o=r.requireExactDuration,s=P.getMinValueFromArray(i),c=Math.floor(a/s),f=o?Math.max(c,i.length):c,g=P.getMaxValueFromArray(p),h=e.filter(function(e){return e.uuid===n.bidId}),b=P.fill.apply(P,D(h).concat([f])),m?(l=Math.ceil(f/p.length),d=P.chunk(b,l),p.forEach(function(t,e){d[e].map(function(e){H(e,"minduration",t),H(e,"maxduration",t)})})):b.map(function(e){return H(e,"maxduration",g)}),b),y=_.tags.filter(function(e){return e.uuid!==t.bidId});_.tags=[].concat(D(y),D(v))});var h=[],b=P.deepAccess(e[0],"userId.criteoId");b&&h.push({source:"criteo.com",id:b});var v,y,C,O,S,I,k,w,A=P.deepAccess(e[0],"userId.tdid");return A&&h.push({source:"adserver.org",id:A,rti_partner:"TDID"}),h.length&&(_.eids=h),E[0].publisher_id&&(_.publisher_id=E[0].publisher_id),v=_,k=[],w={},O=!0,(C=y=t)&&C.gdprConsent&&C.gdprConsent.gdprApplies&&2===C.gdprConsent.apiVersion&&(O=!(!0!==P.deepAccess(C.gdprConsent,"vendorData.purpose.consents.1"))),O||(w={withCredentials:!1}),15<v.tags.length?(S=P.deepClone(v),P.chunk(v.tags,15).forEach(function(e){S.tags=e;var t=JSON.stringify(S);k.push({method:"POST",url:x,data:t,bidderRequest:y,options:w})})):(I=JSON.stringify(v),k={method:"POST",url:x,data:I,bidderRequest:y,options:w}),k},interpretResponse:function(e,t){var i=this,o=t.bidderRequest;e=e.body;var n,s=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t,n,r,a=(t=e)&&t.ads&&t.ads.length&&j()(t.ads,function(e){return e.rtb});a&&0!==a.cpm&&N()(i.supportedMediaTypes,a.ad_type)&&((n=function(t,e,n){var r,a,i=P.getBidRequest(t.uuid,[n]),o={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};if(e.advertiser_id&&(o.meta=v({},o.meta,{advertiserId:e.advertiser_id})),e.rtb.video)switch(v(o,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),P.deepAccess(i,"mediaTypes.video.context")){case h.a:var s=Object(g.getIabSubCategory)(i.bidder,e.brand_category_id);o.meta=v({},o.meta,{primaryCatId:s});var c=e.deal_priority;o.video={context:h.a,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:c},o.vastUrl=e.rtb.video.asset_url;break;case b.b:o.adResponse=t,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=e.rtb.video.content,e.renderer_url&&(r=j()(n.bids,function(e){return e.bidId===t.uuid}),a=P.deepAccess(r,"renderer.options"),o.renderer=function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},a=f.a.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{a.setRender(O)}catch(e){P.logWarn("Prebid Error calling setRender on renderer",e)}return a.setEventHandlers({impression:function(){return P.logMessage("AppNexus outstream video impression event")},loaded:function(){return P.logMessage("AppNexus outstream video loaded event")},ended:function(){P.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),a}(o.adUnitCode,e,a));break;case b.a:o.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}else if(e.rtb[h.c]){var l=e.rtb[h.c],d=e.viewability.config.replace("src=","data-src="),u=l.javascript_trackers;null==u?u=d:P.isStr(u)?u=[u,d]:u.push(d),o[h.c]={title:l.title,body:l.desc,body2:l.desc2,cta:l.ctatext,rating:l.rating,sponsoredBy:l.sponsored,privacyLink:l.privacy_link,address:l.address,downloads:l.downloads,likes:l.likes,phone:l.phone,price:l.price,salePrice:l.saleprice,clickUrl:l.link.url,displayUrl:l.displayurl,clickTrackers:l.link.click_trackers,impressionTrackers:l.impression_trackers,javascriptTrackers:u},l.main_img&&(o.native.image={url:l.main_img.url,height:l.main_img.height,width:l.main_img.width}),l.icon&&(o.native.icon={url:l.icon.url,height:l.icon.height,width:l.icon.width})}else{v(o,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{var p,m;e.rtb.trackers&&(p=e.rtb.trackers[0].impression_urls[0],m=P.createTrackPixelHtml(p),o.ad+=m)}catch(e){P.logError("Error appending tracking pixel",e)}}return o}(e,a,o)).mediaType=(r=a.ad_type)===h.d?h.d:r===h.c?h.c:h.b,s.push(n))}),e.debug&&e.debug.debug_info&&(n=(n="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),P.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),P.logMessage(n)),s;var r="in response for ".concat(o.bidderCode," adapter");return e&&e.error&&(r+=": ".concat(e.error)),P.logError(r),s},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(n,e){return n=P.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:P.transformBidderParamKeywords,publisherId:"number"},n),e&&(n.use_pmt_rule="boolean"==typeof n.usePaymentRule&&n.usePaymentRule,n.usePaymentRule&&delete n.usePaymentRule,y(n.keywords)&&n.keywords.forEach(E),Object.keys(n).forEach(function(e){var t=P.convertCamelToUnderscore(e);t!==e&&(n[t]=n[e],delete n[e])})),n},onBidWon:function(e){e.native&&function(e){var t,n,r,a=function(e){var t;if(P.isStr(e)&&_(e))t=e;else if(P.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];_(r)&&(t=r)}return t}(e.native.javascriptTrackers);if(a)for(var i="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,o=(void 0,n=(t=a).indexOf('src="')+5,r=t.indexOf('"',n),t.substring(n,r)),s=o.replace("dom_id=%native_dom_id%",i),c=document.getElementsByTagName("iframe"),l=!1,d=0;d<c.length&&!l;d++){var u=c[d];try{var p=u.contentDocument||u.contentWindow.document;if(p)for(var m=p.getElementsByTagName("script"),f=0;f<m.length&&!l;f++){var g=m[f];g.getAttribute("data-src")==o&&(g.setAttribute("src",s),g.setAttribute("data-src",""),g.removeAttribute&&g.removeAttribute("data-src"),l=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function y(e){return P.isArray(e)&&0<e.length}function E(e){y(e.value)&&""===e.value[0]&&delete e.value}function _(e){var t=e.match(c),n=null!=t&&1<=t.length,r=e.match("trk.js"),a=null!=r&&1<=r.length;return e.startsWith("<script")&&a&&n}function U(n){var e,t,a,i,r={};r.sizes=C(n.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=n.bidId,n.params.placementId?r.id=parseInt(n.params.placementId,10):r.code=n.params.invCode,r.allow_smaller_sizes=n.params.allowSmallerSizes||!1,r.use_pmt_rule=n.params.usePaymentRule||!1,r.prebid=!0,r.disable_psa=!0,n.params.reserve&&(r.reserve=n.params.reserve),n.params.position&&(r.position={above:1,below:2}[n.params.position]||0),n.params.trafficSourceCode&&(r.traffic_source_code=n.params.trafficSourceCode),n.params.privateSizes&&(r.private_sizes=C(n.params.privateSizes)),n.params.supplyType&&(r.supply_type=n.params.supplyType),n.params.pubClick&&(r.pubclick=n.params.pubClick),n.params.extInvCode&&(r.ext_inv_code=n.params.extInvCode),n.params.publisherId&&(r.publisher_id=parseInt(n.params.publisherId,10)),n.params.externalImpId&&(r.external_imp_id=n.params.externalImpId),P.isEmpty(n.params.keywords)||(0<(e=P.transformBidderParamKeywords(n.params.keywords)).length&&e.forEach(E),r.keywords=e),n.mediaType!==h.c&&!P.deepAccess(n,"mediaTypes.".concat(h.c))||(r.ad_types.push(h.c),0===r.sizes.length&&(r.sizes=C([1,1])),n.nativeParams&&(a=n.nativeParams,i={},Object.keys(a).forEach(function(e){var t,n=p[e]&&p[e].serverName||p[e]||e,r=p[e]&&p[e].requiredParams;i[n]=v({},r,a[e]),n!==p.image.serverName&&n!==p.icon.serverName||!i[n].sizes||(t=i[n].sizes,(P.isArrayOfNums(t)||P.isArray(t)&&0<t.length&&t.every(function(e){return P.isArrayOfNums(e)}))&&(i[n].sizes=C(i[n].sizes))),n===p.privacyLink&&(i.privacy_supported=!0)}),t=i,r[h.c]={layouts:[t]}));var o=P.deepAccess(n,"mediaTypes.".concat(h.d)),s=P.deepAccess(n,"mediaTypes.video.context");r.hb_source=o&&"adpod"===s?7:1,n.mediaType!==h.d&&!o||r.ad_types.push(h.d),(n.mediaType===h.d||o&&"outstream"!==s)&&(r.require_asset_url=!0),n.params.video&&(r.video={},Object.keys(n.params.video).filter(function(e){return N()(d,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=n.params.video[e];t=P.isArray(t)?t[0]:t;r.video[e]=u[e][t];break;default:r.video[e]=n.params.video[e]}})),n.renderer&&(r.video=v({},r.video,{custom_renderer_present:!0}));var c=j()(l.a.getAdUnits(),function(e){return n.transactionId===e.transactionId});return c&&c.mediaTypes&&c.mediaTypes.banner&&r.ad_types.push(h.b),0===r.ad_types.length&&delete r.ad_types,r}function C(e){var t=[],n={};if(P.isArray(e)&&2===e.length&&!P.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===o(e))for(var r=0;r<e.length;r++){var a=e[r];(n={}).width=parseInt(a[0],10),n.height=parseInt(a[1],10),t.push(n)}return t}function L(e){return!!e.params.user}function F(e){return!!parseInt(e.params.member,10)}function W(e){if(e.params)return!!e.params.app}function V(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function G(e){return!!e.debug}function z(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===h.a}function H(e,t,n){P.isEmpty(e.video)&&(e.video={}),e.video[t]=n}function O(e){var t,n;t=e.adUnitCode,(n=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&n[0].style.setProperty("display","none"),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}.bind(null,e))})}Object(g.registerBidder)(m)}},[265]),pbjsChunk([248],{337:function(e,t,n){e.exports=n(338)},338:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"allowAuction",function(){return y}),n.d(t,"userCMP",function(){return l}),n.d(t,"consentTimeout",function(){return d}),n.d(t,"gdprScope",function(){return u}),n.d(t,"staticConsentData",function(){return p}),t.requestBidsHook=O,t.resetConsentData=function(){l=g=void 0,E=0,a.gdprDataHandler.setConsentData(null)},t.setConsentConfig=A;var m=n(0),r=n(3),a=n(7),i=n(12),o=n.n(i),s=n(339),f=n.n(s);function c(e){return(c="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}var l,d,u,p,g,h="iab",b=1e4,v=!0,y={value:v,definedInConfig:!1},E=0,_=!1,C={iab:function(n,r,o){function e(e,t){m.logInfo("Received a response from CMP",e),t?("tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus||"cmpuishown"===e.eventStatus&&e.tcString&&!0===e.purposeOneTreatment)&&n(e,o):r("CMP unable to register callback function.  Please check CMP setup.",o)}var t,a=(t={},{consentDataCallback:function(e){t.getConsentData=e,l()},vendorConsentsCallback:function(e){t.getVendorConsents=e,l()}}),u={},i=function(){for(var e,t,n=window;!e;){try{if("function"==typeof n.__tcfapi||"function"==typeof n.__cmp){t="function"==typeof n.__tcfapi?(E=2,n.__tcfapi):(E=1,n.__cmp),e=n;break}}catch(e){}try{if(n.frames.__tcfapiLocator){E=2,e=n;break}}catch(e){}try{if(n.frames.__cmpLocator){E=1,e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{cmpFrame:e,cmpFunction:t}}(),s=i.cmpFrame,c=i.cmpFunction;function l(){t.getConsentData&&t.getVendorConsents&&(m.logInfo("Received all requested responses from CMP",t),n(t,o))}if(!s)return r("CMP not found.",o);function d(r,a){var e,t=o.adUnits,n=1,i=1;Array.isArray(t)&&0<t.length&&(n=(e=m.getAdUnitSizes(t[0]))[0][0],i=e[0][1]),window.$sf.ext.register(n,i,function(e,t){var n;"cmpReturn"===e&&(n="getConsentData"===r?t.vendorConsentData:t.vendorConsents,a(n))}),window.$sf.ext.cmp(r)}function p(e,l,t){var d=2===E?"__tcfapi":"__cmp";window[d]=function(e,t,n){var r,a,i,o=Math.random()+"",s="".concat(d,"Call"),c=(i={command:e,parameter:t,callId:o},(a=s)in(r={})?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r);1!==E&&(c[s].version=E),u[o]=n,l.postMessage(c,"*")},window.addEventListener("message",function(e){var t,n="".concat(d,"Return"),r="string"==typeof e.data&&f()(e.data,n)?JSON.parse(e.data):e.data;r[n]&&r[n].callId&&(t=r[n],void 0!==u[t.callId]&&u[t.callId](t.returnValue,t.success))},!1),window[d](e,null,t)}m.isFn(c)?(m.logInfo("Detected CMP API is directly accessible, calling it now..."),1===E?(c("getConsentData",null,a.consentDataCallback),c("getVendorConsents",null,a.vendorConsentsCallback)):2===E&&c("addEventListener",E,e)):1===E&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(m.logInfo("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),d("getConsentData",a.consentDataCallback),d("getVendorConsents",a.vendorConsentsCallback)):(m.logInfo("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===E?(p("getConsentData",s,a.consentDataCallback),p("getVendorConsents",s,a.vendorConsentsCallback)):2===E&&p("addEventListener",s,e))},static:function(e,t,n){e(p,n)}};function O(e,t){var n={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return g?(m.logInfo("User consent information already known.  Pulling internally stored information..."),w(null,n)):o()(Object.keys(C),l)?(C[l].call(this,S,I,n),void(n.haveExited||(0===d?S(void 0,n):n.timer=setTimeout(function(e){I("CMP workflow exceeded timeout threshold.",e)}.bind(null,n),d)))):(m.logWarn("CMP framework (".concat(l,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),n.nextFn.apply(n.context,n.args))}function S(n,e){"static"===l&&2==(E=n.getConsentData?1:n.getTCData?2:0)&&(n=n.getTCData);var t=1===E?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||m.isStr(e.getConsentData.consentData)&&m.isPlainObject(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length))}:2===E?function(){var e=n&&"boolean"==typeof n.gdprApplies?n.gdprApplies:u,t=n&&n.tcString;return!("boolean"==typeof e&&(!0!==e||m.isStr(t)))}:null;y.definedInConfig&&2===E?m.logWarn("'allowAuctionWithoutConsent' ignored for TCF 2"):y.definedInConfig||1!==E||m.logInfo("'allowAuctionWithoutConsent' using system default: (".concat(v,").")),m.isFn(t)?t(n)?I("CMP returned unexpected value during lookup process.",e,n):(clearTimeout(e.timer),k(n),w(null,e)):I("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",e,n)}function I(e,t,n){clearTimeout(t.timer),y.value&&1===E&&k(void 0),w(e,t,n)}function k(e){(g=1===E?{consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:u}:{consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:u}).apiVersion=E,a.gdprDataHandler.setConsentData(g)}function w(e,t,n){var r,a,i;!1===t.haveExited&&(t.haveExited=!0,r=t.context,a=t.args,i=t.nextFn,e?y.value&&1===E?(m.logWarn(e+" 'allowAuctionWithoutConsent' activated.",n),i.apply(r,a)):(m.logError(e+" Canceling auction as per consentManagement config.",n),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():m.logError("Error executing bidsBackHandler")):i.apply(r,a))}function A(e){(e=e.gdpr||e.usp?e.gdpr:e)&&"object"===c(e)?(m.isStr(e.cmpApi)?l=e.cmpApi:(l=h,m.logInfo("consentManagement config did not specify cmp.  Using system default setting (".concat(h,")."))),m.isNumber(e.timeout)?d=e.timeout:(d=b,m.logInfo("consentManagement config did not specify timeout.  Using system default setting (".concat(b,")."))),"boolean"==typeof e.allowAuctionWithoutConsent&&(y.value=e.allowAuctionWithoutConsent,y.definedInConfig=!0),u=!0===e.defaultGdprScope,m.logInfo("consentManagement module has been activated..."),"static"===l&&(m.isPlainObject(e.consentData)?(p=e.consentData,d=0):m.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),_||pbjs.requestBids.before(O,50),_=!0):m.logWarn("consentManagement config not defined, exiting consent manager")}r.b.getConfig("consentManagement",function(e){return A(e.consentManagement)})}},[337]),pbjsChunk([0],{359:function(e,t,n){e.exports=n(360)},360:function _(module,__webpack_exports__,__webpack_require__){Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"ADAPTER_VERSION",function(){return ADAPTER_VERSION}),__webpack_require__.d(__webpack_exports__,"PROFILE_ID_PUBLISHERTAG",function(){return PROFILE_ID_PUBLISHERTAG}),__webpack_require__.d(__webpack_exports__,"spec",function(){return spec}),__webpack_exports__.tryGetCriteoFastBid=tryGetCriteoFastBid;var __WEBPACK_IMPORTED_MODULE_0__src_adloader_js__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_1__src_adapters_bidderFactory_js__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_2__src_config_js__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__src_utils_js__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js__),__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__=__webpack_require__(361),__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__),__WEBPACK_IMPORTED_MODULE_7__src_storageManager_js__=__webpack_require__(9);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var GVLID=91,ADAPTER_VERSION=32,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=Object(__WEBPACK_IMPORTED_MODULE_7__src_storageManager_js__.b)(GVLID),LOG_PREFIX="Criteo: ",PUBLISHER_TAG_URL="https://static.criteo.net/js/ld/publishertag.prebid.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.b,__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.d,__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.c],isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e))},buildRequests:function(e,t){var n,r,a,i,o;if(_extends(t,{publisherExt:__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("fpd.context"),userExt:__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("fpd.user"),ceh:__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("criteo.ceh")}),publisherTagAvailable()||(window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid(),setTimeout(function(){Object(__WEBPACK_IMPORTED_MODULE_0__src_adloader_js__.a)(PUBLISHER_TAG_URL,BIDDER_CODE)},t.timeout)),o=publisherTagAvailable()?(n=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"4.2.0"),r=__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("enableSendAllBids"),n.setEnableSendAllBids&&"function"==typeof n.setEnableSendAllBids&&"boolean"==typeof r&&n.setEnableSendAllBids(r),i=n.buildCdbUrl(),n.buildCdbRequest()):(i=buildCdbUrl(a=buildContext(e,t)),buildCdbRequest(a,e,t)))return{method:"POST",url:i,data:o,bidRequests:e}},interpretResponse:function(e,a){var t=e.body||e;if(publisherTagAvailable()){var n=Criteo.PubTag.Adapters.Prebid.GetAdapter(a);if(n)return n.interpretResponse(t,a)}var i=[];return t&&t.slots&&__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.isArray(t.slots)&&t.slots.forEach(function(t){var e=__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js___default()(a.bidRequests,function(e){return e.adUnitCode===t.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===t.zoneid)}),n=e.bidId,r={requestId:n,adId:t.bidId||__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.getUniqueIdentifierStr(),cpm:t.cpm,currency:t.currency,netRevenue:!0,ttl:t.ttl||60,creativeId:n,width:t.width,height:t.height,dealId:t.dealCode};if(t.native)if(e.params.nativeCallback)r.ad=createNativeAd(n,t.native,e.params.nativeCallback);else{if(!0===__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("enableSendAllBids"))return;r.native=createPrebidNativeAd(t.native),r.mediaType=__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.c}else t.video?(r.vastUrl=t.displayurl,r.mediaType=__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.d):r.ad=t.creative;i.push(r)}),i},onTimeout:function(e){var t;publisherTagAvailable()&&Array.isArray(e)&&(t=[],e.forEach(function(e){-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))},onBidWon:function(e){publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var n="";t&&t.refererInfo&&(n=t.refererInfo.referer);var r=__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.parseUrl(n).search,a={url:n,debug:"1"===r.pbt_debug,noLog:"1"===r.pbt_nolog,amp:!1};return e.forEach(function(e){"amp"===e.params.integrationMode&&(a.amp=!0)}),a}function buildCdbUrl(e){var t=CDB_ENDPOINT;return t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("4.2.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1"),t}function checkNativeSendId(e){return!e.nativeParams||!(e.nativeParams.image&&!0!==e.nativeParams.image.sendId||e.nativeParams.icon&&!0!==e.nativeParams.icon.sendId||e.nativeParams.clickUrl&&!0!==e.nativeParams.clickUrl.sendId||e.nativeParams.displayUrl&&!0!==e.nativeParams.displayUrl.sendId||e.nativeParams.privacyLink&&!0!==e.nativeParams.privacyLink.sendId||e.nativeParams.privacyIcon&&!0!==e.nativeParams.privacyIcon.sendId)}function buildCdbRequest(e,t,n){var r,a={publisher:{url:e.url,ext:n.publisherExt},slots:t.map(function(e){r=e.params.networkId||r;var t,n={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};return e.params.zoneId&&(n.zoneid=e.params.zoneId),e.fpd&&e.fpd.context&&(n.ext=e.fpd.context),e.params.ext&&(n.ext=_extends({},n.ext,e.params.ext)),e.params.publisherSubId&&(n.publishersubid=e.params.publisherSubId),e.params.nativeCallback||__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.".concat(__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.c))?(n.native=!0,checkNativeSendId(e)||__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logWarn(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),n.sizes=parseSizes(retrieveBannerSizes(e),parseNativeSize)):n.sizes=parseSizes(retrieveBannerSizes(e),parseSize),hasVideoMediaType(e)&&((t={playersizes:parseSizes(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api}).skip=e.params.video.skip,t.placement=e.params.video.placement,t.minduration=e.params.video.minduration,t.playbackmethod=e.params.video.playbackmethod,t.startdelay=e.params.video.startdelay,n.video=t),n})};return r&&(a.publisher.networkid=r),a.user={ext:n.userExt},n&&n.ceh&&(a.user.ceh=n.ceh),n&&n.gdprConsent&&(a.gdprConsent={},void 0!==n.gdprConsent.gdprApplies&&(a.gdprConsent.gdprApplies=!!n.gdprConsent.gdprApplies),a.gdprConsent.version=n.gdprConsent.apiVersion,void 0!==n.gdprConsent.consentString&&(a.gdprConsent.consentData=n.gdprConsent.consentString)),n&&n.uspConsent&&(a.user.uspIab=n.uspConsent),a}function retrieveBannerSizes(e){return __WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes}function parseSizes(e,t){return Array.isArray(e[0])?e.map(function(e){return t(e)}):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function parseNativeSize(e){return void 0===e[0]&&void 0===e[1]?"2x2":e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"params.video")&&void 0!==__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.video")}function hasValidVideoMediaType(t){var n=!0;if(["mimes","playerSize","maxduration","protocols","api"].forEach(function(e){void 0===__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(t,"mediaTypes.video."+e)&&(n=!1,__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logError("Criteo Bid Adapter: mediaTypes.video."+e+" is required"))}),["skip","placement","playbackmethod"].forEach(function(e){void 0===__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(t,"params.video."+e)&&(n=!1,__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logError("Criteo Bid Adapter: params.video."+e+" is required"))}),n){if("instream"==t.mediaTypes.video.context&&1===t.params.video.placement)return 1;if("outstream"==t.mediaTypes.video.context&&1!==t.params.video.placement)return 1}}function createPrebidNativeAd(e){return{title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map(function(e){return e.url})}}function createNativeAd(e,t,n){var r="criteo_prebid_native_slots";return window[r]=window[r]||{},window[r][e]={callback:n,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(r,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey),firstLineEndPosition,firstLine,publisherTagHash,publisherTag;null!==fastBidFromStorage&&(firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim(),firstLine.substr(0,hashPrefix.length)!==hashPrefix?(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logWarn("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey)):(publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1),Object(__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__.verify)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logInfo("Using Criteo FastBid"),eval(publisherTag)):(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logWarn("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))))}catch(e){}}Object(__WEBPACK_IMPORTED_MODULE_1__src_adapters_bidderFactory_js__.registerBidder)(spec)},361:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var s=n(362),c=n(363);t.verify=function(e,t,n,r){var a=new s.BigInteger(s.b64toHex(t)),i=new s.BigInteger(s.b64toHex(n)),o=a.modPowInt(r,i);return s.removeExtraSymbols(o.toHexString())===c.Sha256.hash(e)}},362:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0});var a=(y.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,n="",r=this.t,a=this.DB-r*this.DB%4;if(0<r--)for(a<this.DB&&0<(e=this[r]>>a)&&(t=!0,n=d(e));0<=r;)a<4?(e=(this[r]&(1<<a)-1)<<4-a,e|=this[--r]>>(a+=this.DB-4)):(e=this[r]>>(a-=4)&15,a<=0&&(a+=this.DB,--r)),0<e&&(t=!0),t&&(n+=d(e));return t?n:"0"},y.prototype.fromHexString=function(e){if(null!==e){this.t=0,this.s=0;for(var t=e.length,n=!1,r=0;0<=--t;){var a=c(e,t);a<0?"-"==e.charAt(t)&&(n=!0):(n=!1,0==r?this[this.t++]=a:r+4>this.DB?(this[this.t-1]|=(a&(1<<this.DB-r)-1)<<r,this[this.t++]=a>>this.DB-r):this[this.t-1]|=a<<r,(r+=4)>=this.DB&&(r-=this.DB))}this.clamp(),n&&y.ZERO.subTo(this,this)}},y.prototype.negate=function(){var e=E();return y.ZERO.subTo(this,e),e},y.prototype.abs=function(){return this.s<0?this.negate():this},y.prototype.mod=function(e){var t=E();return this.abs().divRemTo(e,null,t),this.s<0&&0<t.compareTo(y.ZERO)&&e.subTo(t,t),t},y.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},y.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,r=this.DB-n,a=(1<<r)-1,i=Math.floor(e/this.DB),o=this.s<<n&this.DM,s=this.t-1;0<=s;--s)t[s+i+1]=this[s]>>r|o,o=(this[s]&a)<<n;for(s=i-1;0<=s;--s)t[s]=0;t[i]=o,t.t=this.t+i+1,t.s=this.s,t.clamp()},y.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},y.prototype.dlShiftTo=function(e,t){for(var n=this.t-1;0<=n;--n)t[n+e]=this[n];for(n=e-1;0<=n;--n)t[n]=0;t.t=this.t+e,t.s=this.s},y.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;0<=--n;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}0<e.t&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},y.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),a=n.t;for(t.t=a+r.t;0<=--a;)t[a]=0;for(a=0;a<r.t;++a)t[a+n.t]=n.am(0,r[a],t,a,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&y.ZERO.subTo(t,t)},y.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var a=this.abs();if(a.t<r.t)return null!=t&&t.fromHexString("0"),void(null!=n&&this.copyTo(n));null==n&&(n=E());var i=E(),o=this.s,s=e.s,c=this.DB-_(r[r.t-1]);0<c?(r.lShiftTo(c,i),a.lShiftTo(c,n)):(r.copyTo(i),a.copyTo(n));var l=i.t,d=i[l-1];if(0!=d){var u=d*(1<<this.F1)+(1<l?i[l-2]>>this.F2:0),p=this.FV/u,m=(1<<this.F1)/u,f=1<<this.F2,g=n.t,h=g-l,b=null==t?E():t;for(i.dlShiftTo(h,b),0<=n.compareTo(b)&&(n[n.t++]=1,n.subTo(b,n)),y.ONE.dlShiftTo(l,b),b.subTo(i,i);i.t<l;)i[i.t++]=0;for(;0<=--h;){var v=n[--g]==d?this.DM:Math.floor(n[g]*p+(n[g-1]+f)*m);if((n[g]+=i.am(0,v,n,h,0,l))<v)for(i.dlShiftTo(h,b),n.subTo(b,n);n[g]<--v;)n.subTo(b,n)}null!=t&&(n.drShiftTo(l,t),o!=s&&y.ZERO.subTo(t,t)),n.t=l,n.clamp(),0<c&&n.rShiftTo(c,n),o<0&&y.ZERO.subTo(n,n)}}},y.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,a=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&i)<<a,t[o-n]=this[o]>>r;0<r&&(t[this.t-n-1]|=(this.s&i)<<a),t.t=this.t-n,t.clamp()}},y.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},y.prototype.subTo=function(e,t){for(var n=0,r=0,a=Math.min(e.t,this.t);n<a;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:0<r&&(t[n++]=r),t.t=n,t.clamp()},y.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]==e;)--this.t},y.prototype.modPowInt=function(e,t){var n=new(e<256||t.isEven()?u:m)(t);return this.exp(e,n)},y.prototype.exp=function(e,t){if(4294967295<e||e<1)return y.ONE;var n,r=E(),a=E(),i=t.convert(this),o=_(e)-1;for(i.copyTo(r);0<=--o;)t.sqrTo(r,a),0<(e&1<<o)?t.mulTo(a,i,r):(n=r,r=a,a=n);return t.revert(r)},y.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},y.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;0<=--n;)if(0!=(t=this[n]-e[n]))return t;return 0},y.prototype.am1=function(e,t,n,r,a,i){for(;0<=--i;){var o=t*this[e++]+n[r]+a;a=Math.floor(o/67108864),n[r++]=67108863&o}return a},y.prototype.am2=function(e,t,n,r,a,i){for(var o=32767&t,s=t>>15;0<=--i;){var c=32767&this[e],l=this[e++]>>15,d=s*c+l*o;a=((c=o*c+((32767&d)<<15)+n[r]+(1073741823&a))>>>30)+(d>>>15)+s*l+(a>>>30),n[r++]=1073741823&c}return a},y.prototype.am3=function(e,t,n,r,a,i){for(var o=16383&t,s=t>>14;0<=--i;){var c=16383&this[e],l=this[e++]>>14,d=s*c+l*o;a=((c=o*c+((16383&d)<<14)+n[r]+a)>>28)+(d>>14)+s*l,n[r++]=268435455&c}return a},y);function y(e){null!==e&&this.fromHexString(e)}function E(){return new a(null)}function _(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}t.BigInteger=a,t.nbi=E,t.nbits=_;for(var i=[],o="0".charCodeAt(0),s=0;s<=9;++s)i[o++]=s;for(o="a".charCodeAt(0),s=10;s<36;++s)i[o++]=s;for(o="A".charCodeAt(0),s=10;s<36;++s)i[o++]=s;function c(e,t){var n=i[e.charCodeAt(t)];return null==n?-1:n}t.intAt=c;var l="0123456789abcdefghijklmnopqrstuvwxyz";function d(e){return l.charAt(e)}t.int2char=d,t.b64toHex=function(e){for(var t="",n=0,r=0,a=0;a<e.length&&"="!=e.charAt(a);++a){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(a));i<0||(n=0==n?(t+=d(i>>2),r=3&i,1):1==n?(t+=d(r<<2|i>>4),r=15&i,2):2==n?(t+=d(r),t+=d(i>>2),r=3&i,3):(t+=d(r<<2|i>>4),t+=d(15&i),0))}return 1==n&&(t+=d(r<<2)),t},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var u=(p.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},p.prototype.revert=function(e){return e},p.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},p.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},p);function p(e){this.m=e}var m=(f.prototype.convert=function(e){var t=E();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&0<t.compareTo(a.ZERO)&&this.m.subTo(t,t),t},f.prototype.revert=function(e){var t=E();return e.copyTo(t),this.reduce(t),t},f.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},f.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},f);function f(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function g(e){var t=E();return t.fromHexString(e.toString()),t}t.nbv=g,a.ZERO=g(0),a.ONE=g(1),r="Microsoft Internet Explorer"==navigator.appName?(a.prototype.am=a.prototype.am2,30):"Netscape"!=navigator.appName?(a.prototype.am=a.prototype.am1,26):(a.prototype.am=a.prototype.am3,28),a.prototype.DB=r,a.prototype.DM=(1<<r)-1,a.prototype.DV=1<<r,a.prototype.FV=Math.pow(2,52),a.prototype.F1=52-r,a.prototype.F2=2*r-52},363:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=(O.hash=function(e){e=O.utf8Encode(e||"");for(var t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],r=(e+=String.fromCharCode(128)).length/4+2,a=Math.ceil(r/16),i=new Array(a),o=0;o<a;o++){i[o]=new Array(16);for(var s=0;s<16;s++)i[o][s]=e.charCodeAt(64*o+4*s)<<24|e.charCodeAt(64*o+4*s+1)<<16|e.charCodeAt(64*o+4*s+2)<<8|e.charCodeAt(64*o+4*s+3)<<0}var c=8*(e.length-1)/Math.pow(2,32),l=8*(e.length-1)>>>0;for(i[a-1][14]=Math.floor(c),i[a-1][15]=l,o=0;o<a;o++){for(var d=new Array(64),u=0;u<16;u++)d[u]=i[o][u];for(u=16;u<64;u++)d[u]=O.q1(d[u-2])+d[u-7]+O.q0(d[u-15])+d[u-16]>>>0;var p=n[0],m=n[1],f=n[2],g=n[3],h=n[4],b=n[5],v=n[6],y=n[7];for(u=0;u<64;u++){var E=y+O.z1(h)+O.Ch(h,b,v)+t[u]+d[u],_=O.z0(p)+O.Maj(p,m,f);y=v,v=b,b=h,h=g+E>>>0,g=f,f=m,m=p,p=E+_>>>0}n[0]=n[0]+p>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+f>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+h>>>0,n[5]=n[5]+b>>>0,n[6]=n[6]+v>>>0,n[7]=n[7]+y>>>0}var C=new Array(n.length);for(y=0;y<n.length;y++)C[y]=("00000000"+n[y].toString(16)).slice(-8);return C.join("")},O.utf8Encode=function(t){try{return(new TextEncoder).encode(t).reduce(function(e,t){return e+String.fromCharCode(t)},"")}catch(e){return unescape(encodeURIComponent(t))}},O.ROTR=function(e,t){return t>>>e|t<<32-e},O.z0=function(e){return O.ROTR(2,e)^O.ROTR(13,e)^O.ROTR(22,e)},O.z1=function(e){return O.ROTR(6,e)^O.ROTR(11,e)^O.ROTR(25,e)},O.q0=function(e){return O.ROTR(7,e)^O.ROTR(18,e)^e>>>3},O.q1=function(e){return O.ROTR(17,e)^O.ROTR(19,e)^e>>>10},O.Ch=function(e,t,n){return e&t^~e&n},O.Maj=function(e,t,n){return e&t^e&n^t&n},O);function O(){}t.Sha256=r}},[359]),pbjsChunk([234],{378:function(e,t,n){e.exports=n(379)},379:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return c}),t.cleanSizes=m,t.shuffle=f,t.removeDuplicate=g,t.upto5=h,t.matchRequest=b,t.checkDeepArray=v,t.defaultSize=y,t.bindUserId=E;var l=n(0),r=n(1),d=n(3);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function u(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){var t,n,r;t=a,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}var p="https://dmx.districtm.io/b/v1",c={code:"districtmDMX",supportedFormat:["banner"],isBidRequestValid:function(e){return!(!e.params.dmxid||!e.params.memberid)},interpretResponse:function(e,i){return(e=e.body||{}).seatbid&&l.isArray(e.seatbid)?e.seatbid.reduce(function(e,t){var n=t.bid.reduce(function(e,t){if(e.price<t.price){var n=y(b(t.impid,i)),r=n.width,a=n.height;return t.cpm=parseFloat(t.price).toFixed(2),t.bidId=t.impid,t.requestId=t.impid,t.width=t.w||r,t.height=t.h||a,t.dealid&&(t.dealId=t.dealid),t.ad=t.adm,t.netRevenue=!0,t.creativeId=t.crid,t.currency="USD",t.ttl=60,t}return e.cpm=e.price,e},{price:0});return n.adm&&e.push(n),e},[]).filter(function(e){return!!e.bidId}):[]},buildRequests:function(e,t){var n,r=d.b.getConfig("bidderTimeout"),a={id:l.generateUUID(),cur:["USD"],tmax:r-300,test:this.test()||0,site:{publisher:{id:String(e[0].params.memberid)||null}}};try{var i=d.b.getConfig("dmx");a.user=i.user||{};var o=i.site||{};a.site=u(u({},a.site),o)}catch(e){}var s=[];e&&e.userId&&(E(s,l.deepAccess(e,"userId.idl_env"),"liveramp.com",1),E(s,l.deepAccess(e,"userId.digitrustid.data.id"),"digitru.st",1),E(s,l.deepAccess(e,"userId.id5id"),"id5-sync.com",1),E(s,l.deepAccess(e,"userId.pubcid"),"pubcid.org",1),E(s,l.deepAccess(e,"userId.tdid"),"adserver.org",1),a.user=a.user||{},a.user.ext=a.user.ext||{},a.user.ext.eids=s),a.test||delete a.test,t.gdprConsent&&(a.regs={},a.regs.ext={},a.regs.ext.gdpr=!0===t.gdprConsent.gdprApplies?1:0,a.user={},a.user.ext={},a.user.ext.consent=t.gdprConsent.consentString),a.regs=a.regs||{},a.regs.coppa=!0===d.b.getConfig("coppa")?1:0,t&&t.uspConsent&&(a.regs=a.regs||{},a.regs.ext=a.regs.ext||{},a.regs.ext.us_privacy=t.uspConsent);try{n=e[0].schain,a.source={},a.source.ext={},a.source.ext.schain=n||{}}catch(e){}var c=e.map(function(e){var t={};return t.id=e.bidId,t.tagid=String(e.params.dmxid),t.secure=1,t.banner={topframe:1,w:m(e.sizes,"w"),h:m(e.sizes,"h"),format:m(e.sizes).map(function(e){return{w:e[0],h:e[1]}}).filter(function(e){return"number"==typeof e.w&&"number"==typeof e.h})},t});return c.length<=5?(a.imp=c,{method:"POST",url:p,data:JSON.stringify(a),bidderRequest:t}):h(c,a,t,p)},test:function(){return-1!==window.location.href.indexOf("dmTest=true")?1:0},getUserSyncs:function(e,t,n,r){var a=[],i="https://cdn.districtm.io/ids/index.html";if(n&&n.gdprApplies&&"string"==typeof n.consentString&&a.push(["gdpr",n.consentString]),r&&a.push(["ccpa",r]),0<a.length&&(i+="?"+a.map(function(e){return e.join("=")}).join("&")),e.iframeEnabled)return[{type:"iframe",url:i}]}};function m(e,t){var n=f(e,[{size:[300,250],s:100},{size:[728,90],s:95},{size:[320,50],s:90},{size:[160,600],s:88},{size:[300,600],s:85},{size:[300,50],s:80},{size:[970,250],s:75},{size:[970,90],s:60}]);switch(t){case"w":return n[0][0]||0;case"h":return n[0][1]||0;case"size":default:return n}}function f(e,n){var t=e.filter(function(e){return-1===n.map(function(e){return"".concat(e.size[0],"x").concat(e.size[1])}).indexOf("".concat(e[0],"x").concat(e[1]))}),r=e.reduce(function(t,e){return 0===t.length?(t.push(e),t):(t.push(e),(t=(t=n.filter(function(e){return-1!==t.map(function(e){return"".concat(e[0],"x").concat(e[1])}).indexOf("".concat(e.size[0],"x").concat(e.size[1]))})).sort(function(e,t){return t.s-e.s})).map(function(e){return e.size}))},[]);return g([].concat(a(r),a(t)))}function g(n){return n.filter(function(e,t){return n.map(function(e){return"".concat(e[0],"x").concat(e[1])}).indexOf("".concat(e[0],"x").concat(e[1]))===t})}function h(e,t,n,r){for(var a=[];0!==e.length;)5<=e.length?a.push(e.splice(0,5)):a.push(e.splice(0,e.length));return a.map(function(e){return t.imp=e,{method:"POST",url:r,data:JSON.stringify(t),bidderRequest:n}})}function b(t,e){return function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.bidderRequest.bids.filter(function(e){return e.bidId===t}),1)[0]}function v(e){return Array.isArray(e)&&Array.isArray(e[0])?e[0]:e}function y(e){var t=e.sizes,n={};return n.width=v(t)[0],n.height=v(t)[1],n}function E(e,t,n,r){l.isStr(t)&&Array.isArray(e)&&e.push({source:n,uids:[{id:t,atype:r}]})}Object(r.registerBidder)(c)}},[378]),pbjsChunk([207],{436:function(e,t,n){e.exports=n(437)},437:function(e,l,d){Object.defineProperty(l,"__esModule",{value:!0}),function(T){d.d(l,"spec",function(){return c});var j=d(0),e=d(2),n=d(3),t=d(9),r=d(12),I=d.n(r),a=d(1);function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function k(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n,r;t=a,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e){return(D="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=Object(t.b)(),q={t:0,rq:8,pbv:"4.2.0"},s=[e.b,e.d],A={},M={},R=null;function B(e){var t=e.minduration,n=e.maxduration,r=e.linearity,a=e.startdelay,i=e.placement,o=e.protocols,s=void 0===o?[]:o,c=e.playerSize,l=void 0===c?[]:c,d=j.parseSizesInput(l),u=w(d[0]&&d[0].split("x"),2),p=u[0],m=u[1],f="";return s.length&&(f=s.join(",")),{mind:t,maxd:n,li:r,sd:a,pt:i,pr:f,viw:p,vih:m}}var c={code:"gumgum",aliases:["gg"],isBidRequestValid:function(e){var t=e.params,n=e.adUnitCode,r=t.inScreen||t.inScreenPubID||t.inSlot||t.ICV||t.video||t.inVideo;if(A[r])return j.logWarn("[GumGum] Please check the implementation for ".concat(r," for the placement ").concat(n)),!1;switch(!0){case!!t.inScreen:case!!t.inScreenPubID:case!!t.inSlot:case!!t.ICV:case!!t.video:case!!t.inVideo:case!!t.videoPubID:break;default:return j.logWarn("[GumGum] No product selected for the placement ".concat(n,", please check your implementation.")),!1}return!(t.bidfloor&&("number"!=typeof t.bidfloor||!isFinite(t.bidfloor))&&(j.logWarn("[GumGum] bidfloor must be a Number"),1))},buildRequests:function(e,t){var I=[],k=t&&t.gdprConsent,w=t&&t.uspConsent,A=n.b.getConfig("bidderTimeout"),P=t&&t.refererInfo&&t.refererInfo.referer;return j._each(e,function(e){var t,n,r,a,i,o,s,c,l,d,u,p,m=e.bidId,f=e.mediaTypes,g=void 0===f?{}:f,h=e.params,b=void 0===h?{}:h,v=e.schain,y=e.transactionId,E=e.userId,_=void 0===E?{}:E,C=(t=g,n=b.bidfloor,r=e,i=Object.keys(t)[0]||"banner",o=n||0,"function"==typeof r.getFloor&&("object"!==D(a=r.getFloor({currency:"USD",mediaType:i,size:"*"}))||"USD"!==a.currency||isNaN(parseFloat(a.floor))||(o=Math.max(o,parseFloat(a.floor)))),o),O=[1,1],S={};g.banner?O=g.banner.sizes:g.video&&(O=g.video.playerSize),R&&(S.pv=R),C&&(S.fp=C),b.inScreenPubID&&(S.pubId=b.inScreenPubID,S.pi=2),b.inScreen&&(S.t=b.inScreen,S.pi=2),b.inSlot&&(S.si=parseInt(b.inSlot,10),S.pi=3),b.ICV&&(S.ni=parseInt(b.ICV,10),S.pi=5),b.videoPubID&&((S=N(S,B(g.video))).pubId=b.videoPubID,S.pi=7),b.video&&((S=N(S,B(g.video))).t=b.video,S.pi=7),b.inVideo&&((S=N(S,B(g.video))).t=b.inVideo,S.pi=6),k&&(S.gdprApplies=k.gdprApplies?1:0),S.gdprApplies&&(S.gdprConsent=k.consentString),w&&(S.uspConsent=w),v&&v.nodes&&(S.schain=(c="".concat((s=v).ver,",").concat(s.complete),s.nodes.map(function(e){c+="!".concat(encodeURIComponent(e.asi||""),","),c+="".concat(encodeURIComponent(e.sid||""),","),c+="".concat(encodeURIComponent(e.hp||""),","),c+="".concat(encodeURIComponent(e.rid||""),","),c+="".concat(encodeURIComponent(e.name||""),","),c+="".concat(encodeURIComponent(e.domain||""))}),c)),I.push({id:m,tmax:A,tId:y,pi:S.pi,selector:b.selector,sizes:O,url:"https://g2.gumgum.com/hbid/imp",method:"GET",data:N(S,function(e){var t,n,r,a,i,o,s,c;if(M.vw)return M;try{n=(t=T.top).screen,r=e||""}catch(e){return j.logError(e),M}return M={vw:t.innerWidth,vh:t.innerHeight,sw:n.width,sh:n.height,pu:r,ce:x.cookiesAreEnabled(),dpr:t.devicePixelRatio||1,jcsi:JSON.stringify(q),ogu:(o=(document&&document.getElementsByTagName("head")[0]).querySelector("meta[property='og:url']"))?o.content:null},(i=(c=(s=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection))&&(s.downlink||s.bandwidth))?Math.round(1024*c):null)&&(M.ns=i),(a=(r.match(/#ggad=(\w+)$/)||[0,0])[1])&&(M[isNaN(a)?"eAdBuyId":"adBuyId"]=a),M}(P),!(p=(u=_).digitrustid&&u.digitrustid.data)||p.privacy&&p.privacy.optout?{}:{dt:p.id},(d={},(l=_).tdid&&(d.tdid=l.tdid),d))})}),I},interpretResponse:function(e,t){var n,r,a,i=[],o=e.body;o&&!o.err||(n=t.data||{},r=n.t||n.si||n.ni||n.pubId,a=o?o.err.drt:18e5,A[r]={productId:n.pi,timestamp:(new Date).getTime()},setTimeout(function(){A[r]&&delete A[r]},a),j.logWarn("[GumGum] Please check the implementation for ".concat(r)));var s,c,l=N({ad:{price:0,id:0,markup:""},pag:{pvid:0}},o),d=l.ad,u=d.price,p=d.id,m=d.markup,f=d.cur,g=l.cw,h=l.pag.pvid,b=l.jcsi,v=t.data||{},y=v.pi,E=3===y&&9===v.si,_=j.parseSizesInput(t.sizes),C=w(_[0].split("x"),2),O=C[0],S=C[1];return 2!==y&&5!==y||!I()(_,"1x1")||(S=O="1"),b&&(o.jcsi=q),R=h,p&&i.push(k(k(k({},7===y&&{vastXml:m}),{},{ad:g?(s=g,c=N({},o,{bidRequest:t}),s.replace("AD_JSON",window.btoa(JSON.stringify(c)))):m},6===y&&{ad:m}),{},{cpm:E?.1:u,creativeId:p,currency:f||"USD",height:S,netRevenue:!0,requestId:t.id,ttl:60,width:O})),i},getUserSyncs:function(e,t){return t.map(function(e){return e.body&&e.body.pxs&&e.body.pxs.scr||[]}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return{type:"f"===e.t?"iframe":"image",url:e.u}})},supportedMediaTypes:s};Object(a.registerBidder)(c)}.call(l,d(33))}},[436]),pbjsChunk([201],{448:function(e,t,n){e.exports=n(449)},449:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"identityLinkSubmodule",function(){return o});var i=n(0),r=n(4),a=n(13),o={name:"identityLink",decode:function(e){return{idl_env:e}},getId:function(e,t){if(e&&"string"==typeof e.pid){var n=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,r=n?t.consentString:"",a="https://api.rlcdn.com/api/identity/envelope?pid=".concat(e.pid).concat(n?"&ct=1&cv="+r:"");return{callback:function(t){window.ats?(i.logInfo("ATS exists!"),window.ats.retrieveEnvelope(function(e){e?(i.logInfo("An envelope can be retrieved from ATS!"),t(JSON.parse(e).envelope)):s(a,t)})):s(a,t)}}}i.logError("identityLink submodule requires partner id to be defined")}};function s(e,n){i.logInfo("A 3P retrieval is attempted!");var t={success:function(e){var t;if(e)try{t=JSON.parse(e)}catch(e){i.logInfo(e)}n(t&&t.envelope?t.envelope:"")},error:function(e){i.logInfo("identityLink: ID fetch encountered an error",e),n()}};Object(r.a)(e,t,void 0,{method:"GET",withCredentials:!0})}Object(a.e)("userId",o)}},[448]),pbjsChunk([194],{464:function(e,t,n){e.exports=n(465)},465:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return l});var I=n(0),k=n(2),v=n(3),r=n(10),f=n.n(r),a=n(466),i=n.n(a),o=n(1);function y(e){return(y="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}var s=[k.b,k.d],g={JPY:1};function w(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid="".concat(e.params.size[0],"x").concat(e.params.size[1]):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function c(e){return Array.isArray(e)&&2===e.length&&i()(e[0])&&i()(e[1])}function A(e,t){if(c(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return 1}function P(e,t,n,r){var a=[],i={},o=e[0].userId;if(o&&"object"===y(o)&&o.idl_env&&function(e,t,n){if(n)return t.LiveRampIp=1,e.push({source:"liveramp.com",uids:[{id:n,ext:{rtiPartner:"idl"}}]});I.logWarn("Tried to add a user ID from Prebid, the ID received was null")}(a,i,o.idl_env),window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var s,c=window.headertag.getIdentityInfo();if(c&&"object"===y(c))for(var l in c)c.hasOwnProperty(l)&&(i.hasOwnProperty(l)||!(s=c[l]).responsePending&&s.data&&"object"===y(s.data)&&Object.keys(s.data).length&&a.push(s.data))}var d,u={};u.id=e[0].bidderRequestId,u.imp=n,u.site={},u.ext={},u.ext.source="prebid",e[0].schain&&(u.source={ext:{schain:e[0].schain}}),0<a.length&&(u.user={},u.user.eids=a),document.referrer&&""!==document.referrer&&(u.site.ref=document.referrer),t&&(t.gdprConsent&&((d=t.gdprConsent).hasOwnProperty("gdprApplies")&&(u.regs={ext:{gdpr:d.gdprApplies?1:0}}),d.hasOwnProperty("consentString")&&(u.user=u.user||{},u.user.ext={consent:d.consentString||""})),t.uspConsent&&I.deepSetValue(u,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(u.site.page=t.refererInfo.referer));var p={},m=t&&t.bidderCode||"ix",f=v.b.getConfig(m);if(f){if("object"===y(f.firstPartyData)){var g=f.firstPartyData,h="?";for(var b in g)g.hasOwnProperty(b)&&(h+="".concat(encodeURIComponent(b),"=").concat(encodeURIComponent(g[b]),"&"));h=h.slice(0,-1),u.site.page+=h}"number"==typeof f.timeout&&(p.t=f.timeout)}return p.s=e[0].params.siteId,p.v=r,p.r=JSON.stringify(u),p.ac="j",p.sd=1,8.1===r&&(p.nf=1),{method:"GET",url:"https://htlb.casalemedia.com/cygnus",data:p}}function T(e,t){for(var n=0;n<e.length;n++)if(t[0]==e[n][0]&&t[1]==e[n][1])return e.splice(n,1),1}var l={code:"ix",gvlid:10,supportedMediaTypes:s,isBidRequestValid:function(e){if(!c(e.params.size))return I.logError("ix bidder params: bid size has invalid format."),!1;if(!A(e.sizes,e.params.size))return I.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!I.contains(s,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!I.deepAccess(e,"mediaTypes.banner.sizes")&&!I.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return I.logError("ix bidder params: siteId must be string or number value."),!1;var t,n,r=e.params.hasOwnProperty("bidFloor"),a=e.params.hasOwnProperty("bidFloorCur");return!!(!r&&!a||r&&a&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/))))||(I.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var n,r,a,i,o,s,c,l,d,u,p,m,f,g=[],h=[],b=[],v=null,y={},E=0;E<e.length;E++)(v=e[E]).mediaType!==k.d&&!I.deepAccess(v,"mediaTypes.video")||(v.mediaType===k.d||A(v.mediaTypes.video.playerSize,v.params.size)?b.push(function(e){var t=w(e);t.video=I.deepClone(e.params.video),t.video.w=e.params.size[0],t.video.h=e.params.size[1];var n=I.deepAccess(e,"mediaTypes.video.context");return n&&("instream"===n?t.video.placement=1:"outstream"===n?t.video.placement=4:I.logWarn("ix bidder params: video context '".concat(n,"' is not supported"))),t}(v)):I.logError("Bid size is not included in video playerSize")),v.mediaType!==k.b&&!I.deepAccess(v,"mediaTypes.banner")&&(v.mediaType||v.mediaTypes)||(u=void 0,(u=w(d=v)).banner={},u.banner.w=d.params.size[0],u.banner.h=d.params.size[1],u.banner.topframe=I.inIframe()?0:1,n=u,h.push(n),a=y,i=n,c=s=o=void 0,l=(r=v).transactionId,a.hasOwnProperty(l)?(o=[],a[l].hasOwnProperty("missingSizes")&&(o=a[l].missingSizes),T(o,r.params.size),a[l].missingSizes=o):I.deepAccess(r,"mediaTypes.banner.sizes")&&(T(s=I.deepClone(r.mediaTypes.banner.sizes),r.params.size),c={missingSizes:s,impression:i},a[l]=c));for(var _ in y)if(y.hasOwnProperty(_))for(var C=y[_].missingSizes,O=0;O<C.length;O++){var S=(p=y[_].impression,m=C[O],f=void 0,(f=I.deepClone(p)).ext.sid="".concat(m[0],"x").concat(m[1]),f.banner.w=m[0],f.banner.h=m[1],f);h.push(S)}return 0<h.length&&g.push(P(e,t,h,7.2)),0<b.length&&g.push(P(e,t,b,8.1)),g},interpretResponse:function(e,t){var n=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var r,a,i,o,s=e.body,c=s.seatbid,l=0;l<c.length;l++)if(c[l].hasOwnProperty("bid"))for(var d=c[l].bid,u=JSON.parse(t.data.r),p=0;p<d.length;p++){var m=function(t,e){if(t)return f()(e,function(e){return e.id===t})}(d[p].impid,u.imp);r=d[p],a=s.cur,i=m,o=void 0,o={},g.hasOwnProperty(a)?o.cpm=r.price/g[a]:o.cpm=r.price/100,o.requestId=r.impid,o.dealId=I.deepAccess(r,"ext.dealid"),o.netRevenue=!0,o.currency=a,o.creativeId=r.hasOwnProperty("crid")?r.crid:"-",I.deepAccess(r,"ext.vasturl")?(o.vastUrl=r.ext.vasturl,o.width=i.video.w,o.height=i.video.h,o.mediaType=k.d,o.ttl=3600):(o.ad=r.adm,o.width=r.w,o.height=r.h,o.mediaType=k.b,o.ttl=300),o.meta={},o.meta.networkId=I.deepAccess(r,"ext.dspid"),o.meta.brandId=I.deepAccess(r,"ext.advbrandid"),o.meta.brandName=I.deepAccess(r,"ext.advbrand"),r.adomain&&0<r.adomain.length&&(o.meta.advertiserDomains=r.adomain),n.push(o)}return n},transformBidParams:function(e){return I.convertTypes({siteID:"number"},e)},getUserSyncs:function(e){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};Object(o.registerBidder)(l)}},[464]),pbjsChunk([159],{553:function(e,t,n){e.exports=n(554)},554:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return i});var h=n(0),r=n(1),c=n(2),a=n(10),b=n.n(a),i={code:"nextroll",supportedMediaTypes:[c.b,c.c],isBidRequestValid:function(e){return void 0!==e&&!!e.params&&!!e.bidId},buildRequests:function(m,f){var g=h.parseUrl(h.deepAccess(f,"refererInfo.referer"));return m.map(function(e){return{method:"POST",options:{withCredentials:!0},url:"https://d.adroll.com/bid/prebid/",data:{id:e.bidId,imp:{id:e.bidId,bidfloor:h.getBidIdParameter("bidfloor",e.params),banner:void 0===(i=e,p=h.isArray(i.sizes)?i.sizes.filter(E).map(function(e){return{w:e[0],h:e[1]}}):void 0)?void 0:{format:p},native:function(e){if(void 0!==e){var s,t=(s=e,v.map(function(e){return function(e,t){var n=s[t.key];if(void 0!==n){var r,a,i,o=y[t.kind];return r={id:t.id,required:t.required||n.required?1:0},a=t.kind,i=o(n,t),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r}}(0,e)}).filter(function(e){return void 0!==e}));return void 0===t||0==t.length?void 0:{request:{native:{assets:t}}}}}(h.deepAccess(e,"mediaTypes.native")),ext:{zone:{id:h.getBidIdParameter("zoneId",e.params)},nextroll:{adapter_version:5}}},user:(d=m,void 0!==(u=h.deepAccess(d,"0.userId.nextroll"))?{ext:{eid:[{source:"nextroll",id:u}]}}:void 0),site:(c=e,{page:(l=g).href,domain:l.hostname,publisher:{id:h.getBidIdParameter("publisherId",c.params)}}),seller:(s=e,{id:h.getBidIdParameter("sellerId",s.params)}),device:{ua:navigator.userAgent,language:navigator.language,os:(r=navigator.userAgent.toLowerCase(),a={android:/android/i,ios:/iphone|ipad/i,mac:/mac/i,linux:/linux/i,windows:/windows/i},b()(Object.keys(a),function(e){if(r.match(a[e]))return e})||"etc"),osv:(t=navigator.userAgent,n=b()([{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"Linux",r:/(Linux|X11)/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"UNIX",r:/UNIX/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],function(e){return e.r.test(t)}),n?n.s:"unknown")},regs:(o=f)&&o.uspConsent?{ext:{us_privacy:o.uspConsent}}:void 0}};var t,n,r,a,i,o,s,c,l,d,u,p})},interpretResponse:function(e){if(e.body){var s=e.body;return s.seatbid.reduce(function(e,t){return e.concat(t.bid)},[]).map(function(e){return n=e,o={requestId:(t=s).id,cpm:n.price,width:n.w,height:n.h,creativeId:n.crid,dealId:t.dealId,currency:"USD",netRevenue:!0,ttl:300},h.isStr(n.adm)?(o.mediaType=c.b,o.ad=h.replaceAuctionPrice(n.adm,n.price)):(o.mediaType=c.c,o.native=(r=n.adm,a=n.price,i={clickTrackers:r.link&&r.link.clicktrackers||[],jstracker:r.jstracker||[],clickUrl:h.replaceAuctionPrice(r.link.url,a),impressionTrackers:r.imptrackers.map(function(e){return h.replaceAuctionPrice(e,a)}),privacyLink:l,privacyIcon:d},r.assets.reduce(function(e,t){var n=v.filter(function(e){return e.id===t.id&&void 0!==t[e.kind]});if(0===n.length)return e;var r=n[0];return e[r.key]=function(e){switch(r.kind){case"title":return e.title.text;case"img":return{url:e.img.url,width:e.img.w,height:e.img.h};case"data":return e.data.value}}(t),e},i))),o;var t,n,r,a,i,o})}return[]}},v=[{id:1,kind:"title",key:"title",required:!0},{id:2,kind:"img",key:"image",type:3,required:!0},{id:3,kind:"img",key:"icon",type:1},{id:4,kind:"img",key:"logo",type:2},{id:5,kind:"data",key:"sponsoredBy",type:1},{id:6,kind:"data",key:"body",type:2}],y={title:function(e,t){return{len:e.len||0}},img:function(e,t){var n=e.sizes,r=e.aspect_ratios?e.aspect_ratios[0]:void 0;return{type:t.type,w:n?n[0]:void 0,h:n?n[1]:void 0,wmin:o(r,"width"),hmin:o(r,"height")}},data:function(e,t){return{type:t.type,len:e.len||0}}};function o(e,t){if(!h.isPlainObject(e))return 1;var n=e["ratio_"+t],r=e["min_"+t];return h.isNumber(n)?n:h.isNumber(r)?r:1}var l="https://info.evidon.com/pub_info/573",d="https://c.betrad.com/pub/icon1.png";function E(e){function t(e){return"number"==typeof e}return 2===e.length&&t(e[0])&&t(e[1])}Object(r.registerBidder)(i)}},[553]),pbjsChunk([153],{567:function(e,t,n){e.exports=n(568)},568:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"USER_ID_CODE_TO_QUERY_ARG",function(){return d}),n.d(t,"spec",function(){return o});var p=n(3),r=n(1),m=n(0),s=n(2);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=[s.b,s.d],d={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",tdid:"ttduuid"},o={code:"openx",gvlid:69,supportedMediaTypes:i,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return m.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<m.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,d){if(0===e.length)return[];var u=[],t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.reduce(function(e,t){var n;return n=t,m.deepAccess(n,"mediaTypes.video")&&!m.deepAccess(n,"mediaTypes.banner")||n.mediaType===s.d?e[0].push(t):e[1].push(t),e},[[],[]]),2),n=t[0],r=t[1];return 0<r.length&&u.push(function(e){var n=[],a=!1,t=f(e,d),r=m._map(e,function(e){return e.params.unit});t.aus=m._map(e,function(e){return m.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),t.divIds=m._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),r.some(function(e){return e})&&(t.auid=r.join(",")),e.some(function(e){return e.params.doNotTrack})&&(t.ns=1),!0!==p.b.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(t.tfcd=1),e.forEach(function(r){var e,t;r.params.customParams?(e=m._map(Object.keys(r.params.customParams),function(e){return t=e,n=r.params.customParams[t],m.isArray(n)&&(n=n.join(",")),(t.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_");var t,n}),t=window.btoa(e.join("&")),a=!0,n.push(t)):n.push("")}),a&&(t.tps=n.join(","));var i=[],o=!1;return e.forEach(function(e){var t=function(e,t){var n={};"function"==typeof e.getFloor&&(n=e.getFloor({currency:"USD",mediaType:t,size:"*"}));var r=n.floor||e.params.customFloor||0;return Math.round(1e3*r)}(e,s.b);t?(i.push(t),o=!0):i.push(0)}),o&&(t.aumfs=i.join(",")),{method:"GET",url:t.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:t,payload:{bids:e,startTime:new Date}}}(r)),0<n.length&&n.forEach(function(e){var t,n,r,a,i,o,s,c,l;u.push({method:"GET",url:(r=t=e,o=f([r],d),s=m.deepAccess(r,"params.video")||{},c=m.deepAccess(r,"mediaTypes.video.context"),l=m.deepAccess(r,"mediaTypes.video.playerSize"),m.isArray(r.sizes)&&2===r.sizes.length&&!m.isArray(r.sizes[0])?(a=parseInt(r.sizes[0],10),i=parseInt(r.sizes[1],10)):m.isArray(r.sizes)&&m.isArray(r.sizes[0])&&2===r.sizes[0].length?(a=parseInt(r.sizes[0][0],10),i=parseInt(r.sizes[0][1],10)):m.isArray(l)&&2===l.length&&(a=parseInt(l[0],10),i=parseInt(l[1],10)),Object.keys(s).forEach(function(e){"openrtb"===e?(s[e].w=a||s[e].w,s[e].v=i||s[e].v,o[e]=JSON.stringify(s[e])):e in o||"url"===e||(o[e]=s[e])}),o.auid=r.params.unit,o.vwd=a||s.vwd,o.vht=i||s.vht,"outstream"===c&&(o.vos="101"),s.mimes&&(o.vmimes=s.mimes),r.params.test&&(o.vtest=1),n=o).ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(t.params.delDomain,"/v/1.0/avjp"),data:n,payload:{bid:t,startTime:new Date}})}),u},interpretResponse:function(e,t){var n=e.body;return((/avjp$/.test(t.url)?s.d:s.b)===s.d?function(e,t){var n,r,a=t.bid,i=(t.startTime,[]);return void 0!==e&&""!==e.vastUrl&&0<e.pub_rev&&(n=m.parseUrl(e.vastUrl).search||{},(r={}).requestId=a.bidId,r.ttl=300,r.netRevenue=!0,r.currency=e.currency,r.cpm=parseInt(e.pub_rev,10)/1e3,r.width=parseInt(e.width,10),r.height=parseInt(e.height,10),r.creativeId=e.adid,r.vastUrl=e.vastUrl,r.mediaType=s.d,e.ph=n.ph,e.colo=n.colo,e.ts=n.ts,i.push(r)),i}:function(e,t){for(var n=t.bids,r=(t.startTime,e.ads.ad),a=[],i=0;i<r.length;i++){var o,s=r[i],c=parseInt(s.idx,10),l={};l.requestId=n[c].bidId,s.pub_rev&&(l.cpm=Number(s.pub_rev)/1e3,(o=s.creative[0])&&(l.width=o.width,l.height=o.height),l.creativeId=o.id,l.ad=s.html,s.deal_id&&(l.dealId=s.deal_id),l.ttl=300,l.netRevenue=!0,l.currency=s.currency,s.tbd&&(l.tbd=s.tbd),l.ts=s.ts,l.meta={},s.brand_id&&(l.meta.brandId=s.brand_id),s.adv_id&&(l.meta.dspid=s.adv_id),a.push(l))}return a})(n,t.payload)},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:m.deepAccess(t,"0.body.ads.pixels")||m.deepAccess(t,"0.body.pixels")||(a=n,i=r,o=[],a&&(o.push("gdpr="+(a.gdprApplies?1:0)),o.push("gdpr_consent="+encodeURIComponent(a.consentString||""))),i&&o.push("us_privacy="+encodeURIComponent(i)),"".concat("https://u.openx.net/w/1.0/pd").concat(0<o.length?"?"+o.join("&"):""))}];var a,i,o},transformBidParams:function(e){return m.convertTypes({unit:"string",customFloor:"number"},e)}};function f(e,t){var n,r,a,i,o,s,c=m.inIframe(),l={ju:p.b.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:c,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,n,r,a=window,i=document,o=i.documentElement;if(e){try{a=window.top,i=window.top.document}catch(e){return}o=i.documentElement,r=i.body,t=a.innerWidth||o.clientWidth||r.clientWidth,n=a.innerHeight||o.clientHeight||r.clientHeight}else o=i.documentElement,t=a.innerWidth||o.clientWidth,n=a.innerHeight||o.clientHeight;return"".concat(t,"x").concat(n)}(c),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.2"),dddid:m._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(l.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(n=t.gdprConsent).consentString&&(l.gdpr_consent=n.consentString),void 0!==n.gdprApplies&&(l.gdpr=n.gdprApplies?1:0),"iab"===p.b.getConfig("consentManagement.cmpApi")&&(l.x_gdpr_f=1)),t&&t.uspConsent&&(l.us_privacy=t.uspConsent),m.deepAccess(e[0],"crumbs.pubcid")&&m.deepSetValue(e[0],"userId.pubcid",m.deepAccess(e[0],"crumbs.pubcid")),r=l,a=e[0].userId,m._each(a,function(e,t){var n=d[t];if(d.hasOwnProperty(t))switch(t){case"digitrustid":r[n]=m.deepAccess(e,"data.id");break;case"lipb":r[n]=e.lipbid;break;case"parrableId":r[n]=e.eid;break;default:r[n]=e}}),l=r,e[0].schain&&(l.schain=(i=e[0].schain,"".concat(i.ver,",").concat(i.complete,"!").concat((o=i.nodes,s=["asi","sid","hp","rid","name","domain"],o.map(function(t){return s.map(function(e){return t[e]||""}).join(",")}).join("!"))))),l}Object(r.registerBidder)(o)}},[567]),pbjsChunk([135],{610:function(e,t,n){e.exports=n(611)},611:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return o});var S=n(0),r=n(1),I=n(2),k=n(3);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e){return(A="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}var P="PubMatic: ",T=void 0,j={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},i={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},a={mimes:i.ARRAY,minduration:i.NUMBER,maxduration:i.NUMBER,startdelay:i.NUMBER,playbackmethod:i.ARRAY,api:i.ARRAY,protocols:i.ARRAY,w:i.NUMBER,h:i.NUMBER,battr:i.ARRAY,linearity:i.NUMBER,placement:i.NUMBER,minbitrate:i.NUMBER,maxbitrate:i.NUMBER},N={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},D=1,x=2,q=3,M=[{id:N.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:N.TITLE.ID,required:!0},{id:N.IMAGE.ID,required:!0}],s={1:"PMP",5:"PREF",6:"PMPG"},R=0,B=!1,c={},U={};function L(e,t){if(!S.isStr(t))return t&&S.logWarn(P+"Ignoring param key: "+e+", expects string-value, found "+A(t)),T;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map(function(e){return e.trim()}).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||T;case"yob":return parseInt(t)||T;default:return t}}function F(e){var t,n=e.params.video;if(n!==T){for(var r in t={},a)n.hasOwnProperty(r)&&(t[r]=function(e,t,n){var r,a="Ignoring param key: "+e+", expects "+n+", found "+A(t);switch(n){case i.BOOLEAN:r=S.isBoolean;break;case i.NUMBER:r=S.isNumber;break;case i.STRING:r=S.isStr;break;case i.ARRAY:r=S.isArray}return r(t)?t:(S.logWarn(P+a),T)}(r,n[r],a[r]));S.isArray(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):S.isNumber(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10)),e.params.video.hasOwnProperty("skippable")&&(t.ext={video_skippable:e.params.video.skippable?1:0})}else t=T,S.logWarn(P+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}S._each(N,function(e){c[e.ID]=e.KEY}),S._each(N,function(e){U[e.KEY]=e});var o={code:"pubmatic",gvlid:76,supportedMediaTypes:[I.b,I.d,I.c],isBidRequestValid:function(e){return!(!e||!e.params||(S.isStr(e.params.publisherId)?!(!e.params.hasOwnProperty("video")||e.params.video.hasOwnProperty("mimes")&&S.isArray(e.params.video.mimes)&&0!==e.params.video.mimes.length)&&(S.logWarn(P+"Error: For video ads, mimes is mandatory and must specify atlease 1 mime value. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),1):(S.logWarn(P+"Error: publisherId is mandatory and cannot be numeric. Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),1)))},buildRequests:function(e,t){var n;t&&t.refererInfo&&(n=t.refererInfo);var r,a,i,o,s,c,l,d,u,p,m,f,g,h,b,v,y={pageURL:(r=n)&&r.referer?r.referer:window.location.href,refURL:window.document.referrer},E=(a=y,{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:a.pageURL,ref:a.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}),_="",C=[],O=[];if(e.forEach(function(e){var t;(i=S.deepClone(e)).params.adSlot=i.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,S.isStr(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):"");var n=(r=e.params.adSlot).split(":"),r=n[0];if(2==n.length&&(e.params.adUnitIndex=n[1]),n=r.split("@"),e.params.adUnit=n[0],1<n.length){if(2!=(n=n[1].split("x")).length)return S.logWarn(P+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(n[0],10),e.params.height=parseInt(n[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(I.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var a=0,i=[];a<e.mediaTypes.banner.sizes.length;a++)2===e.mediaTypes.banner.sizes[a].length&&i.push(e.mediaTypes.banner.sizes[a]);e.mediaTypes.banner.sizes=i,1<=e.mediaTypes.banner.sizes.length&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(i),i.params.hasOwnProperty("video")||i.hasOwnProperty("mediaTypes")&&i.mediaTypes.hasOwnProperty(I.c)||0!==i.params.width||0!==i.params.height?(y.pubId=y.pubId||i.params.publisherId,(y=function(e,t){var n,r,a;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),j)j.hasOwnProperty(n)&&(r=e[n])&&("object"===A(a=j[n])&&(r=a.f(r,t)),S.isStr(r)?t[n]=r:S.logWarn(P+"Ignoring param : "+n+" with value : "+j[n]+", expects string-value, found "+A(r)));return t}(i.params,y)).transactionId=i.transactionId,""===_?_=i.params.currency||T:i.params.hasOwnProperty("currency")&&_!==i.params.currency&&S.logWarn(P+"Currency specifier ignored. Only one currency permitted."),i.params.currency=_,i.params.hasOwnProperty("dctr")&&S.isStr(i.params.dctr)&&C.push(i.params.dctr),i.params.hasOwnProperty("bcat")&&S.isArray(i.params.bcat)&&(O=O.concat(i.params.bcat)),(t=function(e){var t,n,r,a,i,o,s,c={},l={},d=e.hasOwnProperty("sizes")?e.sizes:[],u="",p=[];if(c={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:L("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:L("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?L("currency",e.params.currency):"USD"},r=c,(a=e).params.deals&&(S.isArray(a.params.deals)?a.params.deals.forEach(function(e){S.isStr(e)&&3<e.length?(r.pmp||(r.pmp={private_auction:0,deals:[]}),r.pmp.deals.push({id:e})):S.logWarn(P+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+e)}):S.logWarn(P+"Error: bid.params.deals should be an array of strings.")),e.hasOwnProperty("mediaTypes"))for(u in e.mediaTypes)switch(u){case I.b:(t=function(e){var t,n=e.mediaTypes.banner.sizes,r=[];if(n!==T&&S.isArray(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=T,S.logWarn(P+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0],10),t.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}0<n.length&&(r=[],n.forEach(function(e){1<e.length&&r.push({w:e[0],h:e[1]})}),0<r.length&&(t.format=r)),t.pos=0,t.topframe=S.inIframe()?0:1}else S.logWarn(P+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=T;return t}(e))!==T&&(c.banner=t);break;case I.c:l.request=JSON.stringify(function(e){var t,n,r,a={assets:[]};for(var i in e){if(e.hasOwnProperty(i)){var o={};if(!(a.assets&&0<a.assets.length&&a.assets.hasOwnProperty(i)))switch(i){case N.TITLE.KEY:e[i].len||e[i].length?o={id:N.TITLE.ID,required:e[i].required?1:0,title:{len:e[i].len||e[i].length,ext:e[i].ext}}:S.logWarn(P+"Error: Title Length is required for native ad: "+JSON.stringify(e));break;case N.IMAGE.KEY:e[i].sizes&&0<e[i].sizes.length?o={id:N.IMAGE.ID,required:e[i].required?1:0,img:{type:q,w:e[i].w||e[i].width||(e[i].sizes?e[i].sizes[0]:T),h:e[i].h||e[i].height||(e[i].sizes?e[i].sizes[1]:T),wmin:e[i].wmin||e[i].minimumWidth||(e[i].minsizes?e[i].minsizes[0]:T),hmin:e[i].hmin||e[i].minimumHeight||(e[i].minsizes?e[i].minsizes[1]:T),mimes:e[i].mimes,ext:e[i].ext}}:S.logWarn(P+"Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case N.ICON.KEY:e[i].sizes&&0<e[i].sizes.length?o={id:N.ICON.ID,required:e[i].required?1:0,img:{type:D,w:e[i].w||e[i].width||(e[i].sizes?e[i].sizes[0]:T),h:e[i].h||e[i].height||(e[i].sizes?e[i].sizes[1]:T)}}:S.logWarn(P+"Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case N.VIDEO.KEY:o={id:N.VIDEO.ID,required:e[i].required?1:0,video:{minduration:e[i].minduration,maxduration:e[i].maxduration,protocols:e[i].protocols,mimes:e[i].mimes,ext:e[i].ext}};break;case N.EXT.KEY:o={id:N.EXT.ID,required:e[i].required?1:0};break;case N.LOGO.KEY:o={id:N.LOGO.ID,required:e[i].required?1:0,img:{type:x,w:e[i].w||e[i].width||(e[i].sizes?e[i].sizes[0]:T),h:e[i].h||e[i].height||(e[i].sizes?e[i].sizes[1]:T)}};break;case N.SPONSOREDBY.KEY:case N.BODY.KEY:case N.RATING.KEY:case N.LIKES.KEY:case N.DOWNLOADS.KEY:case N.PRICE.KEY:case N.SALEPRICE.KEY:case N.PHONE.KEY:case N.ADDRESS.KEY:case N.DESC2.KEY:case N.DISPLAYURL.KEY:case N.CTA.KEY:n=e,void 0,r=(t=U[i]).KEY,o={id:t.ID,required:n[r].required?1:0,data:{type:t.TYPE,len:n[r].len,ext:n[r].ext}}}}o&&o.id&&(a.assets[a.assets.length]=o)}var s=M.length,c=0;return M.forEach(function(e){for(var t=a.assets.length,n=0;n<t;n++)if(e.id==a.assets[n].id){c++;break}}),B=s!=c,a}(e.nativeParams)),B?S.logWarn(P+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):c.native=l;break;case I.d:(n=F(e))!==T&&(c.video=n)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:S.inIframe()?0:1},S.isArray(d)&&1<d.length&&((d=d.splice(1,d.length-1)).forEach(function(e){p.push({w:e[0],h:e[1]})}),t.format=p),c.banner=t;return i=c,s=-1,"function"!=typeof(o=e).getFloor||k.b.getConfig("pubmatic.disableFloors")||[I.b,I.d,I.c].forEach(function(e){var t,n;i.hasOwnProperty(e)&&("object"!==A(t=o.getFloor({currency:i.bidfloorcur,mediaType:e,size:"*"}))||t.currency!==i.bidfloorcur||isNaN(parseInt(t.floor))||(n=parseFloat(t.floor),s=-1==s?n:Math.min(n,s)))}),i.bidfloor&&(s=Math.max(s,i.bidfloor)),i.bidfloor=!isNaN(s)&&0<s?s:T,c.hasOwnProperty(I.b)||c.hasOwnProperty(I.c)||c.hasOwnProperty(I.d)?c:T}(i))&&E.imp.push(t)):S.logWarn(P+"Skipping the non-standard adslot: ",i.params.adSlot,JSON.stringify(i))}),0!=E.imp.length)return E.site.publisher.id=y.pubId.trim(),R=y.pubId.trim(),E.ext.wrapper={},E.ext.wrapper.profile=parseInt(y.profId)||T,E.ext.wrapper.version=parseInt(y.verId)||T,E.ext.wrapper.wiid=y.wiid||T,E.ext.wrapper.wv="prebid_prebid_4.2.0",E.ext.wrapper.transactionId=y.transactionId,E.ext.wrapper.wp="pbjs",E.user.gender=y.gender?y.gender.trim():T,E.user.geo={},E.user.geo.lat=L("lat",y.lat),E.user.geo.lon=L("lon",y.lon),E.user.yob=L("yob",y.yob),E.device.geo=E.user.geo,E.site.page=y.kadpageurl.trim()||E.site.page.trim(),E.site.domain=(o=E.site.page,(s=document.createElement("a")).href=o,s.hostname),"object"===A(k.b.getConfig("device"))&&(E.device=w(E.device,k.b.getConfig("device"))),S.deepSetValue(E,"source.tid",y.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(E.test=1),e[0].schain&&S.deepSetValue(E,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(S.deepSetValue(E,"user.ext.consent",t.gdprConsent.consentString),S.deepSetValue(E,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&S.deepSetValue(E,"regs.ext.us_privacy",t.uspConsent),!0===k.b.getConfig("coppa")&&S.deepSetValue(E,"regs.coppa",1),c=E,d=e,m="",0<(l=C).length&&(d[0].params.hasOwnProperty("dctr")?(m=d[0].params.dctr,S.isStr(m)&&0<m.length?(p=m.split("|"),m="",p.forEach(function(e){m+=0<e.length?e.trim()+"|":""}),u=m.length,"|"===m.substring(u,u-1)&&(m=m.substring(0,u-1)),c.site.ext={key_val:m.trim()}):S.logWarn(P+"Ignoring param : dctr with value : "+m+", expects string-value, found empty or non-string value"),1<l.length&&S.logWarn(P+"dctr value found in more than 1 adunits. Value from 1st adunit will be picked. Ignoring values from subsequent adunits")):S.logWarn(P+"dctr value not found in 1st adunit, ignoring values from subsequent adunits")),f=E,g=e,h=S.deepAccess(g,"0.userIdAsEids"),S.isArray(h)&&0<h.length&&S.deepSetValue(f,"user.eids",h),b=E,0<(v=(v=O).filter(function(e){return"string"==typeof e||(S.logWarn(P+"bcat: Each category should be a string, ignoring category: "+e),!1)}).map(function(e){return e.trim()}).filter(function(e,t,n){return 3<e.length?n.indexOf(e)===t:void S.logWarn(P+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)})).length&&(S.logWarn(P+"bcat: Selected: ",v),b.bcat=v),"object"===A(k.b.getConfig("app"))&&(E.app=k.b.getConfig("app"),E.app.publisher=E.site.publisher,E.app.ext=E.site.ext||T,delete E.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(E)}},interpretResponse:function(e,t){var r=[],a="USD",i=JSON.parse(t.data),o=i.site&&i.site.ref?i.site.ref:"";try{e.body&&e.body.seatbid&&S.isArray(e.body.seatbid)&&(a=e.body.cur||a,e.body.seatbid.forEach(function(e){e.bid&&S.isArray(e.bid)&&e.bid.forEach(function(t){var n={requestId:t.impid,cpm:(parseFloat(t.price)||0).toFixed(2),width:t.w,height:t.h,creativeId:t.crid||t.id,dealId:t.dealid,currency:a,netRevenue:!1,ttl:300,referrer:o,ad:t.adm,pm_seat:e.seat||null,pm_dspid:t.ext&&t.ext.dspid?t.ext.dspid:null,partnerImpId:t.id||""};i.imp&&0<i.imp.length&&i.imp.forEach(function(e){if(t.impid===e.id)switch(function(e,t){var n,r=new RegExp(/VAST\s+version/);if(0<=e.indexOf('span class="PubAPIAd"'))t.mediaType=I.b;else if(r.test(e))t.mediaType=I.d;else try{(n=JSON.parse(e.replace(/\\/g,"")))&&n.native&&(t.mediaType=I.c)}catch(t){S.logWarn(P+"Error: Cannot parse native reponse for ad response: "+e)}}(t.adm,n),n.mediaType){case I.b:break;case I.d:n.width=t.hasOwnProperty("w")?t.w:e.video.w,n.height=t.hasOwnProperty("h")?t.h:e.video.h,n.vastXml=t.adm;break;case I.c:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return S.logWarn(P+"Error: Cannot parse native reponse for ad response: "+t.adm)}if(n&&n.native&&n.native.assets&&0<n.native.assets.length){t.mediaType=I.c;for(var r=0,a=n.native.assets.length;r<a;r++)switch(n.native.assets[r].id){case N.TITLE.ID:t.native.title=n.native.assets[r].title&&n.native.assets[r].title.text;break;case N.IMAGE.ID:t.native.image={url:n.native.assets[r].img&&n.native.assets[r].img.url,height:n.native.assets[r].img&&n.native.assets[r].img.h,width:n.native.assets[r].img&&n.native.assets[r].img.w};break;case N.ICON.ID:t.native.icon={url:n.native.assets[r].img&&n.native.assets[r].img.url,height:n.native.assets[r].img&&n.native.assets[r].img.h,width:n.native.assets[r].img&&n.native.assets[r].img.w};break;case N.SPONSOREDBY.ID:case N.BODY.ID:case N.LIKES.ID:case N.DOWNLOADS.ID:case N.PRICE:case N.SALEPRICE.ID:case N.PHONE.ID:case N.ADDRESS.ID:case N.DESC2.ID:case N.CTA.ID:case N.RATING.ID:case N.DISPLAYURL.ID:t.native[c[n.native.assets[r].id]]=n.native.assets[r].data&&n.native.assets[r].data.value}t.native.clickUrl=n.native.link&&n.native.link.url,t.native.clickTrackers=n.native.link&&n.native.link.clicktrackers||[],t.native.impressionTrackers=n.native.imptrackers||[],t.native.jstracker=n.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(t,n)}}),t.ext&&t.ext.deal_channel&&(n.dealChannel=s[t.ext.deal_channel]||null),n.meta={},t.ext&&t.ext.dspid&&(n.meta.networkId=t.ext.dspid),t.ext&&t.ext.advid&&(n.meta.buyerId=t.ext.advid),t.adomain&&0<t.adomain.length&&(n.meta.advertiserDomains=t.adomain,n.meta.clickUrl=t.adomain[0]),e.ext&&e.ext.buyid&&(n.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),r.push(n)})}))}catch(e){S.logError(e)}return r},getUserSyncs:function(e,t,n,r){var a=""+R;return n&&(a+="&gdpr="+(n.gdprApplies?1:0),a+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),r&&(a+="&us_privacy="+encodeURIComponent(r)),!0===k.b.getConfig("coppa")&&(a+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+a}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+a}]},transformBidParams:function(e){return S.convertTypes({publisherId:"string",adSlot:"string"},e)}};Object(r.registerBidder)(o)}},[610]),pbjsChunk([121],{648:function(e,t,n){e.exports=n(649)},649:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return o});var r=n(1),s=n(3),a=n(2),c=n(0),i=n(11),l="",o={code:"richaudience",aliases:["ra"],supportedMediaTypes:[a.b,a.d],isBidRequestValid:function(e){return!!(e.params&&e.params.pid&&e.params.supplyType)},buildRequests:function(e,o){return e.map(function(e){var t,n,r,a,i={bidfloor:e.params.bidfloor,ifa:e.params.ifa,pid:e.params.pid,supplyType:e.params.supplyType,currencyCode:s.b.getConfig("currency.adServerCurrency"),auctionId:e.auctionId,bidId:e.bidId,BidRequestsCount:e.bidRequestsCount,bidder:e.bidder,bidderRequestId:e.bidderRequestId,tagId:e.adUnitCode,sizes:function(e){var t;if(e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(t=e.mediaTypes.banner.sizes),null!=t)return t.map(function(e){return{w:e[0],h:e[1]}})}(e),referer:void 0!==o.refererInfo.referer?encodeURIComponent(o.refererInfo.referer):null,numIframes:void 0!==o.refererInfo.numIframes?o.refererInfo.numIframes:null,transactionId:e.transactionId,timeout:s.b.getConfig("bidderTimeout"),user:(r=e,a=[],r&&r.userId&&(u(0,a,"id5-sync.com",c.deepAccess(r,"userId.id5id")),u(0,a,"pubcommon",c.deepAccess(r,"userId.pubcid")),u(0,a,"criteo.com",c.deepAccess(r,"userId.criteoId")),u(0,a,"liveramp.com",c.deepAccess(r,"userId.idl_env")),u(0,a,"liveintent.com",c.deepAccess(r,"userId.lipb.lipbid")),u(0,a,"adserver.org",c.deepAccess(r,"userId.tdid"))),a),demand:d(e),videoData:(t=e,"video"==d(t)&&(n={format:t.mediaTypes.video.context,playerSize:t.mediaTypes.video.playerSize,mimes:t.mediaTypes.video.mimes}),n)};return l=void 0!==o.refererInfo.referer?encodeURIComponent(o.refererInfo.referer):null,i.gdpr_consent="",i.gdpr=null,o&&o.gdprConsent&&(i.gdpr_consent=o.gdprConsent.consentString,i.gdpr=o.gdprConsent.gdprApplies),{method:"POST",url:"https://shb.richaudience.com/hb/",data:JSON.stringify(i)}})},interpretResponse:function(e,t){var n=[],r=e.body;if(r){var a={requestId:JSON.parse(t.data).bidId,cpm:r.cpm,width:r.width,height:r.height,creativeId:r.creative_id,mediaType:r.media_type,netRevenue:r.netRevenue,currency:r.currency,ttl:r.ttl,dealId:r.dealId};if("video"===r.media_type){a.vastXml=r.vastXML;try{"outstream"==JSON.parse(t.data).videoData.format&&(a.renderer=i.a.install({url:"https://cdn3.richaudience.com/prebidVideo/player.js"}),a.renderer.setRender(p))}catch(e){a.ad=r.adm}}else a.ad=r.adm;n.push(a)}return n},getUserSyncs:function(e,t,n){var r=[],a=Math.floor(9999999999*Math.random()),i="",o="";return n&&"string"==typeof n.consentString&&void 0!==n.consentString&&(o="consentString=".concat(n.consentString)),e.iframeEnabled&&(i="https://sync.richaudience.com/dcf3528a0b8aa83634892d50e91c306e/?ord="+a,""!=o&&(i+="&".concat(o)),r.push({type:"iframe",url:i})),e.pixelEnabled&&null!=l&&0==r.length&&(i="https://sync.richaudience.com/bf7c142f4339da0278e83698a02b0854/?referrer=".concat(l),""!=o&&(i+="&".concat(o)),r.push({type:"image",url:i})),r}};function d(e){var t="display";return null!=e.mediaTypes&&null!=e.mediaTypes.video&&(t="video"),t}function u(e,t,n,r){c.isStr(r)&&t.push({userId:r,source:n})}function p(r){r.renderer.push(function(){var e,t,n;t="".concat((e=r).vastXml),n={config:null!=e.params[0].player?{end:null!=e.params[0].player.end?e.params[0].player.end:"close",init:null!=e.params[0].player.init?e.params[0].player.init:"close",skin:null!=e.params[0].player.skin?e.params[0].player.skin:"light"}:{end:"close",init:"close",skin:"light"},pid:e.params[0].pid,adUnit:e.adUnitCode},window.raParams(n,t,!0)})}Object(r.registerBidder)(o)}},[648]),pbjsChunk([116],{664:function(e,t,n){e.exports=n(665)},665:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"FASTLANE_ENDPOINT",function(){return i}),n.d(t,"VIDEO_ENDPOINT",function(){return _}),n.d(t,"SYNC_ENDPOINT",function(){return o}),n.d(t,"spec",function(){return C}),t.hasVideoMediaType=l,t.masSizeOrdering=m,t.determineRubiconVideoSizeId=k,t.getPriceGranularity=w,t.hasValidVideoParams=f,t.hasValidSupplyChainParams=A,t.encodeParam=P,t.resetUserSync=function(){T=!1};var h=n(0),r=n(1),b=n(3),d=n(2);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return(E="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}var i="https://fastlane.rubiconproject.com/a/api/fastlane.json",_="https://prebid-server.rubiconproject.com/openrtb2/auction",o="https://eus.rubiconproject.com/usync.html",c={FASTLANE:{id:"dt.id",keyv:"dt.keyv",pref:"dt.pref"},PREBID_SERVER:{id:"id",keyv:"keyv"}},u={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380"};h._each(u,function(e,t){return u[e]=t});var C={code:"rubicon",gvlid:52,supportedMediaTypes:[d.b,d.d],isBidRequestValid:function(e){if("object"!==E(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return h.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var r=p(e,!0);return!!r&&("video"!==r||f(e))},buildRequests:function(e,f){var r,t=e.filter(function(e){return"video"===p(e)}).map(function(e){e.startTime=(new Date).getTime();var t,n,r,a,i,o={id:e.transactionId,test:b.b.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:b.b.getConfig("TTL")||1e3,imp:[{exp:300,id:e.adUnitCode,secure:1,ext:g({},e.bidder,e.params),video:h.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:w(b.b)},bidders:{rubicon:{integration:b.b.getConfig("rubicon.int_type")||"pbjs"}}}}};"rubicon"!==e.bidder&&(o.ext.prebid.aliases=g({},e.bidder,"rubicon")),n="function"!=typeof e.getFloor||b.b.getConfig("rubicon.disableFloors")?parseFloat(h.deepAccess(e,"params.floor")):"object"!==E(t=e.getFloor({currency:"USD",mediaType:"video",size:I(e,"video")}))||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:parseFloat(t.floor),isNaN(n)||(o.imp[0].bidfloor=n),o.imp[0].ext[e.bidder].video.size_id=k(e),a=e,i=f,(r=o)&&("object"===E(b.b.getConfig("app"))?r.app=b.b.getConfig("app"):r.site={page:S(a,i)},"object"===E(b.b.getConfig("device"))&&(r.device=b.b.getConfig("device")),a.params.video.language&&["site","device"].forEach(function(e){r[e]&&(r[e].content=y({language:a.params.video.language},r[e].content))})),function(e,t){"object"===E(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"===E(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"===E(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var n=I(t,"video");e.imp[0].video.w=n[0],e.imp[0].video.h=n[1]}(o,e);var s,c=O(e,"PREBID_SERVER");c&&h.deepSetValue(o,"user.ext.digitrust",c),f.gdprConsent&&("boolean"==typeof f.gdprConsent.gdprApplies&&(s=f.gdprConsent.gdprApplies?1:0),h.deepSetValue(o,"regs.ext.gdpr",s),h.deepSetValue(o,"user.ext.consent",f.gdprConsent.consentString)),f.uspConsent&&h.deepSetValue(o,"regs.ext.us_privacy",f.uspConsent),e.userId&&"object"===E(e.userId)&&(e.userId.tdid||e.userId.pubcid||e.userId.lipb||e.userId.idl_env)&&(h.deepSetValue(o,"user.ext.eids",[]),e.userId.tdid&&o.user.ext.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]}),e.userId.pubcid&&o.user.ext.eids.push({source:"pubcommon",uids:[{id:e.userId.pubcid}]}),e.userId.lipb&&e.userId.lipb.lipbid&&(o.user.ext.eids.push({source:"liveintent.com",uids:[{id:e.userId.lipb.lipbid}]}),o.user.ext.tpid={source:"liveintent.com",uid:e.userId.lipb.lipbid},Array.isArray(e.userId.lipb.segments)&&e.userId.lipb.segments.length&&h.deepSetValue(o,"rp.target.LIseg",e.userId.lipb.segments)),e.userId.idl_env&&o.user.ext.eids.push({source:"liveramp.com",uids:[{id:e.userId.idl_env}]})),!0===b.b.getConfig("coppa")&&h.deepSetValue(o,"regs.coppa",1),e.schain&&A(e.schain)&&h.deepSetValue(o,"source.ext.schain",e.schain);var l,d=y({},e.params.inventory,b.b.getConfig("fpd.context")),u=y({},e.params.visitor,b.b.getConfig("fpd.user"));h.isEmpty(d)&&h.isEmpty(u)||(l={bidders:[f.bidderCode],config:{fpd:{}}},h.isEmpty(d)||(l.config.fpd.site=d),h.isEmpty(u)||(l.config.fpd.user=u),h.deepSetValue(o,"ext.prebid.bidderconfig.0",l));var p=h.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof p&&p&&h.deepSetValue(o.imp[0].ext,"context.data.pbadslot",p);var m=h.deepAccess(e,"fpd.context.adServer.adSlot");return"string"==typeof m&&m&&h.deepSetValue(o.imp[0].ext,"context.data.adslot",m),e.storedAuctionResponse&&h.deepSetValue(o.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),h.deepSetValue(o.imp[0],"ext.prebid.auctiontimestamp",f.auctionStart),{method:"POST",url:_,data:o,bidRequest:e}});return!0!==b.b.getConfig("rubicon.singleRequest")?t.concat(e.filter(function(e){return"banner"===p(e)}).map(function(e){var r=C.createSlotParams(e,f);return{method:"GET",url:i,data:C.getOrderedParams(r).reduce(function(e,t){var n=r[t];return h.isStr(n)&&""!==n||h.isNumber(n)?"".concat(e).concat(P(t,n),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})):(r=e.filter(function(e){return"banner"===p(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(r).reduce(function(t,e){var n;return n=r[e],10,n.map(function(e,t){return t%10==0?n.slice(t,t+10):null}).filter(function(e){return e}).forEach(function(e){var r=C.combineSlotUrlParams(e.map(function(e){return C.createSlotParams(e,f)}));t.push({method:"GET",url:i,data:C.getOrderedParams(r).reduce(function(e,t){var n=r[t];return h.isStr(n)&&""!==n||h.isNumber(n)?"".concat(e).concat(P(t,n),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain","tpid_tdid","tpid_liveintent.com","tg_v.LIseg","dt.id","dt.keyv","dt.pref","rf","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return r.concat(Object.keys(e).filter(function(e){return-1===r.indexOf(e)}))},combineSlotUrlParams:function(a){if(1===a.length)return a[0];var r=a.reduce(function(t,n,r){return Object.keys(n).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(a.length)),t[e].splice(r,1,n[e])}),t},{}),i=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(r).forEach(function(e){var t=r[e].join(";"),n=t.match(i);r[e]=n?n[1]:t}),r},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n,r=e.params,a=I(e,"banner"),i=v(r.latLong||[],2),o=i[0],s=i[1],c=b.b.getConfig("rubicon.int_type"),l={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:a[0],alt_size_ids:a.slice(1).join(",")||void 0,rp_floor:.01<(r.floor=parseFloat(r.floor))?r.floor:.01,rp_secure:"1",tk_flint:"".concat(c||"pbjs_lite","_v4.2.0"),"x_source.tid":e.transactionId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:S(e,t)};"function"!=typeof e.getFloor||b.b.getConfig("rubicon.disableFloors")||(n=e.getFloor({currency:"USD",mediaType:"banner",size:"*"}),l.rp_hard_floor="object"!==E(n)||"USD"!==n.currency||isNaN(parseInt(n.floor))?void 0:n.floor),l.p_pos="atf"===r.position||"btf"===r.position?r.position:"",e.userId&&(e.userId.tdid&&(l.tpid_tdid=e.userId.tdid),e.userId.lipb&&e.userId.lipb.lipbid&&(l["tpid_liveintent.com"]=e.userId.lipb.lipbid,Array.isArray(e.userId.lipb.segments)&&e.userId.lipb.segments.length&&(l["tg_v.LIseg"]=e.userId.lipb.segments.join(","))),e.userId.idl_env&&(l["tpid_liveramp.com"]=e.userId.idl_env)),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(l.gdpr=Number(t.gdprConsent.gdprApplies)),l.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(l.us_privacy=encodeURIComponent(t.uspConsent));var d=y({},r.visitor,b.b.getConfig("fpd.user"));Object.keys(d).forEach(function(e){null!=d[e]&&"keywords"!==e&&(l["tg_v.".concat(e)]="object"!==E(d[e])||Array.isArray(d[e])?d[e].toString():JSON.stringify(d[e]))});var u=y({},r.inventory,b.b.getConfig("fpd.context"));Object.keys(u).forEach(function(e){null!=u[e]&&"keywords"!==e&&(l["tg_i.".concat(e)]="object"!==E(u[e])||Array.isArray(u[e])?u[e].toString():JSON.stringify(u[e]))});var p=(r.keywords||[]).concat(h.deepAccess(b.b.getConfig("fpd.user"),"keywords")||[],h.deepAccess(b.b.getConfig("fpd.context"),"keywords")||[]);l.kw=Array.isArray(p)&&p.length?p.join(","):"";var m=h.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof m&&m&&(l["tg_i.pbadslot"]=m.replace(/^\/+/,""));var f=h.deepAccess(e,"fpd.context.adServer.adSlot");"string"==typeof f&&f&&(l["tg_i.dfp_ad_unit_code"]=f.replace(/^\/+/,""));var g=O(e,"FASTLANE");return y(l,g),!0===b.b.getConfig("coppa")&&(l.coppa=1),e.schain&&A(e.schain)&&(l.rp_schain=C.serializeSupplyChain(e.schain)),l},serializeSupplyChain:function(e){if(!A(e))return"";var t=e.ver,n=e.complete,r=e.nodes;return"".concat(t,",").concat(n,"!").concat(C.serializeSupplyChainNodes(r))},serializeSupplyChainNodes:function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(c,e){var l=e.bidRequest;if(!(c=c.body)||"object"!==E(c))return[];if(c.seatbid){var t=h.deepAccess(c,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&h.logWarn("Rubicon: Error in video response");var i=[];return c.seatbid.forEach(function(a){(a.bid||[]).forEach(function(e){var t={requestId:l.bidId,currency:c.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:a.seat,ttl:300,netRevenue:!1!==b.b.getConfig("rubicon.netRevenue"),width:e.w||h.deepAccess(l,"mediaTypes.video.w")||h.deepAccess(l,"params.video.playerWidth"),height:e.h||h.deepAccess(l,"mediaTypes.video.h")||h.deepAccess(l,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid);var n,r=h.deepAccess(c,"ext.responsetimemillis.rubicon");l&&r&&(l.serverResponseTimeMs=r),h.deepAccess(e,"ext.prebid.type")===d.d?(t.mediaType=d.d,(n=h.deepAccess(e,"ext.prebid.targeting"))&&"object"===E(n)&&(t.adserverTargeting=n),e.ext.prebid.cache&&"object"===E(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):n&&n.hb_uuid&&n.hb_cache_host&&n.hb_cache_path&&(t.videoCacheKey=n.hb_uuid,t.vastUrl="https://".concat(n.hb_cache_host).concat(n.hb_cache_path,"?uuid=").concat(n.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)):h.logWarn("Rubicon: video response received non-video media type"),i.push(t)})}),i}var n=c.ads;return"object"!==E(l)||Array.isArray(l)||"video"!==p(l)||"object"!==E(n)||(n=n[l.adUnitCode]),!Array.isArray(n)||n.length<1?[]:n.reduce(function(e,t,n){if("ok"!==t.status)return e;var r,a,i,o,s=Array.isArray(l)?l[n]:l;return s&&"object"===E(s)?(r={requestId:s.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==b.b.getConfig("rubicon.netRevenue"),rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network}},t.creative_type&&(r.mediaType=t.creative_type),t.creative_type===d.d?(r.width=s.params.video.playerWidth,r.height=s.params.video.playerHeight,r.vastUrl=t.creative_depot_url,r.impression_id=t.impression_id,r.videoCacheKey=t.impression_id):(r.ad=(i=t.script,o=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(o,"'>\n<script type='text/javascript'>").concat(i,"<\/script>\n</div>\n</body>\n</html>")),a=v(u[t.size_id].split("x").map(function(e){return Number(e)}),2),r.width=a[0],r.height=a[1]),r.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:s.adUnitCode}),e.push(r)):h.logError("Rubicon: bidRequest undefined at index position:".concat(n),l,c),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,n,r){if(!T&&e.iframeEnabled){var a="";return n&&"string"==typeof n.consentString&&("boolean"==typeof n.gdprApplies?a+="?gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):a+="?gdpr_consent=".concat(n.consentString)),r&&(a+="".concat(a?"&":"?","us_privacy=").concat(encodeURIComponent(r))),T=!0,{type:"iframe",url:o+a}}},transformBidParams:function(e){return h.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function O(e,t){var n,r=0<arguments.length&&void 0!==e?e:{},a=1<arguments.length?t:void 0;if(!a||!c[a])return null;var i=c[a],o=function(){var e=h.deepAccess(r,"userId.digitrustid.data");if(e)return e;var t=window.DigiTrust&&(b.b.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"}));return t&&t.success&&t.identity||null}();if(!o||o.privacy&&o.privacy.optout)return null;var s=(g(n={},i.id,o.id),g(n,i.keyv,o.keyv),n);return i.pref&&(s[i.pref]=0),s}function S(e,t){var n=b.b.getConfig("pageUrl");n=e.params.referrer?e.params.referrer:n||t.refererInfo.referer;return e.params.secure?n.replace(/^http:/i,"https:"):n}function I(e,t){var n=e.params;if("video"===t){var r=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?r=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(h.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?r=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(r=e.sizes[0]),r}var a=[];return Array.isArray(n.sizes)?a=n.sizes:void 0!==h.deepAccess(e,"mediaTypes.banner.sizes")?a=s(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?a=s(e.sizes):h.logWarn("Rubicon: no sizes are setup or found"),m(a)}function s(e){return h.parseSizesInput(e).reduce(function(e,t){var n=parseInt(u[t],10);return n&&e.push(n),e},[])}function l(e){return"object"===E(h.deepAccess(e,"params.video"))&&void 0!==h.deepAccess(e,"mediaTypes.".concat(d.d))}function p(e,t){var n=1<arguments.length&&void 0!==t&&t;return l(e)?-1===["outstream","instream"].indexOf(h.deepAccess(e,"mediaTypes.".concat(d.d,".context")))?void(n&&h.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):I(e,"video").length<2?void(n&&h.logError("Rubicon: could not determine the playerSize of the video")):(n&&h.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===I(e,"banner").length?void(n&&h.logError("Rubicon: could not determine the sizes for banner request")):(n&&h.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function m(e){var a=[15,2,9];return e.sort(function(e,t){var n=a.indexOf(e),r=a.indexOf(t);return-1<n||-1<r?-1===n?1:-1===r?-1:n-r:e-t})}function k(e){var t=parseInt(h.deepAccess(e,"params.video.size_id"));return isNaN(t)?"outstream"===h.deepAccess(e,"mediaTypes.".concat(d.d,".context"))?203:201:t}function w(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function f(t){var n=!0,e=Object.prototype.toString.call([]),r=Object.prototype.toString.call(0),a={mimes:e,protocols:e,maxduration:r,linearity:r,api:e};return Object.keys(a).forEach(function(e){Object.prototype.toString.call(h.deepAccess(t,"mediaTypes.video."+e))!==a[e]&&(n=!1,h.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+a[e]))}),n}function A(e){var t=!1,n=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e?n.every(function(e){return t[e]}):e},!0))||h.logError("Rubicon: required schain params missing")),t}function P(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var T=!1;Object(r.registerBidder)(C)}},[664]),pbjsChunk([95],{720:function(e,t,n){e.exports=n(721)},721:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return a});var u=n(0),r=n(1),i=n(2),a={code:"sovrn",supportedMediaTypes:[i.b],isBidRequestValid:function(e){return!(!e.params.tagid||isNaN(parseFloat(e.params.tagid))||!isFinite(e.params.tagid))},buildRequests:function(e,t){try{var r,a,i,o=[];u._each(e,function(e){i=i||u.deepAccess(e,"userId.tdid"),e.schain&&(a=a||e.schain),r=r||u.getBidIdParameter("iv",e.params);var t=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes||e.sizes,n=(t=(t=u.isArray(t)&&u.isArray(t[0])?t:[t]).filter(function(e){return u.isArray(e)})).map(function(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}});o.push({adunitcode:e.adUnitCode,id:e.bidId,banner:{format:n,w:1,h:1},tagid:String(u.getBidIdParameter("tagid",e.params)),bidfloor:u.getBidIdParameter("bidfloor",e.params)})});var n,s=t.refererInfo.referer,c=u.parseUrl(s).hostname,l={id:u.getUniqueIdentifierStr(),imp:o,site:{page:s,domain:c}};a&&(l.source={ext:{schain:a}}),t.gdprConsent&&(u.deepSetValue(l,"regs.ext.gdpr",+t.gdprConsent.gdprApplies),u.deepSetValue(l,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&u.deepSetValue(l,"regs.ext.us_privacy",t.uspConsent),i&&(n=[{source:"adserver.org",uids:[{id:i,ext:{rtiPartner:"TDID"}}]}],u.deepSetValue(l,"user.ext.eids",n));var d="https://ap.lijit.com/rtb/bid?src=prebid_prebid_4.2.0";return r&&(d+="&iv=".concat(r)),{method:"POST",url:d,data:JSON.stringify(l),options:{contentType:"text/plain"}}}catch(e){u.logError("Could not build bidrequest, error deatils:",e)}},interpretResponse:function(e){var t=e.body,n=t.id,r=t.seatbid;try{var a=[];return n&&r&&0<r.length&&r[0].bid&&0<r[0].bid.length&&r[0].bid.map(function(e){a.push({requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,mediaType:i.b,ad:decodeURIComponent("".concat(e.adm,'<img src="').concat(e.nurl,'">')),ttl:60})}),a}catch(e){u.logError("Could not intrepret bidresponse, error deatils:",e)}},getUserSyncs:function(e,t,n,r){try{var a,i,o=[];return t&&0!==t.length&&(e.iframeEnabled&&(a=t.filter(function(e){return u.deepAccess(e,"body.ext.iid")}).map(function(e){return e.body.ext.iid}),i=[],n&&n.gdprApplies&&"string"==typeof n.consentString&&i.push(["gdpr_consent",n.consentString]),r&&i.push(["us_privacy",r]),a[0]&&(i.push(["informer",a[0]]),o.push({type:"iframe",url:"https://ap.lijit.com/beacon?"+i.map(function(e){return e.join("=")}).join("&")}))),e.pixelEnabled&&t.filter(function(e){return u.deepAccess(e,"body.ext.sync.pixels")}).reduce(function(e,t){return e.concat(t.body.ext.sync.pixels)},[]).map(function(e){return e.url}).forEach(function(e){return o.push({type:"image",url:e})})),o}catch(e){return[]}}};Object(r.registerBidder)(a)}},[720]),pbjsChunk([89],{734:function(e,t,n){e.exports=n(735)},735:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return a});var r=n(1),l=n(0),a={code:"teads",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){var t,n,r=!1;return void 0!==e.params&&(t=i(l.getValue(e.params,"placementId")),n=i(l.getValue(e.params,"pageId")),r=t&&n),r||l.logError("Teads placementId and pageId parameters are required. Bid aborted."),r},buildRequests:function(e,t){var n,r,a,i=e.map(b),o={referrer:(r=t,a="",r&&r.refererInfo&&r.refererInfo.referer&&(a=r.refererInfo.referer),a),pageReferrer:document.referrer,networkBandwidth:(n=window.navigator)&&n.connection&&0<=n.connection.downlink?n.connection.downlink.toString():"",data:i,deviceWidth:screen.width,hb_version:"4.2.0"};e[0].schain&&(o.schain=e[0].schain);var s,c,l,d,u,p,m,f,g,h=t.gdprConsent;return t&&h&&(s="boolean"==typeof h.gdprApplies,c="string"==typeof h.consentString,l=s?(d=h.gdprApplies,u=h.vendorData,p=h.apiVersion,g=12,d?(f=p,((m=u)&&1===f?m.hasGlobalScope||m.hasGlobalConsent:m&&2===f&&!m.isServiceSpecific)&&(g=11)):g=0,g):22,o.gdpr_iab={consent:c?h.consentString:"",status:l,apiVersion:h.apiVersion}),t&&t.uspConsent&&(o.us_privacy=t.uspConsent),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(o)}},interpretResponse:function(e){var n=[];return(e=e.body).responses&&e.responses.forEach(function(e){var t={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};e.dealId&&(t.dealId=e.dealId),n.push(t)}),n}};function b(e){var t,n,r,a,i,o={},s=l.getValue(e.params,"placementId"),c=l.getValue(e.params,"pageId");return o.sizes=(t=e,l.parseSizesInput((n=t,r=l.deepAccess(n,"mediaTypes.video.playerSize"),a=l.deepAccess(n,"mediaTypes.video.sizes"),i=l.deepAccess(n,"mediaTypes.banner.sizes"),l.isArray(i)||l.isArray(r)||l.isArray(a)?[i,a,r].reduce(function(t,e){return l.isArray(e)&&(l.isArray(e[0])?e.forEach(function(e){t.push(e)}):t.push(e)),t},[]):n.sizes))),o.bidId=l.getBidIdParameter("bidId",e),o.bidderRequestId=l.getBidIdParameter("bidderRequestId",e),o.placementId=parseInt(s,10),o.pageId=parseInt(c,10),o.adUnitCode=l.getBidIdParameter("adUnitCode",e),o.auctionId=l.getBidIdParameter("auctionId",e),o.transactionId=l.getBidIdParameter("transactionId",e),o}function i(e){return 0<parseInt(e)}Object(r.registerBidder)(a)}},[734]),pbjsChunk([80],{754:function(e,t,n){e.exports=n(755)},755:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"tripleliftAdapterSpec",function(){return p});var r=n(2),a=n(1),o=n(0),i=n(3);function s(e){return(s="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)})(e)}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return l(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=!0,u=null,p={code:"triplelift",supportedMediaTypes:[r.b],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n,r="https://tlx.3lift.com/header/auction?",a=function(e){var t={},n=e[0].schain;t.imp=e.map(function(e,t){return{id:t,tagid:e.params.inventoryCode,floor:(n=e,a=null,"function"==typeof n.getFloor&&("object"!==s(r=n.getFloor({currency:"USD",mediaType:"banner",size:f(n.sizes)}))||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(a=parseFloat(r.floor))),null!==a?a:n.params.floor),banner:{format:f(e.sizes)}};var n,r,a});var r=[].concat(c(m(e,"tdid","adserver.org","TDID")),c(m(e,"idl_env","liveramp.com","idl")),c(m(e,"criteoId","criteo.com","criteoId")));return 0<r.length&&(t.user={ext:{eids:r}}),n&&(t.ext={schain:n}),t}(e);return r=o.tryAppendQueryString(r,"lib","prebid"),r=o.tryAppendQueryString(r,"v","4.2.0"),t&&t.refererInfo&&(n=t.refererInfo.referer,r=o.tryAppendQueryString(r,"referrer",n)),t&&t.timeout&&(r=o.tryAppendQueryString(r,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(d=t.gdprConsent.gdprApplies,r=o.tryAppendQueryString(r,"gdpr",d.toString())),void 0!==t.gdprConsent.consentString&&(u=t.gdprConsent.consentString,r=o.tryAppendQueryString(r,"cmp_cs",u))),t&&t.uspConsent&&(r=o.tryAppendQueryString(r,"us_privacy",t.uspConsent)),!0===i.b.getConfig("coppa")&&(r=o.tryAppendQueryString(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),o.logMessage("tlCall request built: "+r),{method:"POST",url:r,data:a,bidderRequest:t}},interpretResponse:function(e,t){var c=t.bidderRequest;return(e.body.bids||[]).map(function(e){return t=c,r={},a=(n=e).width||1,i=n.height||1,o=n.deal_id||"",s=n.crid||"",0!=n.cpm&&n.ad&&(r={requestId:t.bids[n.imp_id].bidId,cpm:n.cpm,width:a,height:i,netRevenue:!0,ad:n.ad,creativeId:s,dealId:o,currency:"USD",ttl:300,tl_source:n.tl_source}),r;var t,n,r,a,i,o,s})},getUserSyncs:function(e,t,n,r){var a=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(a){var i="https://eb2.3lift.com/sync?";return"image"===a&&(i=o.tryAppendQueryString(i,"px",1),i=o.tryAppendQueryString(i,"src","prebid")),null!==u&&(i=o.tryAppendQueryString(i,"gdpr",d),i=o.tryAppendQueryString(i,"cmp_cs",u)),r&&(i=o.tryAppendQueryString(i,"us_privacy",r)),[{type:a,url:i}]}}};function m(e,t,n,r){return e.map((o=t,function(e){return e&&e.userId&&e.userId[o]})).filter(function(e){return!!e}).map((a=n,i=r,function(e){return{source:a,uids:[{id:e,ext:{rtiPartner:i}}]}}));var a,i,o}function f(e){return e.filter(g).map(function(e){return{w:e[0],h:e[1]}})}function g(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}Object(a.registerBidder)(p)}},[754]),pbjsChunk([72],{772:function(e,t,n){e.exports=n(773)},773:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"unifiedIdSubmodule",function(){return o});var r=n(0),a=n(4),i=n(13),o={name:"unifiedId",decode:function(e){return e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0},getId:function(e){if(e&&("string"==typeof e.partner||"string"==typeof e.url)){var t=e.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(e.partner,"&fmt=json");return{callback:function(n){var e={success:function(e){var t;if(e)try{t=JSON.parse(e)}catch(e){r.logError(e)}n(t)},error:function(e){r.logError("".concat("unifiedId",": ID fetch encountered an error"),e),n()}};Object(a.a)(t,e,void 0,{method:"GET",withCredentials:!0})}}}r.logError("User ID - unifiedId submodule requires either partner or url to be defined")}};Object(i.e)("userId",o)}},[772]),pbjsChunk([4],{44:function(e,t,n){t.a=function(e){var t=[];for(var s in e){var n;!e.hasOwnProperty(s)||(n=function(e){var t=l[s];if(t&&e){var n={};n.source=t.source;var r=c.isFn(t.getValue)?t.getValue(e):e;if(c.isStr(r)){var a,i,o={id:r,atype:t.atype};return!c.isFn(t.getUidExt)||(a=t.getUidExt(e))&&(o.ext=a),n.uids=[o],!c.isFn(t.getEidExt)||(i=t.getEidExt(e))&&(n.ext=i),n}}return null}(e[s]))&&t.push(n)}return t};var c=n(0),l={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{source:"id5-sync.com",atype:1},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=c.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:1},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:1,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:1},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.third?{third:e.third}:void 0}}}},776:function(e,t,n){e.exports=n(777)},777:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"coreStorage",function(){return I}),n.d(t,"syncDelay",function(){return u}),n.d(t,"auctionDelay",function(){return p}),t.setSubmoduleRegistry=function(e){T=e},t.setStoredValue=j,t.requestBidsHook=M,n.d(t,"validateGdprEnforcement",function(){return U}),t.attachIdSystem=F,t.init=W;var l,d,u,p,r=n(10),a=n.n(r),i=n(3),o=n(8),m=n.n(o),f=n(0),s=n(20),g=n(7),c=n(5),h=n.n(c),b=n(13),v=n(44),y=n(9),E="User ID",_="cookie",C="html5",O=500,S=0,I=Object(y.a)("userid"),k=[],w=!1,A=[],P=[],T=[];function j(e,t){var n=e.config.storage,r="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var a=f.isPlainObject(t)?JSON.stringify(t):t,i=new Date(Date.now()+864e5*n.expires).toUTCString();n.type===_?(I.setCookie(n.name,a,i,"Lax",r),"number"==typeof n.refreshInSeconds&&I.setCookie("".concat(n.name,"_last"),(new Date).toUTCString(),i,"Lax",r)):n.type===C&&(I.setDataInLocalStorage("".concat(n.name,"_exp"),i),I.setDataInLocalStorage(n.name,encodeURIComponent(a)),"number"==typeof n.refreshInSeconds&&I.setDataInLocalStorage("".concat(n.name,"_last"),(new Date).toUTCString()))}catch(e){f.logError(e)}}function N(e,t){var n,r,a=1<arguments.length&&void 0!==t?t:void 0,i=a?"".concat(e.name,"_").concat(a):e.name;try{e.type===_?n=I.getCookie(i):e.type===C&&(""===(r=I.getDataFromLocalStorage("".concat(e.name,"_exp")))?n=I.getDataFromLocalStorage(i):r&&0<new Date(r).getTime()-Date.now()&&(n=decodeURIComponent(I.getDataFromLocalStorage(i)))),"string"==typeof n&&"{"===n.charAt(0)&&(n=JSON.parse(n))}catch(e){f.logError(e)}return n}function D(e,t){var n=t?f.delayExecution(t,e.length):function(){};e.forEach(function(t){t.callback(function(e){e?(t.config.storage&&j(t,e),t.idObj=t.submodule.decode(e)):f.logInfo("".concat(E,": ").concat(t.submodule.name," - request id responded with an empty value")),n()}),t.callback=void 0}),clearTimeout(d)}function x(e){return Array.isArray(e)&&e.length?e.filter(function(e){return f.isPlainObject(e.idObj)&&Object.keys(e.idObj).length}).reduce(function(t,n){return Object.keys(n.idObj).forEach(function(e){t[e]=n.idObj[e]}),t},{}):{}}function q(e){var t,n,r,a,s,i,o,c=!1;void 0===l&&(a=A,s=g.gdprDataHandler.getConsentData(),o=(i=U(a,s)).userIdModules,!(l=i.hasValidated||function(e){if(e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies){if(!e.consentString)return;if(1===e.apiVersion&&!1===f.deepAccess(e,"vendorData.purposeConsents.1"))return;if(2===e.apiVersion&&!1===f.deepAccess(e,"vendorData.purpose.consents.1"))return}return 1}(s)?o.reduce(function(e,t){var n,r,a,i,o;return t.config.storage?(n=N(t.config.storage),i=!1,"number"==typeof t.config.storage.refreshInSeconds&&(i=(a=new Date(N(t.config.storage,"last")))&&Date.now()-a.getTime()>1e3*t.config.storage.refreshInSeconds),!n||i?r=t.submodule.getId(t.config.params,s,n):"function"==typeof t.submodule.extendId&&(r=t.submodule.extendId(t.config.params,n)),f.isPlainObject(r)&&(r.id&&(j(t,r.id),n=r.id),"function"==typeof r.callback&&(t.callback=r.callback)),n&&(t.idObj=t.submodule.decode(n,t.config.params))):t.config.value?t.idObj=t.config.value:(o=t.submodule.getId(t.config.params,s,void 0),f.isPlainObject(o)&&("function"==typeof o.callback&&(t.callback=o.callback),o.id&&(t.idObj=t.submodule.decode(o.id,t.config.params)))),e.push(t),e},[]):(f.logWarn("".concat(E," - gdpr permission not valid for local storage or cookies, exit module")),[])).length||(t=l.filter(function(e){return f.isFn(e.callback)})).length&&(e&&0<p?(n=!(c=!0),r=function(){n||(n=!0,e())},f.logInfo("".concat(E," - auction delayed by ").concat(p," at most to fetch ids")),d=setTimeout(r,p),D(t,r)):m.a.on(h.a.EVENTS.AUCTION_END,function e(){m.a.off(h.a.EVENTS.AUCTION_END,e),0<u?setTimeout(function(){D(t)},u):D(t)}))),e&&!c&&e()}function M(a,i){q(function(){var e,t,n,r;e=i.adUnits||Object(s.a)().adUnits,t=l,[e].some(function(e){return!Array.isArray(e)||!e.length})||(n=x(t),r=Object(v.a)(n),Object.keys(n).length&&e.forEach(function(e){e.bids.forEach(function(e){e.userId=n,e.userIdAsEids=r})})),a.call(this,i)})}function R(){return q(),x(l)}function B(){return q(),Object(v.a)(x(l))}var U=Object(b.b)("sync",function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}},"validateGdprEnforcement");function L(){var e,n,t,r=(e=P,n=k,Array.isArray(e)?e.reduce(function(e,t){return!t||f.isEmptyStr(t.name)||(!t.storage||f.isEmptyStr(t.storage.type)||f.isEmptyStr(t.storage.name)||-1===n.indexOf(t.storage.type))&&!f.isPlainObject(t.value)&&(t.storage||t.value)||e.push(t),e},[]):[]);r.length&&(t=T.filter(function(t){return!a()(A,function(e){return e.name===t.name})}),A=t.map(function(t){var e=a()(r,function(e){return e.name===t.name});return e?{submodule:t,config:e,callback:void 0,idObj:void 0}:null}).filter(function(e){return null!==e}),!w&&A.length&&(Object(s.a)().requestBids.before(M,40),f.logInfo("".concat(E," - usersync config updated for ").concat(A.length," submodules")),w=!0))}function F(t){a()(T,function(e){return e.name===t.name})||(T.push(t),L())}function W(e){A=[],w=!(P=[]),l=void 0,-1===(k=[I.localStorageIsEnabled()?C:null,I.cookiesAreEnabled()?_:null].filter(function(e){return null!==e})).indexOf(_)||!I.getCookie("_pbjs_id_optout")&&!I.getCookie("_pubcid_optout")?-1===k.indexOf(C)||!I.getDataFromLocalStorage("_pbjs_id_optout")&&!I.getDataFromLocalStorage("_pubcid_optout")?(e.getConfig(function(e){var t=e.userSync;t&&t.userIds&&(P=t.userIds,u=f.isNumber(t.syncDelay)?t.syncDelay:O,p=f.isNumber(t.auctionDelay)?t.auctionDelay:S,L())}),Object(s.a)().getUserIds=R,Object(s.a)().getUserIdsAsEids=B):f.logInfo("".concat(E," - opt-out localStorage found, exit module")):f.logInfo("".concat(E," - opt-out cookie found, exit module"))}W(i.b),Object(b.c)("userId",F)}},[776]),pbjs.processQueue()},B0tv:function(e,t,n){},"BuJ/":function(e,t,n){},CG6i:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("TSYQ")),E=n.n(y),_=n("oHla"),C=n("GB65"),O=n("gmqy"),S=function(e){function n(e){var o;a()(this,n),o=c()(this,d()(n).call(this,e)),h()(p()(o),"element",null),h()(p()(o),"placeholderElement",null),h()(p()(o),"onContextMenu",function(){var e=o.props.originalSrc;o.setState({originalLink:e})}),h()(p()(o),"onClick",function(){var e=o.props,t=e.zoom,n=e.originalSrc;o.isZoomable()&&t&&t({show:!0,src:n})}),h()(p()(o),"onThumbnailError",function(e){var t=o.props,n=t.onError,r=t.originalSrc;if(o.state.thumbnailLink!==r)return o.setState({thumbnailLink:r});n(e)}),h()(p()(o),"renderThumbnail",function(){var e=o.props,t=e.onLoad,n=e.width,r=e.height,a=e.maxHeight,i=o.state.thumbnailLink;return v.a.createElement("img",{ref:function(e){o.element=e},src:i,width:n,height:r,style:{maxHeight:a},onLoad:t,onError:o.onThumbnailError,loading:"lazy"})}),h()(p()(o),"renderWithOriginalImage",function(){var e=o.state.originalLink,t=E()({imageContainer:!0,zoomable:o.isZoomable()});return v.a.createElement("div",{className:t,onContextMenu:o.onContextMenu,onClick:o.onClick},v.a.createElement("img",{ref:function(e){o.placeholderElement=e},className:"image-placeholder",src:e}),o.renderThumbnail())}),h()(p()(o),"isZoomable",function(){var e=o.props,t=e.height,n=e.maxHeight;return n&&n<t});var t=Object(_.b)(Object(C.Q)())?e.originalSrc:e.thumbSrc;return o.state={originalLink:t,thumbnailLink:t},o}return f()(n,e),o()(n,[{key:"componentWillUnmount",value:function(){this.element&&this.element.removeAttribute("src"),this.placeholderElement&&this.placeholderElement.removeAttribute("src")}},{key:"render",value:function(){return this.props.withOriginalImage?this.renderWithOriginalImage():this.renderThumbnail()}}]),n}(v.a.Component);S.__docgenInfo={description:"",methods:[{name:"onContextMenu",docblock:null,modifiers:[],params:[],returns:null},{name:"onClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onThumbnailError",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"renderThumbnail",docblock:null,modifiers:[],params:[],returns:null},{name:"renderWithOriginalImage",docblock:null,modifiers:[],params:[],returns:null},{name:"isZoomable",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostImageComponent",props:{hash:{type:{name:"string"},required:!1,description:""},thumbSrc:{type:{name:"string"},required:!1,description:""},originalSrc:{type:{name:"string"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},withOriginalImage:{type:{name:"bool"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""}}},t.b=Object(O.a)(S)},CGfh:function(e,t,n){e.exports=n.p+"desktop-assets/secret-santa-2019-tooltip.77a9a3426338bb88c66e54279bacd6f6.svg"},CVa3:function(e,t,n){},CYIP:function(e,t,n){e.exports=n.p+"desktop-assets/reg-email.aed1976a4dbd3e072b1eeaab2b0cf819.svg"},Cz84:function(e,t,n){},D4vR:function(e,t,n){},DT9I:function(e,t,n){e.exports=n.p+"desktop-assets/s3.8d7432b17023313078fbeb8fa946386d.svg"},DfB6:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),s=n("a1gu"),l=n.n(s),c=n("Nsbk"),d=n.n(c),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("G5ih")),E=n("/MKj"),_=n("BWa0"),C=n("uwpD"),O=n("dRit"),S=n("GB65"),I=n("pVnL"),k=n.n(I),w=n("QILm"),A=n.n(w),P=function(e){function t(e){var r;return i()(this,t),r=l()(this,d()(t).call(this,e)),h()(p()(r),"getContainer",function(e){r.container=e}),h()(p()(r),"handle",function(e){if("touchend"===e.type&&(r.isTouch=!0),"click"!==e.type||!r.isTouch){var t=r.props.onClickOutside,n=r.container;n&&!n.contains(e.target)&&t(e)}}),r.isTouch=!1,r}return f()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.onClickOutside,A()(e,["children","onClickOutside"]));return v.a.createElement("div",k()({},n,{ref:this.getContainer}),t)}},{key:"componentDidMount",value:function(){Object(S.a)("touchend",this.handle,!0),Object(S.a)("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){Object(S.ib)("touchend",this.handle,!0),Object(S.ib)("click",this.handle,!0)}}]),t}(b.Component);P.__docgenInfo={description:"",methods:[{name:"getContainer",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null},{name:"handle",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ClickOutside",props:{onClickOutside:{type:{name:"func"},required:!0,description:""},children:{type:{name:"node"},required:!1,description:""}}};var T=n("TSYQ"),j=n.n(T),N=n("JPcv"),D=n("sEfC"),x=n.n(D),q=n("E9Wd"),M=function(e){function a(){var e,s;i()(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s=l()(this,(e=d()(a)).call.apply(e,[this].concat(n))),h()(p()(s),"onSelect",function(e){(0,s.props.onCategorySelection)(e)}),h()(p()(s),"renderReactionGifCategories",function(e,t){var n=s.props.getColorByPostIndex,r=e.preview,a={backgroundImage:"linear-gradient(".concat(n(t),", #2e3035)")},i=e.shortname,o="gifpicker-collectionBackground".concat(e.is_promoted?" promotedCollection":"");return v.a.createElement("div",{key:"".concat(t).concat(r).concat(i),className:"gifpicker-collection",onClick:function(){s.onSelect(i),s.resetCollection()}},v.a.createElement("video",{style:a,className:o,autoPlay:!0,preload:"none",loop:!0,playsInline:!0},v.a.createElement("source",{type:"video/mp4",src:"".concat(q.M,"/").concat(r,"_lq.mp4")})),v.a.createElement("div",null,v.a.createElement("h2",{className:"gifpicker-collectionName"},e.name,e.is_promoted&&e.subtitle&&v.a.createElement("span",{className:"gifpicker-collectionSubtitle"},e.subtitle))))}),s}return f()(a,e),o()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchReactionCollections,n=e.resetReactionGifSearchCollections;t(),n()}},{key:"resetCollection",value:function(){this.props.reactionGifCollections}},{key:"render",value:function(){var e=this.props.reactionGifCollections;return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"gifpicker-body-container"},v.a.createElement("div",{className:"gifpicker-body Scrollbar--gray"},e.map(this.renderReactionGifCategories))))}}]),a}(v.a.Component);M.__docgenInfo={description:"",methods:[{name:"onSelect",docblock:null,modifiers:[],params:[{name:"queryString",type:null}],returns:null},{name:"renderReactionGifCategories",docblock:null,modifiers:[],params:[{name:"reactionGifObject",type:null},{name:"index",type:null}],returns:null},{name:"resetCollection",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ReactionGIFCategories",props:{fetchReactionCollections:{type:{name:"func"},required:!0,description:""},reactionGifCollections:{type:{name:"object"},required:!0,description:""},getColorByPostIndex:{type:{name:"func"},required:!0,description:""},renderReactionGifCategories:{type:{name:"func"},required:!1,description:""},reactionGifObject:{type:{name:"object"},required:!1,description:""},position:{type:{name:"string"},required:!1,description:""},resetCollection:{type:{name:"func"},required:!1,description:""},onCategorySelection:{type:{name:"func"},required:!0,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""}}};var R=Object(E.b)(function(e){return{reactionGifCollections:e.comments.get("reactionGifCollections")}},{fetchReactionCollections:C.d,resetReactionGifSearchCollections:C.g})(M),B=n("DzJC"),U=n.n(B),L=n("Uz4u"),F=n.n(L);function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(n,!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var G=function(e){function t(e){var m;return i()(this,t),m=l()(this,d()(t).call(this,e)),h()(p()(m),"showCategoryCollection",function(){var e=m.props,t=e.fetchReactionGifSearchFull,n=e.currentlyShowing,r=e.reactionGifSearchFullpageNum;!0===m.state.isFullyLoaded&&null!=n?(m.setState({showingCategory:!1}),t(n,r)):m.setState({showingCategory:!0})}),h()(p()(m),"handleScrollCollection",function(){var e=m.state.showingCategory,t=m.props,n=t.currentlyShowing,r=t.reactionGifRequestPending,a=t.reactionGifSearchFullpageNum;if(""!==n&&!1===e){var i=m.GifPickerBodyCollection.current,o=i.scrollTop,s=i.scrollHeight,c=s-o;m.setState({scrollDistance:o}),c<1e3&&1e3<=s&&!1===r&&m.showCategoryCollection(n,a)}}),h()(p()(m),"selectGif",function(e){(0,m.props.handleGifSelection)(e)}),h()(p()(m),"renderSelectableGifs",function(e,t){var n=m.state.scrollDistance,r=m.props,a=r.reactionGifSearchFullpageNum,i=r.getColorByPostIndex,o=e.id,s=e.height,c=e.runningGifHeight,l={height:"".concat(s,"px")},d={backgroundImage:"linear-gradient(".concat(i(t),", #2e3035)"),height:"".concat(s,"px")},u="".concat(q.M,"/").concat(o,"_lq.mp4"),p="".concat(q.M,"/").concat(o,".gif");return(n<450?0:n-450)<=c&&c<n+343+450?v.a.createElement("div",{key:"".concat(t+o+a+!0),className:"gifpicker-image",style:l,onClick:function(){m.selectGif(p)}},v.a.createElement("video",{style:d,className:"gifpicker-collectionBackground",autoPlay:!0,preload:"none",loop:!0,playsInline:!0},v.a.createElement("source",{type:"video/mp4",src:u}))):v.a.createElement("div",{key:"".concat(t+o+a+!1," "),className:"gifpicker-image",style:l},v.a.createElement("video",{style:d,className:"gifpicker-collectionBackground",preload:"none",loop:!0,playsInline:!0},v.a.createElement("source",{type:"video/mp4"})))}),h()(p()(m),"resetCollection",function(){var e=m.props,t=e.handleReset,n=e.resetReactionGifSearchCollections;t(),n(),m.setState({column1:[],column2:[],column1Height:0,column2Height:0})}),m.handleScrollCollection=U()(m.handleScrollCollection.bind(p()(m)),35),m.GifPickerBodyCollection=v.a.createRef(),m.state={showingCategory:!1,scrollDistance:0,isFullyLoaded:!0,column1:[],column2:[],column1Height:0,column2Height:0},m}return f()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchReactionGifSearchFull)(e.currentlyShowing,e.reactionGifSearchFullpageNum)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.gifsFromCategory,r=t.currentlyShowing,a=t.reactionGifSearchFullpageNum,i=t.fetchReactionGifSearchFull,o=this.state,s=o.column1Height,c=o.column2Height,l=this.state,d=l.column1,u=l.column2;if(n.size!==e.gifsFromCategory.size){for(var p=d.slice(0),m=u.slice(0),f=p.length+m.length!==0?p.length+m.length:0;f<n.size;f++){var g=V({},n.get(f)),h=141.5/g.width;g.height*=h,s<=c?(g.runningGifHeight=s+g.height+7,s=g.runningGifHeight,p.push(g)):(g.runningGifHeight=c+g.height+7,c=g.runningGifHeight,m.push(g))}this.setState({column1:p,column2:m,column1Height:s,column2Height:c})}r!==e.currentlyShowing&&(this.setState({column1:[],column2:[],column1Height:0,column2Height:0}),i(r,a))}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentlyShowing,r=t.reactionGifRequestPending,a=this.state,i=a.column1,o=a.column2;return i.length||o.length||r?v.a.createElement("div",{className:"gifpicker-body-container"},v.a.createElement("div",{className:"gifpicker-collectionHeader"},v.a.createElement("div",{className:"gifpicker-backButton",onClick:function(){e.resetCollection()},"aria-label":"Go back to categories"},v.a.createElement(_.W,{className:"icon fill",name:_.c,width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"})),v.a.createElement("h1",{className:"gifpicker-collectionHeaderText"},n)),v.a.createElement("div",{className:"gifpicker-body gifpicker-body-collection Scrollbar--gray",ref:this.GifPickerBodyCollection,onScroll:this.handleScrollCollection},v.a.createElement("div",null,i.map(this.renderSelectableGifs)),v.a.createElement("div",null,o.map(this.renderSelectableGifs)))):v.a.createElement("div",{className:"gifpicker-error"},v.a.createElement("div",{className:"gifpicker-error-image"},v.a.createElement("img",{src:F.a})),v.a.createElement("div",{className:"gifpicker-error-message"},v.a.createElement("h2",null,Object(y.a)("reactionGifEmptySearch1")),v.a.createElement("br",null),v.a.createElement("h3",null,Object(y.a)("reactionGifEmptySearch2"))))}}]),t}(v.a.Component);G.__docgenInfo={description:"",methods:[{name:"showCategoryCollection",docblock:null,modifiers:[],params:[],returns:null},{name:"handleScrollCollection",docblock:null,modifiers:[],params:[],returns:null},{name:"selectGif",docblock:null,modifiers:[],params:[{name:"videoShareURL",type:null}],returns:null},{name:"renderSelectableGifs",docblock:null,modifiers:[],params:[{name:"column",type:null},{name:"index",type:null}],returns:null},{name:"resetCollection",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ReactionGIFCollections",props:{handleReset:{type:{name:"func"},required:!0,description:""},handleGifSelection:{type:{name:"func"},required:!0,description:""},getColorByPostIndex:{type:{name:"func"},required:!0,description:""},fetchReactionGifSearchFull:{type:{name:"func"},required:!0,description:""},currentlyShowing:{type:{name:"string"},required:!1,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""},reactionGifSearchFull:{type:{name:"object"},required:!1,description:""},reactionGifRequestPending:{type:{name:"bool"},required:!1,description:""},reactionGifSearchFullpageNum:{type:{name:"number"},required:!1,description:""},gifsFromCategory:{type:{name:"object"},required:!0,description:""}}};var z=Object(E.b)(function(e){return{reactionGifCollections:e.comments.get("reactionGifCollections"),reactionGifRequestPending:e.comments.get("reactionGifRequestPending"),reactionGifSearchFullpageNum:e.comments.get("reactionGifSearchFullpageNum"),gifsFromCategory:e.comments.get("gifsFromCategory")}},{fetchReactionGifSearchFull:C.e,resetReactionGifSearchCollections:C.g})(G),H=(n("/b2Y"),function(e){function t(e){var a;return i()(this,t),a=l()(this,d()(t).call(this,e)),h()(p()(a),"preventPost",function(e){e.stopPropagation(),e.preventDefault()}),h()(p()(a),"submitHandler",function(){a.debounceSubmitHandler.cancel();var e=a.props.resetReactionGifSearchCollections,t=a.state.searchString;e(),a.setState({currentlyShowing:t})}),h()(p()(a),"inputChangeHandler",function(e){a.setState({searchString:e.target.value}),a.preventPost(e),a.debounceSubmitHandler()}),h()(p()(a),"onCategorySelection",function(e){a.setState({currentlyShowing:e})}),h()(p()(a),"handleReset",function(){var e=a.props,t=e.fetchReactionCollections,n=e.resetReactionGifSearchCollections,r=a.state.currentlyShowing;n(),t(),r&&a.setState({currentlyShowing:"",searchString:""})}),h()(p()(a),"handleGifSelection",function(e){(0,a.props.selectGIF)(e,a.state.currentlyShowing)}),h()(p()(a),"handleKeyDown",function(e){[O.a].includes(e.key)&&(a.preventPost(e),a.submitHandler())}),a.debounceSubmitHandler=x()(a.submitHandler,1e3),a.state={currentlyShowing:"",searchString:""},a}return f()(t,e),o()(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchReactionCollections)()}},{key:"getColorByPostIndex",value:function(e){var t=0<arguments.length&&void 0!==e?e:0,n=["#ffdd00","#1bb76e","#227efa","#4a58fb","#6432f9","#ec4081","#4366d0","#7b85f7","#fc6369","#f14768","#ff51ba","#2ccaff","#43d0bd","#20bee8","#ffd300","#ff7d00"];return isNaN(t)&&(t=0),n[t%n.length]}},{key:"render",value:function(){var e,t,n=this,r=this.props,a=r.position,i=r.placeholder,o=r.searchString,s=r.isPromoted,c=r.promotedConfig,l=this.state.currentlyShowing,d=j()(["gifpicker",{"gifpicker--down":"bottom"===a,"gifpicker--promoted":s}]),u="gifpicker-nano".concat(l&&"-collection");if(s){var p="#".concat(c.get("header_text_color","ffffff"));e={"--gifpicker-triangle-color":"#".concat(c.get("header_gradiant_top","353aab"))},t={background:"linear-gradient(to bottom, #".concat(c.get("header_gradiant_top","474a51"),", #").concat(c.get("header_gradiant_bottom","1f2b59"),")"),color:p,fill:p}}return v.a.createElement("div",{className:d,style:e},v.a.createElement("div",{className:"gifpicker-header",style:t},v.a.createElement("div",{className:"gifpicker-header-content"},s?v.a.createElement(v.a.Fragment,null,v.a.createElement("p",{className:"gifpicker-header-content-title"},c.get("header_title")),v.a.createElement("p",{className:"gifpicker-header-content-subtitle"},c.get("header_subtitle"))):v.a.createElement("p",{className:"gifpicker-header-content-title"},Object(y.a)("reactionGIF")),v.a.createElement("div",{className:"gifpicker-searchbar"},v.a.createElement("input",{placeholder:i,className:"gifpicker-searchbar-textInput",type:"text",value:o,onChange:this.inputChangeHandler,onSubmit:this.submitHandler,onKeyDown:this.handleKeyDown}),v.a.createElement("div",{className:"ReactionGIFSearch-Icon"},v.a.createElement(_.W,{name:_.x,width:"21",height:"20",viewBox:"0 0 21 20",onClick:function(e){n.preventPost(e),n.submitHandler()}})))),s&&v.a.createElement("img",{className:"gifpicker-header-asset",src:"//i.imgur.com/".concat(c.get("header_image"),".png")})),l?v.a.createElement(z,{currentlyShowing:l,getColorByPostIndex:this.getColorByPostIndex,handleReset:this.handleReset,handleGifSelection:this.handleGifSelection}):v.a.createElement(R,{onCategorySelection:this.onCategorySelection,getColorByPostIndex:this.getColorByPostIndex}),v.a.createElement("div",{className:u}))}}]),t}(v.a.Component));H.defaultProps={placeholder:Object(y.a)("reactionGifSearchPlaceholder")};H.__docgenInfo={description:"",methods:[{name:"getColorByPostIndex",docblock:null,modifiers:[],params:[{name:"itemIndex",type:null}],returns:null},{name:"preventPost",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"submitHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inputChangeHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onCategorySelection",docblock:null,modifiers:[],params:[{name:"queryString",type:null}],returns:null},{name:"handleReset",docblock:null,modifiers:[],params:[],returns:null},{name:"handleGifSelection",docblock:null,modifiers:[],params:[{name:"GifURL",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ReactionGIF",props:{placeholder:{defaultValue:{value:"copy('reactionGifSearchPlaceholder')",computed:!0},type:{name:"string"},required:!1,description:""},fetchReactionCollections:{type:{name:"func"},required:!0,description:""},position:{type:{name:"string"},required:!1,description:""},currentlyShowing:{type:{name:"string"},required:!1,description:""},searchString:{type:{name:"string"},required:!1,description:""},value:{type:{name:"string"},required:!1,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""},onCategorySelection:{type:{name:"func"},required:!1,description:""},selectGIF:{type:{name:"func"},required:!0,description:""},promotedConfig:{type:{name:"object"},required:!1,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""}}};var K=Object(E.b)(function(e){var t=e.comments,n=e.config;return{reactionGifCollections:t.get("reactionGifCollections"),promotedConfig:n.get("sponsoredReactionGifsDefinition",new N.Map),isPromoted:!!n.getIn(["sponsoredReactionGifsDefinition","is_active"])}},{fetchReactionCollections:C.d,resetReactionGifSearchCollections:C.g})(H),Y=(n("Cz84"),function(e){function t(e){var c;return i()(this,t),c=l()(this,d()(t).call(this,e)),h()(p()(c),"handleKeyDown",function(e){[O.d,O.c].includes(e.key)&&c.setState({isGIFOpen:!1})}),h()(p()(c),"gifToggle",function(){var e=c.ReactionGIF.current.getBoundingClientRect().top,t=c.state,n=t.isGIFOpen,r=t.gifSaved,a=c.props,i=a.reactionGifSelectedAnalytics,o=a.isPromoted;if(!a.disabled){var s=!0;if(e<500&&(s=!1),n||c.setState({gifSaved:!1}),n&&!r){i(null,"Cancelled",o)}c.setState({isGIFOpen:!n,gifOpenUp:s})}}),h()(p()(c),"onSelect",function(e,t){var n=c.props,r=n.onSelect,a=n.reactionGifSelectedAnalytics,i=n.isPromoted;c.setState({isGIFOpen:!1,gifSaved:!0});a(t,"Saved",i),r(e)}),c.ReactionGIF=v.a.createRef(),c.state={isGIFOpen:!1,gifOpenUp:!0,gifSaved:!1},c}return f()(t,e),o()(t,[{key:"componentDidMount",value:function(){Object(S.c)("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){Object(S.mb)("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.state,t=e.isGIFOpen,n=e.gifOpenUp,r=this.props,a=r.className,i=r.disabled,o=r.title;return v.a.createElement("div",{className:a,ref:this.ReactionGIF,disabled:i},v.a.createElement(_.W,{className:"icon fill",name:_.b,id:"GIFButton",onClick:this.gifToggle,"aria-label":o,title:o,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),t?v.a.createElement(P,{onClickOutside:this.gifToggle},v.a.createElement(K,{position:n?"top":"bottom",selectGIF:this.onSelect})):"")}}]),t}(v.a.PureComponent));Y.defaultProps={className:"ReactionGIF",title:Object(y.a)("gifOnHover")},Y.__docgenInfo={description:"",methods:[{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"gifToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onSelect",docblock:null,modifiers:[],params:[{name:"GifURL",type:null},{name:"category",type:null}],returns:null}],displayName:"ReactionGIFButton",props:{className:{defaultValue:{value:"'ReactionGIF'",computed:!1},type:{name:"string"},required:!1,description:""},title:{defaultValue:{value:"copy('gifOnHover')",computed:!0},type:{name:"string"},required:!1,description:""},onSelect:{type:{name:"func"},required:!0,description:""},reactionGifSelectedAnalytics:{type:{name:"func"},required:!0,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""}}};t.a=Object(E.b)(function(e){return{isPromoted:!!e.config.getIn(["sponsoredReactionGifsDefinition","is_active"])}},{reactionGifSelectedAnalytics:C.f})(Y)},Dk6w:function(e,t,n){},ECgQ:function(e,t,n){e.exports=n.p+"desktop-assets/bg-mountain-1.3cad6d82f34d69e76834ccee58f2743f.svg"},"Ek/P":function(e,t,n){},Epno:function(e,t,n){e.exports=n.p+"desktop-assets/giraffe-santa-hat.b1b55e18dfcf7b21ae9402d210ed890a.svg"},Et25:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("b5GN"),a=n("GB65");function i(e,t,n){if(!e||!t)return null;var r=t.toJS();return e.map(function(e){var t=e.get("id");return e=e.set("voted_count",r[t]?r[t]:0),n===t&&(e=e.set("user_selected",!0)),e}).filter(function(e){return 0<e.get("voted_count")}).sort(function(e,t){return e.get("user_selected")?-1:t.get("user_selected")?1:t.get("voted_count")-e.get("voted_count")})}function o(){var e=Object(a.w)();return e&&e.startsWith("/".concat(r.e))}},Ev65:function(e,t,n){e.exports=n.p+"desktop-assets/barkbox-logo.54f554f247d5c6fc0d413746e9aca394.svg"},FuWu:function(e,t,n){},FwDa:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("/MKj")),E=n("55Ip"),_=n("sEfC"),C=n.n(_),O=n("A1Ak"),S=n("b5GN"),I=n("OX3u"),k=n("G5ih"),w=n("ErBw"),A=n("GB65"),P=n("9rNq"),T=n("7oyi"),j=n("pNV7"),N=(n("1p8+"),O.e.map(function(e){return{title:Object(k.a)("".concat(e,"Footer")),href:O.a[e].href}}));var D=function(e){function n(e){var t;return a()(this,n),t=c()(this,d()(n).call(this,e)),h()(p()(t),"_container",null),h()(p()(t),"onWhitelistClose",function(e){(0,t.props.whitelistedClosedAction)(e)}),h()(p()(t),"onWhitelisted",function(){t.onWhitelistClose("Whitelisted"),Object(A.hb)()}),t.updateFooterItems=C()(t.updateFooterItems.bind(p()(t)),250),t.state={childrenDisplay:[],childrenRest:[]},t}return f()(n,e),o()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.width,r=t.showWhitelistDialog,a=t.closedWhitelistDialog,i=t.whitelistedDisplayedAction;e.width!==n&&this.updateFooterItems(n),e.showWhitelistDialog||e.closedWhitelistDialog||!r||a||i()}},{key:"componentDidMount",value:function(){var e=this.props.width;this.updateFooterItems(e)}},{key:"updateFooterItems",value:function(e){var t=function(e,i,t){var n=Array.from(e).map(function(e,t){var n=e.getBoundingClientRect(),r=n.left,a=n.width;return!t||r+a<i-275});return{childrenRest:t.filter(function(e,t){return!n[t]}),childrenDisplay:t.filter(function(e,t){return n[t]})}}(this.measure.children,e,N),n=t.childrenRest,r=t.childrenDisplay,a=this.state.childrenRest;this.footerUpdated=n.length!==a.length||r.length!==a.length,this.setState({childrenRest:n,childrenDisplay:r})}},{key:"renderDropdown",value:function(){var e=this.state.childrenRest,t=void 0===e?[]:e;return t.length?v.a.createElement(P.d,{className:"center".concat(3<t.length?" Dropdown-col-2":""),placeholder:" ",dropdownIcon:v.a.createElement("img",{src:j.a[j.s],className:"Dropdown-icon icon-points"})},t.map(function(e,t){return v.a.createElement("div",{key:"footer-dropdown-".concat(t),className:"Dropdown-option"},e.href?v.a.createElement("a",{href:e.href},e.title):v.a.createElement("div",{className:"Footer-optionText"},e.title))})):null}},{key:"renderContent",value:function(){var e=this,t=this.props,n=t.isUserLoggedIn,r=t.displayUsername;return n?v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{className:"Footer-whitelist-text loggedIn"},Object(k.a)("FooterBannerDialogContent",r)),v.a.createElement(E.a,{to:"/".concat(S.e,"?source=").concat(I.j)},v.a.createElement(T.a,{className:"Footer-whitelist-whitelisted",label:Object(k.a)("GoAdsFree")}))):v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{className:"Footer-whitelist-text"},Object(k.a)("WhitelistDialogContent")),v.a.createElement(T.a,{className:"Footer-whitelist-whitelisted",onClick:this.onWhitelisted,label:Object(k.a)("WhitelistDialogWhitelisted")}),v.a.createElement(E.a,{to:"/".concat(S.e,"?source=").concat(I.j),className:"Footer-whitelist-emerald",onClick:function(){e.onWhitelistClose("Emerald")}},Object(k.a)("WhitelistEmerald")))}},{key:"render",value:function(){var t=this,e=this.state.childrenDisplay,n=void 0===e?[]:e,r=this.props,a=r.isFooterVisible,i=r.showWhitelistDialog,o=r.closedWhitelistDialog,s={display:i&&!o?"flex":"none"};return v.a.createElement("div",{className:"Footer-wrapper".concat(a?"":" down")},v.a.createElement("div",{className:"Footer-whitelist",style:s},v.a.createElement("div",{className:"Footer-whitelist-wrapper"},v.a.createElement(j.db,{name:j.M,className:"Footer-whitelist-baby",width:93}),this.renderContent()),v.a.createElement("div",{className:"Footer-whitelist-buttonClose",onClick:function(){t.onWhitelistClose("No Thanks")}},v.a.createElement(j.db,{name:j.h,width:20}))),v.a.createElement("div",{className:"Footer"},v.a.createElement("ul",{ref:function(e){t.menu=e},className:"Footer-navbar"},n.map(function(e,t){return v.a.createElement("li",{key:"footer-item-".concat(t)},e.href?v.a.createElement("a",{href:e.href},e.title):e.title)})),this.renderDropdown(),v.a.createElement("div",{ref:function(e){t.appBtn=e},className:"Footer-app"},v.a.createElement("a",{href:"".concat(O.a[O.b].href)},Object(k.a)("getAppFooter")))),v.a.createElement("div",{className:"Footer Footer-measure"},v.a.createElement("ul",{ref:function(e){t.measure=e},className:"Footer-navbar Footer-navbar-dimensions"},N.map(function(e,t){return v.a.createElement("li",{key:"footer-item-".concat(t)},e.href?v.a.createElement("a",{href:e.href},e.title):e.title)}))))}}]),n}(v.a.Component);D.defaultProps={width:0},D.__docgenInfo={description:"",methods:[{name:"updateFooterItems",docblock:null,modifiers:[],params:[{name:"width",type:null}],returns:null},{name:"renderDropdown",docblock:null,modifiers:[],params:[],returns:null},{name:"renderContent",docblock:null,modifiers:[],params:[],returns:null},{name:"onWhitelistClose",docblock:null,modifiers:[],params:[{name:"way",type:null}],returns:null},{name:"onWhitelisted",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Footer",props:{width:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFooterVisible:{type:{name:"bool"},required:!1,description:""},closedWhitelistDialog:{type:{name:"bool"},required:!0,description:""},showWhitelistDialog:{type:{name:"bool"},required:!1,description:""},whitelistedClosedAction:{type:{name:"func"},required:!0,description:""},whitelistedDisplayedAction:{type:{name:"func"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!0,description:""}}},t.a=Object(y.b)(function(e){var t=e.ui,n=e.display,r=e.user,a=e.postsData;return{isFooterVisible:t.footer.get("isFooterVisible"),closedWhitelistDialog:t.footer.get("closedWhitelistDialog"),width:n.getIn(["viewPort","width"]),showWhitelistDialog:Object(A.W)()&&r.get("isLoaded")&&(!r.get("isLoggedIn")||r.get("isLoggedIn")&&!r.getIn(["subscription","isSubscribed"]))&&a.getIn(["currentPost","adConfig","showsAds"]),isUserLoggedIn:r.get("isLoggedIn"),displayUsername:r.get("displayUsername")||""}},{whitelistedClosedAction:w.v,whitelistedDisplayedAction:w.w})(D)},"G6+a":function(e,t,n){},"GG9+":function(e,t,n){e.exports=n.p+"desktop-assets/cloud-right.762779205ec2b1b54aba35671fad6ec1.svg"},GGeJ:function(e,t,n){},GwUk:function(e,t,n){e.exports=n.p+"desktop-assets/bg-land-1.cbfbdeb98278803449b01af2ef5003fd.svg"},HCTt:function(e,t,n){},HLYB:function(e,t,n){},HWIq:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("q1tI"),s=n.n(r),a=(n("17x9"),n("TSYQ")),c=n.n(a),o=n("Nm7g"),l=n("y/zE");function d(e){var t=e.count,n=e.username;if(!t&&!n)return null;var r=c()({"Accolade-userAvatar":!0,"Accolade-userAvatar--withCount":0<t}),a=c()({"Accolade-accoladeCountValue":!0,"Accolade-accoladeCountValue--plus":!!n}),i=c()({"Accolade-accoladeGiven":!0,"Accolade-accoladeGiven--avatar":!!n});return s.a.createElement("div",{className:i},n&&s.a.createElement(l.a,{className:r,username:n,displayUsername:n}),0<t&&s.a.createElement("div",{className:"Accolade-accoladeCount"},s.a.createElement("div",{className:a},n&&"+ ",Object(o.h)(t))))}d.__docgenInfo={description:"",methods:[],displayName:"AccoladeHead",props:{count:{type:{name:"number"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""}}};n("Ek/P");function i(e){var t=e.count,n=e.username,r=e.background,a=e.imageUrl,i=e.imageName,o=c()({Accolade:!0,"Accolade-background":r});return s.a.createElement("div",{className:o},s.a.createElement(d,{count:t,username:n}),s.a.createElement("img",{className:"Accolade-accoladeImage",src:a,alt:"".concat(i)}),i&&s.a.createElement("div",{className:"Accolade-accoladeName"},i))}i.defaultProps={count:0,background:!1},i.__docgenInfo={description:"",methods:[],displayName:"Accolade",props:{count:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},background:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""},imageUrl:{type:{name:"string"},required:!1,description:""},imageName:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""}}}},HhWI:function(e,t,n){},I9rv:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("GB65")),E=n("DUmG"),_=n("G5ih"),C=n("BWa0"),O=n("JzwX"),S=(n("y5Q4"),"bottom"),I=function(e){function t(e){var i;return a()(this,t),i=c()(this,d()(t).call(this,e)),h()(p()(i),"handleMouseDown",function(e){if("mousedown"!==e.type||0===e.button){var t=i.props.onClickDropdown;if(i.setState(function(e){return{isOpen:!e.isOpen}}),e.stopPropagation(),e.preventDefault(),t)t(e,i.state.isOpen)}}),h()(p()(i),"renderIcon",function(){var e=i.state.isOpen,t=i.props,n=t.dropdownIcon,r=t.dropdownIconClose,a=n;return r&&e&&(a=r),"string"==typeof a?v.a.createElement("span",{className:"Dropdown-icon ".concat(a)}):a}),i.state={isOpen:!1,menuPosition:S},i}return f()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this;this.autoCloser=Object(O.a)({el:function(){return e.dropdownButton},cb:function(){return e.setState({isOpen:!1})}})}},{key:"componentWillUnmount",value:function(){"function"==typeof this.autoCloser&&this.autoCloser()}},{key:"getLabel",value:function(n){var e=this.props,t=e.options,r=void 0===t?[]:t,a=e.placeholder,i=r.filter(function(e,t){return"string"==typeof e?t:e.value===n}),o=n;return i.length&&(o="string"==typeof i[0]?i[0]:i[0].label),o||a}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.isOpen,r=this.props,a=r.scrollPositionY,i=r.disableGravity;if(n){if(e.scrollPositionY!==a)return this.setState({isOpen:!1});if(!i&&t.isOpen!==n&&this.dropdownMenu)return this.setState({menuPosition:this.getMenuPosition()})}else if(t.isOpen)return this.setState({menuPosition:S})}},{key:"getMenuPosition",value:function(){return this.dropdownMenu.getBoundingClientRect().bottom>Object(y.u)()-E.$footerHeight?"top":S}},{key:"renderOptions",value:function(){var t=this,e=this.props,n=e.options,r=e.children,a=e.onChange,i=e.value,o=e.disableGravity,s=this.state.menuPosition;return n.length||r?v.a.createElement("div",{className:"Dropdown-menu ".concat(o?"":"Dropdown-menu--".concat(s)),ref:function(e){t.dropdownMenu=e}},v.a.createElement(C.W,{className:"Dropdown-triangle",name:C.G,width:"24",height:"8",viewBox:"0 0 24 8"}),v.a.createElement("div",{className:"Dropdown-list"},n.map(function(e,t){var n="string"==typeof e?t:e.value,r="string"==typeof e?e:e.label;return v.a.createElement("div",{key:"option-".concat(t),className:"Dropdown-option".concat(n===i?" isActive":""),onClick:a?function(){a(n,r)}:null},r)}),r)):null}},{key:"renderTitle",value:function(t){var n=this,r=this.state.title;return function(e){e.target.offsetWidth<e.target.scrollWidth&&t!==r&&n.setState({title:t})}}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.value,a=e.openOnHover,i=e.options,o=e.children;if(0===i.length&&0===o.length)return null;var s=this.state,c=s.isOpen,l=s.title,d=this.getLabel(r);return v.a.createElement("div",{className:"Dropdown".concat(c&&!a?" Dropdown-open":"").concat(n?" ".concat(n):"").concat(a?" Dropdown-hover":"")},v.a.createElement("div",{ref:function(e){t.dropdownButton=e},className:"Dropdown-title",onMouseDown:this.handleMouseDown,onClick:function(e){e.stopPropagation()}},v.a.createElement("span",{onMouseEnter:this.renderTitle(d),title:l},d),this.renderIcon()),this.renderOptions())}}]),t}(v.a.Component);I.defaultProps={options:[],children:[],dropdownIcon:"icon-dropdown-arrow",dropdownIconClose:null,placeholder:Object(_.a)("dropdownPlaceholder"),className:"",openOnHover:!1,disableGravity:!1},I.__docgenInfo={description:"",methods:[{name:"handleMouseDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getLabel",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"getMenuPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"renderOptions",docblock:null,modifiers:[],params:[],returns:null},{name:"renderTitle",docblock:null,modifiers:[],params:[{name:"label",type:null}],returns:null},{name:"renderIcon",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Dropdown",props:{options:{defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"shape",value:{label:{name:"string",required:!0},value:{name:"string",required:!0}}}},required:!1,description:"Options to be displayed in the dropdown when opened."},children:{defaultValue:{value:"[]",computed:!1},type:{name:"instanceOf",value:"Object"},required:!1,description:"Children added to the bottom of the dropdown for flexibility of design."},dropdownIcon:{defaultValue:{value:"'icon-dropdown-arrow'",computed:!1},type:{name:"union",value:[{name:"string"},{name:"node"}]},required:!1,description:"Custom dropdown Icon can be a css icon class or an object."},dropdownIconClose:{defaultValue:{value:"null",computed:!1},type:{name:"union",value:[{name:"string"},{name:"node"}]},required:!1,description:"Optional dropdown Icon to show in Open state - if not given - dropdownIcon shown."},placeholder:{defaultValue:{value:"copy('dropdownPlaceholder')",computed:!0},type:{name:"string"},required:!1,description:"Placeholder text while data loads."},className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:"CSS based styles."},openOnHover:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:"Option to open on hover"},disableGravity:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},value:{type:{name:"string"},required:!1,description:"Value currently selected in dropdown."},onChange:{type:{name:"func"},required:!1,description:"Function called to update HOC that should subsequently update value prop."},onClickDropdown:{type:{name:"func"},required:!1,description:"Function called on mousedown if defined."},scrollPositionY:{type:{name:"number"},required:!1,description:"Updating scrollPositionY will close the menu."}}}},IGIl:function(e,t,n){e.exports=n.p+"desktop-assets/giraffe-santa.502ef5bc6f46e3485fda3377778b03e3.svg"},IVpR:function(e,t,n){},JHKR:function(e,t,n){},JzwX:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),f=n.n(m),g=(n("17x9"),n("dRit")),h=n("GB65");n("P+4o");function b(e){function t(e){var t=r();e.target===t||t.contains(e.target)||a(e)}function n(e){[g.d,g.c,g.f,g.e,g.h,g.g].includes(e.key)&&a(e)}var r=e.el,a=e.cb;return Object(h.a)("click",t),Object(h.a)("keydown",n),function(){Object(h.ib)("click",t),Object(h.ib)("keydown",n)}}(function(e){function t(){return a()(this,t),c()(this,d()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.children;return t?f.a.createElement("div",{className:"Menu"},n.map(function(e,t){return f.a.createElement("div",{key:t,className:"Menu-item"},e)})):null}}]),t})(f.a.Component).__docgenInfo={description:"",methods:[],displayName:"Menu",props:{open:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"array"},required:!1,description:""},closeOnExternalClick:{type:{name:"bool"},required:!1,description:""}}}},Kfle:function(e,t,n){e.exports=n.p+"desktop-assets/icon-chevron-right.091a53333ee1f84d0d5b6ffe88a0f967.svg"},L35p:function(e,t,n){e.exports=n.p+"desktop-assets/close.921410102ec96d454f7d3514a2b17d9d.svg"},LZBw:function(e,t,n){"use strict";var r=n("lwsE"),s=n.n(r),a=n("W8MJ"),o=n.n(a),i=n("a1gu"),c=n.n(i),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),m=n.n(u),p=n("q1tI"),g=n.n(p),f=(n("17x9"),n("/MKj")),h=n("WSv3"),b=n("E9Wd"),v=n("G5ih"),y=n("AG5K"),E=n("/0Wm"),_=n("b5GN"),C=n("lSNA"),O=n.n(C),S=n("TSYQ"),I=n.n(S),k=n("0WSl"),w=n("7oyi"),A=n("BWa0");n("X+lB");function P(e){var t=e.unseen,n=e.onClick,r=I()({NavbarMessageButton:!0,"notification-dot":0<t,"ProfileNavbar-item":!0,uScaleTransition:!0});return g.a.createElement(w.b,{className:r,href:k.b,onClick:n,title:Object(v.a)("labelChat"),image:g.a.createElement(A.W,{title:Object(v.a)("labelChat"),name:A.e,width:"32",height:"32"})})}P.__docgenInfo={description:"",methods:[],displayName:"NavbarMessageButton",props:{unseen:{type:{name:"number"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var T=n("lZex"),j=n("ANjH"),N=n("55Ip"),D=n("987h"),x=n("QSMB"),q=n("PSaT"),M=n("jHDt"),R=n("MxOc"),B=n("GB65"),U=(n("b1r/"),n("CGfh")),L=n.n(U),F=function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return m()(t,e),o()(t,[{key:"componentDidMount",value:function(){if(this.props.statusSS===q.C.NO_DATA&&this.props.fetchSecretSantaConfig(),this.props.isOpen)return Object(B.Ab)(this.props.markSantaTooltipAsViewed,7e3),this.props.markSantaTooltipAsRendered()}},{key:"componentDidUpdate",value:function(e){this.props.isCoverFixed&&!e.isCoverFixed&&this.props.markSantaTooltipAsViewed()}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isOpen,r=e.isCoverFixed,a=e.isRegistrationOpen;if(e.statusSS!==q.C.READY)return null;var i=t.get("status")===q.A.NOT_FOUND,o=t.get("status")>q.A.NOT_FOUND,s=a&&i&&!r,c="NavbarButtonSS-tooltip ".concat(n&&"NavbarButtonSS-tooltip--open");return g.a.createElement(N.b,{to:o?q.U:q.L,className:"NavbarButtonSS",title:Object(R.a)("navbarButtonLabel")},g.a.createElement(x.A,{name:x.o,className:"uScaleTransition ProfileNavbar-item"}),s&&g.a.createElement("img",{className:c,src:L.a}))}}]),t}(g.a.Component);F.__docgenInfo={description:"",methods:[],displayName:"NavbarButtonSS",props:{profile:{type:{name:"object"},required:!0,description:""},statusSS:{type:{name:"string"},required:!0,description:""},isOpen:{type:{name:"bool"},required:!1,description:""},isCoverFixed:{type:{name:"bool"},required:!1,description:""},isRegistrationOpen:{type:{name:"bool"},required:!1,description:""},markSantaTooltipAsRendered:{type:{name:"func"},required:!0,description:""},markSantaTooltipAsViewed:{type:{name:"func"},required:!0,description:""},fetchSecretSantaConfig:{type:{name:"func"},required:!0,description:""}}};var W=Object(j.c)(Object(f.b)(function(e){var t=e.ui,n=e.secretSanta,r=e.user;return{statusSS:n.status,isCoverFixed:t.cover.get("fixed"),isRegistrationOpen:n.register.get("isOpen"),isOpen:n.tooltip.get("isOpen"),isUserLoggedIn:r.get("isLoggedIn")}},{markSantaTooltipAsRendered:M.g,markSantaTooltipAsViewed:M.h,fetchSecretSantaConfig:M.e}),D.a)(F),V=n("PJYZ"),G=n.n(V),z=n("JzwX"),H=n("xypG"),K=n("qh6O"),Y=n("VJ7e");n("7tjL");function J(e){var t=e.notification;if(!t)return null;var n,r=[],a=t.get("text"),i=t.get("id"),o=0,s="",c="",l=[];return t.getIn(["annotations","mention"]).forEach(function(e){l=e.get("indices"),s=a.substr(o,l.get(0)),c=a.substr(l.get(0),l.get(1)-l.get(0)),r.push(g.a.createElement("span",{key:"".concat(s,"-").concat(i)},s)),r.push(g.a.createElement("strong",{className:"NotificationCardText-annotation",key:"".concat(c,"-").concat(i)},c)),o=l.get(1)}),n=a.substr(o),r.push(g.a.createElement("span",{key:"".concat(n,"-").concat(i)},n)),g.a.createElement("div",{className:"NotificationCardText"},r)}J.__docgenInfo={description:"",methods:[],displayName:"NotificationCardText",props:{notification:{type:{name:"object"},required:!1,description:""}}};n("BuJ/");function Q(e){var t=e.notification,n=e.onClick;if(!t)return null;var r=new Date(1e3*t.get("updated_at")),a=t.getIn(["image","url"]),i=I()({"NotificationCard-thumb":!0,isUnread:t.get("state")!==Y.b});return g.a.createElement(N.a,{to:function(e){var t=e.get("action");if(!t)return"";var n=t.replace("imgur://","https://");return{pathname:new URL(n).pathname,search:"?nid=".concat(e.get("id")),state:{accoladeConfetti:e.get("type")===Y.a,hash:e.getIn(["post_definition","post_hash"])}}}(t),className:"NotificationCard",onClick:n},g.a.createElement("div",{className:i},g.a.createElement("img",{className:"NotificationCard-dot",src:a})),g.a.createElement(J,{notification:t}),g.a.createElement(K.a,{className:"When--notificationCard",date:r}))}Q.defaultProps={onClick:function(){}},Q.__docgenInfo={description:"",methods:[],displayName:"NotificationCard",props:{onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},notification:{type:{name:"object"},required:!1,description:""}}};var X=n("oHla"),Z=function(e){function n(e){var t;return s()(this,n),t=c()(this,d()(n).call(this,e)),O()(G()(t),"container",null),O()(G()(t),"isStyler",!1),O()(G()(t),"removeListenerResize",null),O()(G()(t),"getReference",function(e){(t.container=e)&&t.updateScrollStyler()}),O()(G()(t),"updateScrollStyler",function(){var e=t.container.offsetWidth-t.container.clientWidth;t.state.scrollBarWidth!==e&&t.container&&t.setState({scrollBarWidth:e})}),t.state={scrollBarWidth:0},t}return m()(n,e),o()(n,[{key:"componentDidMount",value:function(){var e=this.props.userAgent;this.isStyler=Object(X.b)(e)||Object(X.a)(e)}},{key:"componentDidUpdate",value:function(e){this.isStyler&&e.width!==this.props.width&&this.updateScrollStyler()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.height,r=e.onWheel,a=e.onTouchMove,i=e.onScroll,o=this.state.scrollBarWidth;return g.a.createElement("div",{ref:this.getReference,className:"DropdownScrollbar Scrollbar",onWheel:r,onTouchMove:a,onScroll:i,style:{maxHeight:n}},t,this.isStyler&&g.a.createElement("div",{className:"styler",style:{width:o}}))}}]),n}(g.a.Component);Z.defaultProps={height:0},Z.__docgenInfo={description:"",methods:[{name:"getReference",docblock:null,modifiers:[],params:[{name:"element",type:null}],returns:null},{name:"updateScrollStyler",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DropdownScrollbar",props:{height:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},onWheel:{type:{name:"func"},required:!1,description:""},onTouchMove:{type:{name:"func"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},userAgent:{type:{name:"string"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""}}};var $=Object(f.b)(function(e){var t=e.agent,n=e.display;return{userAgent:t.get("useragent"),width:n.getIn(["viewPort","width"])}})(Z);function ee(e){var t=e.height,n=Object(v.a)("noNotifications");return g.a.createElement("div",{className:"NotificationsEmpty",style:{lineHeight:"".concat(Math.min(150,t),"px"),textAlign:"center"}},n)}ee.defaultProps={height:14},ee.__docgenInfo={description:"",methods:[],displayName:"NotificationsEmpty",props:{height:{defaultValue:{value:"14",computed:!1},type:{name:"number"},required:!1,description:""}}};n("PJRO");function te(e){var t=e.markAllAsRead;return g.a.createElement("div",{className:"NotificationsHeader cf"},g.a.createElement("span",{className:"NotificationsHeader-title left"},Object(v.a)("notifications")),t&&g.a.createElement("span",{className:"NotificationsHeader-markall right",onClick:t},Object(v.a)("markAllAsRead")))}te.__docgenInfo={description:"",methods:[],displayName:"NotificationsHeader",props:{markAllAsRead:{type:{name:"func"},required:!1,description:""}}};var ne=n("Cz+I");n("kacx");function re(e){var t=e.error,n=e.tryAgain,r=e.dismiss;if(!t)return null;var a=t.get("message"),i=t.get("meta").toJS(),o=t.get("type");return g.a.createElement("div",{className:"NotificationError"},g.a.createElement("div",{className:"NotificationError-message"},a,g.a.createElement("span",{className:"NotificationError-buttons"},g.a.createElement("a",{className:"Button ButtonLink icon-retry NotificationError-retry",onClick:function(){n(o,i)}},Object(v.a)("errorRetry")),g.a.createElement("span",{className:"NotificationError-divider"},"  "),g.a.createElement("a",{className:"Button ButtonLink NotificationError-dismiss",onClick:r},Object(v.a)("errorDismiss")))))}re.__docgenInfo={description:"",methods:[],displayName:"NotificationError",props:{error:{type:{name:"object"},required:!1,description:""},tryAgain:{type:{name:"func"},required:!0,description:""},dismiss:{type:{name:"func"},required:!0,description:""}}};var ae=Object(f.b)(function(e){return{error:e.notifications.get("error")}},function(a){return{tryAgain:function(e,t){var n=Object(ne.k)(e),r=t.options.params;n&&a(n(e=ne.f&&r?r.pageToken:null))},dismiss:function(){return a(Object(ne.i)())}}})(re),ie=(n("y6ID"),function(e){function i(){var e,a;s()(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a=c()(this,(e=d()(i)).call.apply(e,[this].concat(n))),O()(G()(a),"onClick",function(e){var t=a.props,n=t.markAsRead,r=t.closeNotifications;e.get("state")!==Y.b&&n(e.get("id")),r()}),a}return m()(i,e),o()(i,[{key:"render",value:function(){var t=this,e=this.props,n=e.markAllAsRead,r=e.isFetching,a=e.onWheel,i=e.onScroll,o=e.height,s=e.notifications;return g.a.createElement("div",{className:"NotificationCards"},g.a.createElement(te,{markAllAsRead:0<s.size?n:void 0}),g.a.createElement(ae,null),0!==s.size||r?g.a.createElement($,{onWheel:a,onScroll:i,height:o},s.map(function(e){return e&&g.a.createElement(Q,{key:"notif-".concat(e.get("id"),"-").concat(e.get("state")),notification:e,onClick:function(){return t.onClick(e)}})}),r&&g.a.createElement(H.b,{model:"notifications",size:60,status:{loading:r},applyStyle:{position:"absolute",left:"calc(50% - 30px)",top:"calc(50% - 30px)"}})):g.a.createElement(ee,{height:o}),g.a.createElement("div",{className:"NotificationCards-bottomGradient"}))}}]),i}(p.Component));ie.defaultProps={markAsRead:function(){},closeNotifications:function(){}},ie.__docgenInfo={description:"",methods:[{name:"onClick",docblock:null,modifiers:[],params:[{name:"notification",type:null}],returns:null}],displayName:"NotificationCards",props:{markAsRead:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},closeNotifications:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},notifications:{type:{name:"object"},required:!1,description:""},markAllAsRead:{type:{name:"func"},required:!1,description:""},isFetching:{type:{name:"bool"},required:!1,description:""},onWheel:{type:{name:"func"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""}}};var oe=n("/PhX"),se=n("DUmG");function ce(e){var t=e.display,n=e.ui;return{height:t.getIn(["viewPort","height"]),positionY:t.get("positionY"),isOpen:n.notifications.get("open")}}function le(e){return Object(f.b)(ce,{closeNotifications:oe.v,toggleNotifications:oe.D})(function(p){var e=function(e){function t(e){var o;return s()(this,t),o=c()(this,d()(t).call(this,e)),O()(G()(o),"scrollElement",null),O()(G()(o),"dropdownHeight",0),O()(G()(o),"toggleDropdown",function(){var e=o.props,t=e.markAllAsSeen,n=e.isOpen,r=e.toggleNotifications;n||t(),r()}),O()(G()(o),"calculateDropdownHeight",function(e){o.dropdownHeight=e-se.$navbarHeight-100}),O()(G()(o),"handleWindowClick",function(e){var t=o.props,n=t.isOpen,r=t.closeNotifications,a=o.dropdown;n&&a&&(a===e.target||a.contains(e.target)||r());return!0}),O()(G()(o),"handleNotificationPagination",function(e){o.scrollElement=e.target}),O()(G()(o),"wheelHandler",function(e){var t=o.props,n=t.isFetching,r=t.reachedEnd,a=t.requestNextNotificationPage;if(!o.scrollElement||e.deltaY<=0||!o.scrollElement.scrollHeight)return!0;var i=o.dropdownHeight+o.scrollElement.scrollTop+100>o.scrollElement.scrollHeight;(n||i)&&(r||n||a(),e.preventDefault())}),o.calculateDropdownHeight(e.height),o}return m()(t,e),o()(t,[{key:"closeDropdown",value:function(e,t){var n=this.props,r=n.isOpen,a=n.closeNotifications;if(!t&&r)return 100<e&&a()}},{key:"componentDidMount",value:function(){var e=this;this.autoCloser=Object(z.a)({el:function(){return e.dropdown},cb:this.handleWindowClick})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.height,r=t.positionY,a=t.isFetching;n!==e.height&&this.calculateDropdownHeight(n),r!==e.positionY&&this.closeDropdown(r,a)}},{key:"componentWillUnmount",value:function(){this.scrollElement=null,"function"==typeof this.autoCloser&&this.autoCloser()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.unseen,r=t.isOpen;return n!==e.unseen||(r||e.isOpen)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.className,a=n.markAsRead,i=n.markAllAsRead,o=n.isFetching,s=n.notifications,c=n.isOpen,l=n.unseen,d=n.closeNotifications,u=I()((e={NotificationsDropdown:!0},O()(e,r,r),O()(e,"open",c),e));return g.a.createElement("div",{ref:function(e){t.dropdown=e},className:u},p&&g.a.createElement(p,{unseen:l,onClick:this.toggleDropdown}),c&&g.a.createElement(ie,{notifications:s,isFetching:o,markAllAsRead:i,markAsRead:a,closeNotifications:d,onWheel:this.wheelHandler,onScroll:this.handleNotificationPagination,height:this.dropdownHeight}))}}]),t}(g.a.Component);return e.defaultProps={isFetching:!1,reachedEnd:!1,className:""},e}(e))}n("NRal");function de(e){var t=e.unseen,n=e.onClick,r=I()({NotificationButton:!0,"notification-dot":0<t,"ProfileNavbar-item":!0,uScaleTransition:!0});return g.a.createElement(w.b,{className:r,onClick:n,title:Object(v.a)("notifications"),image:g.a.createElement(A.W,{title:Object(v.a)("notifications"),name:A.v,width:"32",height:"32",viewBox:"0 -2 34 34"})})}var ue=le(de);de.__docgenInfo={description:"",methods:[],displayName:"NavbarNotificationButton",props:{unseen:{type:{name:"number"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var pe=n("/iGR"),me=n("zTH+"),fe=n("Z6Av"),ge=n("Et25"),he="brazeNotificationSeen";function be(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=n("rfzL");r.initialize(b.h,{enableHtmlInAppMessages:!0,noCookies:!0}),Object(ge.a)()||r.subscribeToInAppMessage(function(e){var t=e.message.match(/\/\/ campaign ID: ([A-Za-z0-9-])+/)[0].substring("// campaign ID: ".length),n=Object(B.F)(he);n&&n===t||(Object(B.yb)(he,t),r.display.showInAppMessage(e))}),Object(fe.b)()&&r.registerAppboyPushMessages(),r.changeUser(e),r.getUser().setCustomUserAttribute("UsesLegacyPostPage",!!t),r.openSession()}n("fuAU"),n("m6gU");function ve(e){var t=e.notifications,n=e.ui,r=e.user;return{unseenNotifications:t.get("unseenNotifications"),unseenConversations:t.get("unseenConversations"),notifications:t.get("notifications"),pageToken:t.get("pageToken"),reachedEnd:t.get("reachedEnd"),isUpdateRequired:t.get("isUpdateRequired"),isActive:!n.notifications.get("isSmallScreen")||n.notifications.get("open"),isFetching:n.spinner&&n.spinner.get("notifications")&&n.spinner.get("notifications").loading,userID:r.get("id")}}function ye(t){return{handleFetchNotifications:function(e){t(Object(ne.j)(e))},handleMarkAllAsSeen:function(){t(Object(ne.m)())},handleMarkAllAsRead:function(){t(Object(ne.l)())},handleMarkAsRead:function(e){t(Object(ne.n)(e))},handleFireMessagingNavAnalytics:function(){t(Object(me.c)("topNavBar"))}}}function Ee(e){return Object(f.b)(ve,ye)(function(f,n){var e=function(e){function a(){var e,i;s()(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i=c()(this,(e=d()(a)).call.apply(e,[this].concat(n))),O()(G()(i),"requestNextNotificationPage",function(){var e=i.props,t=e.reachedEnd,n=e.isFetching,r=e.pageToken,a=e.handleFetchNotifications;t||n||a(r)}),i}return m()(a,e),o()(a,[{key:"componentDidMount",value:function(){var e=this.props.userID,t="1"!==Object(pe.a)(b.o,Object(B.y)("cookie"));this.requestNextNotificationPage(),n(e,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isUpdateRequired,r=t.handleFetchNotifications;e.isUpdateRequired!==n&&n&&r(null)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.className,r=e.username,a=e.unseenConversations,i=e.unseenNotifications,o=e.isFetching,s=e.notifications,c=e.handleFireMessagingNavAnalytics,l=e.reachedEnd,d=e.handleMarkAllAsSeen,u=e.handleMarkAllAsRead,p=e.handleMarkAsRead;if(!f||!t)return null;var m={className:n,username:r,unseenConversations:a,unseenNotifications:i,isFetching:o,notifications:s,fireMessagingNavAnalytics:c,reachedEnd:l,markAllAsSeen:d,markAllAsRead:u,markAsRead:p,requestNextNotificationPage:this.requestNextNotificationPage};return g.a.createElement(f,m)}}]),a}(g.a.Component);return e.defaultProps={isActive:!0},e}(e,be))}var _e=Ee(le()),Ce=(n("p5h/"),function(e){function a(e){var t;s()(this,a),t=c()(this,d()(a).call(this,e));var n=!1,r=Date.now();return Date.parse(q.k)<r&&r<Date.parse(q.j)&&(n=!0),t.state={giftIcon:n},t}return m()(a,e),o()(a,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.unseenConversations,r=e.unseenNotifications,a=e.handleFireMessagingNavAnalytics,i=e.isFetching,o=e.notifications,s=e.reachedEnd,c=e.markAllAsSeen,l=e.markAllAsRead,d=e.markAsRead,u=e.requestNextNotificationPage,p=this.state.giftIcon,m=I()(O()({NavbarNotifications:!0},t,t)),f={unseen:r,isFetching:i,notifications:o,reachedEnd:s,markAllAsSeen:c,markAllAsRead:l,markAsRead:d,requestNextNotificationPage:u};return g.a.createElement("div",{className:m},p&&g.a.createElement(W,null),g.a.createElement(T.b,null),g.a.createElement(P,{unseen:n,onClick:a}),g.a.createElement(ue,f))}}]),a}(g.a.Component));Ce.defaultProps={className:""},Ce.__docgenInfo={description:"",methods:[],displayName:"NavbarNotifications",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},unseenConversations:{type:{name:"number"},required:!1,description:""},unseenNotifications:{type:{name:"number"},required:!1,description:""},isFetching:{type:{name:"bool"},required:!1,description:""},notifications:{type:{name:"object"},required:!1,description:""},handleFireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},reachedEnd:{type:{name:"bool"},required:!1,description:""},markAllAsSeen:{type:{name:"func"},required:!1,description:""},markAllAsRead:{type:{name:"func"},required:!1,description:""},markAsRead:{type:{name:"func"},required:!1,description:""},requestNextNotificationPage:{type:{name:"func"},required:!1,description:""}}};var Oe=Object(f.b)(null,function(e){return{handleFireMessagingNavAnalytics:function(){e(Object(me.c)("topNavBar"))}}})(Ee(Ce)),Se=n("9rNq"),Ie=n("y/zE");n("ds3J");function ke(e){var t,n=e.displayUsername,r=e.className,a=I()((t={},O()(t,r,r),O()(t,"NavbarAvatar",!0),t));return g.a.createElement(Ie.b,{className:a,displayUsername:n})}ke.defaultProps={className:""},ke.__docgenInfo={description:"",methods:[],displayName:"NavbarAvatar",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},displayUsername:{type:{name:"string"},required:!1,description:""}}};var we=n("4TFA"),Ae=n("OX3u"),Pe=(n("UuzF"),function(e){var t=e.v2,n=e.inExperiment,r=e.label,a=I()({Button:!0,EmeraldButton:!0,EmeraldButtonV1:!t,EmeraldButtonV2:t,EmeraldButtonExperiment:n});return g.a.createElement(N.b,{className:a,to:"/".concat(_.e,"?source=").concat(Ae.k)},r)});Pe.defaultProps={v2:!1,inExperiment:!1,label:Object(y.a)("getAdFree")},Pe.__docgenInfo={description:"",methods:[],displayName:"EmeraldButton",props:{v2:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},inExperiment:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},label:{defaultValue:{value:"copyEmerald('getAdFree')",computed:!0},type:{name:"string"},required:!1,description:""}}};var Te=n("pNV7"),je=(n("SINw"),function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return m()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.unseenConversations,r=e.unseenNotifications,a=e.isLoggedIn,i=e.handleToggleNotifications,o=I()(O()({NavbarUserMenuNotifications:!0},t,!!t));return g.a.createElement("div",{className:o},a&&g.a.createElement(P,{unseen:n,onClick:me.c}),a&&g.a.createElement(de,{markAllAsSeen:ne.m,unseen:r,onClick:i}))}}]),t}(g.a.Component));je.defaultProps={className:""},je.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenuNotifications",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},unseenConversations:{type:{name:"number"},required:!1,description:""},unseenNotifications:{type:{name:"number"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},fireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},handleToggleNotifications:{type:{name:"func"},required:!1,description:""}}};var Ne=Object(f.b)(function(e){var t=e.user,n=e.notifications;return{isLoggedIn:t.get("isLoggedIn"),unseenNotifications:n.get("unseenNotifications"),unseenConversations:n.get("unseenConversations")}},function(e){return{fireMessagingNavAnalytics:function(){e(Object(me.c)("topNavBar"))},handleToggleNotifications:function(){e(Object(ne.m)()),e(Object(oe.D)())}}})(je);n("92em");function De(e){var t=e.username,n=e.displayUsername;return g.a.createElement("div",{className:"NavbarUserMenuCover",style:{backgroundImage:"url(".concat(b.L,"/user/").concat(t,"/cover)")}},g.a.createElement("div",{className:"NavbarUserMenuCover-row"},g.a.createElement(Ie.b,{className:"NavbarAvatar NavbarAvatar-menu",displayUsername:n}),g.a.createElement(Ne,{className:"NavbarNotifications-menu",username:t})),g.a.createElement("div",{className:"NavbarUserMenuCover-row NavbarUserMenuCover-user"},n||t))}De.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenuCover",props:{username:{type:{name:"string"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!1,description:""}}};n("gAaL");function xe(e){function t(e){return function(){o(e)}}var n=e.username,r=e.displayUsername,a=e.logout,i=e.profileBeta,o=e.userMenuClickAnalytics,s=e.withEmeraldButton,c=e.inButtonExperiment,l=r||n,d=i?g.a.createElement(N.b,{className:"Dropdown-option",to:"/user/".concat(l,"/posts"),onClick:t(we.e)},Object(v.a)("navbarMenuPosts")):g.a.createElement("a",{className:"Dropdown-option",href:"/user/".concat(l,"/submitted"),onClick:t(we.e)},Object(v.a)("navbarMenuPosts")),u=i?g.a.createElement(N.b,{className:"Dropdown-option",to:"/user/".concat(l,"/comments"),onClick:t(we.b)},Object(v.a)("navbarMenuComments")):g.a.createElement("a",{className:"Dropdown-option",href:"/user/".concat(l),onClick:t(we.b)},Object(v.a)("navbarMenuComments")),p=I()({NavbarUserMenuBlock:!0,WithEmeraldButton:s});return g.a.createElement("div",{className:p},s&&g.a.createElement(Pe,{v2:!0,inExperiment:c}),g.a.createElement(Se.d,{className:"NavbarUserMenu",value:l,dropdownIcon:g.a.createElement(ke,{className:"NavbarAvatar-navbar"}),onClickDropdown:function(e,t){e&&e.target.classList.contains("NavbarAvatar")&&t&&(o(we.f),Object(B.db)("".concat(b.L,"/user/").concat(l)))},disableGravity:!0},g.a.createElement(De,{username:n,displayUsername:r}),g.a.createElement("div",{className:"Dropdown-option-group"},d,g.a.createElement(N.b,{className:"Dropdown-option",to:"/user/".concat(l,"/favorites"),onClick:t(we.c)},Object(v.a)("navbarMenuFavorites")),u,i&&g.a.createElement(N.b,{className:"Dropdown-option",to:"/user/".concat(l,"/about")},Object(v.a)("navbarMenuAbout")),g.a.createElement("a",{className:"Dropdown-option",href:"https://".concat(l,".").concat(b.K,"/all"),onClick:t(we.d)},Object(v.a)("navbarMenuImages"))),g.a.createElement("div",{className:"Dropdown-option-group Dropdown-option-footer"},g.a.createElement("a",{className:"Dropdown-option",onClick:t(we.g),href:b.a},g.a.createElement(Te.db,{name:Te.u}),g.a.createElement("span",null,Object(v.a)("navbarMenuSettings"))),g.a.createElement("div",{className:"Dropdown-option",onClick:a},g.a.createElement(Te.db,{name:Te.v}),g.a.createElement("span",null,Object(v.a)("signOut"))))))}xe.__docgenInfo={description:"",methods:[],displayName:"NavbarUserMenu",props:{username:{type:{name:"string"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!1,description:""},logout:{type:{name:"func"},required:!1,description:""},profileBeta:{type:{name:"bool"},required:!1,description:""},userMenuClickAnalytics:{type:{name:"func"},required:!0,description:""},withEmeraldButton:{type:{name:"bool"},required:!1,description:""},inButtonExperiment:{type:{name:"bool"},required:!1,description:""}}};var qe=n("bWDY");n("o0ye");function Me(e){var t=e.username,n=e.displayUsername,r=e.handleLogout,a=e.userMenuClickAnalytics,i=e.profileBeta,o=e.isSmallScreen,s=e.adsEnabled,c=e.inButtonExperiment,l=Object(B.w)(),d=s&&l&&!l.startsWith("/".concat(_.e));if(t)return g.a.createElement("div",{className:"ProfileNavbar"},o?g.a.createElement(_e,{className:"NavbarNotifications-dropdown"}):g.a.createElement(Oe,null),g.a.createElement(xe,{username:t,displayUsername:n,logout:r,userMenuClickAnalytics:a,profileBeta:i,disableGravity:!0,withEmeraldButton:d,inButtonExperiment:c}));var u="?redirect=".concat(encodeURIComponent(l)),p=Object(v.a)("navbarSignUp"),m=Object(v.a)("navbarSignIn");return g.a.createElement("div",{className:"ProfileNavbar ProfileNavbar-loggedOut"},g.a.createElement("div",{className:"NavbarNotifications NavbarNotifications-navbar"},g.a.createElement("div",{className:"ProfileNavbar-item uScaleTransition"},g.a.createElement(T.b,null))),d&&g.a.createElement(Pe,{inExperiment:c,label:Object(y.a)(c?"emeraldSupport":"getAdFree")}),g.a.createElement("a",{onClick:function(){a("sign in")},className:"Navbar-signin",href:"".concat(b.L,"/signin").concat(u)},m),g.a.createElement(w.b,{className:"Button Navbar-signup",label:p,title:p,onClick:function(){a("sign up")},href:"".concat(b.L,"/register").concat(u)}))}var Re=Object(f.b)(function(e,t){var n=e.user,r=e.ui,a=e.experiments,i=e.ad;return{username:n.get("username"),displayUsername:n.get("displayUsername"),isSmallScreen:void 0===t.isSmallScreen?r.notifications.get("isSmallScreen"):t.isSmallScreen,profileBeta:n.getIn(["flags","desktopProfilePageBeta"]),adsEnabled:Object(qe.d)(i,n),inButtonExperiment:a.getIn([E.e,"activeTreatment"],"")===E.f}},function(t){return{userMenuClickAnalytics:function(e){t(Object(me.e)(e))},handleLogout:function(){t(Object(h.H)()),t(Object(me.e)("logout"))}}})(Me);Me.__docgenInfo={description:"",methods:[],displayName:"ProfileNavbar",props:{username:{type:{name:"string"},required:!1,description:""},displayUsername:{type:{name:"string"},required:!1,description:""},handleLogout:{type:{name:"func"},required:!0,description:""},profileBeta:{type:{name:"bool"},required:!1,description:""},userMenuClickAnalytics:{type:{name:"func"},required:!0,description:""},isSmallScreen:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},inButtonExperiment:{type:{name:"bool"},required:!1,description:""}}};var Be=function(e){function t(){return s()(this,t),c()(this,d()(t).apply(this,arguments))}return m()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.isUserLoaded||this.props.fetchUserData()}},{key:"render",value:function(){return this.props.isUserLoaded?g.a.createElement(Re,this.props):null}}]),t}(g.a.Component);Be.__docgenInfo={description:"",methods:[],displayName:"ProfileNavbarContainer",props:{fetchUserData:{type:{name:"func"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!1,description:""}}};t.a=Object(f.b)(function(e){return{isUserLoaded:e.user.get("isLoaded")}},{fetchUserData:h.C})(Be)},"Lz/x":function(e,t,n){},M95M:function(e,t,n){e.exports=n.p+"desktop-assets/number-of-entries.a262973036af3f1f2d912ee4f34ef01d.svg"},MQwj:function(e,t,n){},MZXA:function(e,t,n){},NRal:function(e,t,n){},"NXH/":function(e,t,n){},OPqO:function(e,t,n){e.exports=n.p+"desktop-assets/step-4.eb2302ef67d7fd33d8f9176f3907eedd.svg"},OQdq:function(e,t,n){},"P+4o":function(e,t,n){},PJRO:function(e,t,n){},"Pom+":function(e,t,n){"use strict";n.d(t,"b",function(){return hr}),n.d(t,"a",function(){return br});var r=n("pVnL"),m=n.n(r),a=n("lwsE"),d=n.n(a),i=n("W8MJ"),l=n.n(i),o=n("a1gu"),f=n.n(o),s=n("Nsbk"),g=n.n(s),c=n("PJYZ"),h=n.n(c),u=n("7W2i"),p=n.n(u),b=n("lSNA"),v=n.n(b),y=n("q1tI"),w=n.n(y),E=(n("17x9"),n("Ty5D")),_=n("GB65"),C=n("dRit"),O=n("+VfX"),S=n("4TFA"),A=n("E9Wd"),P=n("b5GN"),I=n("wmRA"),k=n("G5ih"),T=(n("wZPJ"),n("BWa0"));function j(e){var t=e.href;return w.a.createElement("a",{className:"BetaFeedback badge",href:t,target:"_blank",rel:"noopener noreferrer"},w.a.createElement(T.W,{className:"badge-icon",name:T.n,width:"32",height:"32"}),w.a.createElement("span",{className:"badge-text"},Object(k.a)("betaFeedback")))}function N(e){var t=e.onPostPageOptOut;return w.a.createElement("a",{href:"/beta/disable?redirect=".concat(encodeURIComponent("".concat(Object(_.w)(),"?nc=1"))),className:"GalleryPage-betaOptOut badge",onClick:function(){t()}},w.a.createElement(T.W,{className:"badge-icon",name:T.q,width:"32",height:"32"}),w.a.createElement("span",{className:"badge-text"},Object(k.a)("leaveBeta")))}j.__docgenInfo={description:"",methods:[],displayName:"BetaFeedback",props:{href:{type:{name:"string"},required:!0,description:""}}},N.__docgenInfo={description:"",methods:[],displayName:"BetaFeedback",props:{onPostPageOptOut:{type:{name:"func"},required:!0,description:""}}};var D=n("sEfC"),x=n.n(D),q=function(e){function t(){return d()(this,t),f()(this,g()(t).apply(this,arguments))}return p()(t,e),l()(t,[{key:"handleScroll",value:function(){(0,this.props.onScroll)(Object(_.B)("pageYOffset"),Object(_.B)("innerHeight"))}},{key:"componentDidMount",value:function(){var e=this.props.debounceTimeout;this.handleScroll(),this.handleScroll=x()(this.handleScroll.bind(this),e),Object(_.a)("scroll",this.handleScroll),Object(_.a)("resize",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),Object(_.ib)("scroll",this.handleScroll),Object(_.ib)("resize",this.handleScroll)}},{key:"render",value:function(){return w.a.createElement("span",null)}}]),t}(y.Component);q.defaultProps={debounceTimeout:10},q.__docgenInfo={description:"",methods:[{name:"handleScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Scroll",props:{debounceTimeout:{defaultValue:{value:"10",computed:!1},type:{name:"number"},required:!1,description:""},onScroll:{type:{name:"func"},required:!0,description:""}}};var M=n("/aJl"),R=n("FwDa"),B=n("xbNk"),U=n("w8Sv"),L=n("bWDY"),F=n("/MKj"),W=n("Yfh/"),V=Object(W.a)(function(){return n.e(16).then(n.bind(null,"iJMN")).then(function(e){return e.default})});function G(e){var t=e.showGalleryPopOverBanner;return w.a.createElement(w.a.Fragment,null,t&&w.a.createElement(V,null))}G.__docgenInfo={description:"",methods:[],displayName:"GalleryFeatures",props:{showGalleryPopOverBanner:{type:{name:"bool"},required:!1,description:""}}};var z=Object(F.b)(function(e){return{showGalleryPopOverBanner:e.banner.get("galleryPopOverBanner").get("show")}})(G),H=n("TJpk");function K(e){var t,n,i=e.post;return w.a.createElement(H.Helmet,null,w.a.createElement("title",null,function(e){if(i){var t=e.get("title"),n=e.get("media"),r=n.first();if(r&&(r.get("animationType")||r.get("isVideo")))return 1<n.size?Object(k.a)("galleryMetaTitleGifs",t):Object(k.a)("galleryMetaTitleGif",t);var a=e.get("tags");return a.size?Object(k.a)("galleryMetaTitleTag",t,a.first().get("display",a.first().get("tag"))):t}return Object(k.a)("defaultTitle")}(i)),w.a.createElement("link",{rel:"canonical",href:(t=i,n=A.L,i&&(t.get("inGallery")?n+="/gallery/".concat(t.get("id")):t.get("isAlbum")?n+="/a/".concat(t.get("id")):n+="/".concat(t.get("id"))),n)}))}K.__docgenInfo={description:"",methods:[],displayName:"GalleryMeta",props:{post:{type:{name:"object"},required:!1,description:""}}};var Y=n("TSYQ"),J=n.n(Y),Q=n("iaU+"),X=n("94Yu"),Z=n("9Jdl"),$=n("9UQG"),ee=n("WSv3"),te=n("ANjH"),ne=n("fdoY"),re=n("QILm"),ae=n.n(re),ie=n("55Ip"),oe=n("RJ0p");function se(e){var t=e.recircSortType,n=e.postId,r=e.match,a=e.children,i=(e.dispatch,e.staticContext,ae()(e,["recircSortType","postId","match","children","dispatch","staticContext"])),o=r.params,s=Object(oe.g)(t,o);return w.a.createElement(ie.a,m()({to:"".concat(s).concat(n)},i),a)}se.__docgenInfo={description:"",methods:[],displayName:"PostLink",props:{match:{type:{name:"object"},required:!0,description:""},children:{type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"}]},required:!0,description:""},recircSortType:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},dispatch:{type:{name:"func"},required:!0,description:""},staticContext:{type:{name:"object"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""}}};var ce=Object(te.c)(Object(F.b)(function(e){return{recircSortType:e.postsData.get("recircSortType")}}),E.h)(se),le=(n("D4vR"),function(e){function n(e){var t;return d()(this,n),(t=f()(this,g()(n).call(this,e))).elm=w.a.createRef(),t}return p()(n,e),l()(n,[{key:"setElementPosition",value:function(){var e=this.props,t=e.setPosition,n=e.header,r=parseInt(this.elm.getBoundingClientRect().bottom,10)+Object(_.L)();n&&t(r)}},{key:"componentDidMount",value:function(){this.setElementPosition()}},{key:"componentDidUpdate",value:function(){this.setElementPosition()}},{key:"render",value:function(){var t=this,e=this.props,n=e.prevPost,r=e.nextPost,a=e.toNext,i=e.toPrev,o=e.transformationStyle,s=e.transformationNextStyle,c=e.match.params,l=J()({"Navigation-Container":!0,"first-item":!n,"last-item":!r});return w.a.createElement("div",{ref:function(e){t.elm=e}},(n||r)&&w.a.createElement("div",{className:l},n&&w.a.createElement(ce,{className:"Navigation Navigation-prev",postId:n.get("id"),onClick:function(e){e.preventDefault(),i(S.n.BUTTON,c)}},w.a.createElement("div",{className:"content"},w.a.createElement(T.W,{name:T.M,width:"16",height:"16",alt:"<"}))),r&&w.a.createElement(ce,{className:"Navigation Navigation-next",postId:r.get("id"),onClick:function(e){e.preventDefault(),a(S.n.BUTTON,c)},style:o},w.a.createElement("div",{className:"content"},w.a.createElement("span",{style:s},Object(k.a)("nextPost")),w.a.createElement(T.W,{name:T.N,width:"16",height:"16",alt:">"})))))}}]),n}(w.a.Component));le.defaultProps={header:!1},le.__docgenInfo={description:"",methods:[{name:"setElementPosition",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PrevNextButtonsComponent",props:{header:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},prevPost:{type:{name:"object"},required:!1,description:""},nextPost:{type:{name:"object"},required:!1,description:""},toNext:{type:{name:"func"},required:!0,description:""},toPrev:{type:{name:"func"},required:!0,description:""},match:{type:{name:"object"},required:!0,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},transformationNextStyle:{type:{name:"object"},required:!1,description:""},setPosition:{type:{name:"func"},required:!0,description:""},coverHeight:{type:{name:"number"},required:!0,description:""}}};var de=Object(te.c)(Object(F.b)(function(e){var t=e.postsData,n=e.ad,r=e.ui,a={},i={};return n.getIn(["transformation","enabled"])&&(a={background:"linear-gradient(60deg, rgb(".concat(n.getIn(["transformation","primaryColor"]),") 0%, rgb(").concat(n.getIn(["transformation","primaryColor"]),") 45%, rgb(").concat(n.getIn(["transformation","secondaryColor"]),") 100%)"),fontFamily:n.getIn(["transformation","fontFamily"]),fontSize:n.getIn(["transformation","nextFontSize"])},i={verticalAlign:n.getIn(["transformation","nextAlignment"])}),{prevPost:t.get("prevPost"),nextPost:t.get("nextPost"),coverHeight:r.cover.get("height"),transformationStyle:a,transformationNextStyle:i}},{toNext:ne.cb,toPrev:ne.db,setPosition:ne.Cb}),E.h)(le);function ue(e){var t=e.className,n=e.username,r=e.label,a=e.children,i=e.onClick;return n.toLowerCase()===A.u&&(n=A.v),w.a.createElement(ie.a,{className:t,to:"/user/".concat(n),title:Object(k.a)("usernameHint",n),onClick:i},a||r||n)}ue.__docgenInfo={description:"",methods:[],displayName:"AuthorLinkComponent",props:{className:{type:{name:"string"},required:!1,description:""},username:{type:{name:"string"},required:!0,description:""},label:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};n("nswd");function pe(e){var t=e.postTitle,n=e.postAuthor,r=e.className,a=e.isPostLoading,i=e.onProfileClick,o=e.transformationTitleStyle;return w.a.createElement("div",{className:J()(v()({CoverPostMeta:!0},r,r))},w.a.createElement("div",{className:"Wrapper"},w.a.createElement("div",{className:"Meta".concat(a?" fadeOut":"")},w.a.createElement("div",{className:"PostTitle",style:o},t),n&&w.a.createElement(ue,{className:"author-name",username:n,label:Object(k.a)("postHeaderMetaAuthor",n),onClick:function(){return i(n,"Username Byline")}})),w.a.createElement("div",{className:"Navigation-buttons"},w.a.createElement(de,null))))}pe.__docgenInfo={description:"",methods:[],displayName:"CoverPostMetaComponent",props:{className:{type:{name:"string"},required:!1,description:""},postTitle:{type:{name:"string"},required:!1,description:""},postAuthor:{type:{name:"string"},required:!1,description:""},isPostLoading:{type:{name:"bool"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},transformationTitleStyle:{type:{name:"object"},required:!0,description:""}}};var me=Object(F.b)(function(e){var t=e.postsData,n=e.ad,r=t.get("currentPost"),a={};return n.getIn(["transformation","enabled"])&&(a={fontFamily:n.getIn(["transformation","fontFamily"]),fontSize:n.getIn(["transformation","stickyTitleFontSize"])}),{postTitle:r&&r.get("title"),postAuthor:r&&r.get("inGallery")&&r.getIn(["account","username"],""),transformationTitleStyle:a}},{onProfileClick:ee.X})(pe),fe=(n("oYpj"),function(e){function t(e){var a;return d()(this,t),a=f()(this,g()(t).call(this,e)),v()(h()(a),"onScroll",function(){var e=a.props,t=e.prevNextPosition,n=e.coverTop,r=Object(_.L)()+Math.abs(n)>=t;r!==a.state.isDisplayPostMeta&&a.setState({isDisplayPostMeta:r})}),a.state={isDisplayPostMeta:!1},a}return p()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e){e.prevNextPosition!==this.props.prevNextPosition&&this.onScroll()}},{key:"render",value:function(){var e=this.props,t=e.isPostLoading,n=e.isPostAd,r=J()({GalleryCover:!0,withPostMeta:this.state.isDisplayPostMeta});return w.a.createElement(Q.a,{minHeight:0,className:r,backgroundType:O.n,hideNewPostNotification:!0,SCTU:n?void 0:X.a,SCTUPath:Z.q,SCTUTargeting:{"2019NewPostPage":!0},onScroll:this.onScroll,Banner:$.a},w.a.createElement(me,{className:this.state.isDisplayPostMeta?"Display":"",isPostLoading:t}))}}]),t}(w.a.Component));fe.__docgenInfo={description:"",methods:[{name:"onScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryCoverComponent",props:{prevNextPosition:{type:{name:"number"},required:!0,description:""},isPostLoading:{type:{name:"bool"},required:!1,description:""},isPostAd:{type:{name:"bool"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""},positionY:{type:{name:"number"},required:!1,description:""}}};var ge=Object(F.b)(function(e){var t=e.postsData,n=e.ui;return{prevNextPosition:t.get("prevNextPosition"),isPostLoading:n.spinner.get("retrievePost",{}).loading,isPostAd:t.getIn(["currentPost","isAd"],!1),coverTop:n.cover.getIn(["navbar","top"])}})(fe),he=n("v1Sp"),be=n("/PhX"),ve=n("wAdX"),ye=n("7oyi"),Ee=n("pNV7");n("2X/W");function _e(e){var t=e.closeDialog,n=e.muteUser,r=e.resetMuteUserData,a=e.username,i=e.type,o=e.id;if(!(a&&i&&o))return null;function s(){r(),t()}return w.a.createElement(ve.a,{className:"MuteUserDialog",name:he.a,isModal:!1,onClose:r},w.a.createElement("div",{className:"MuteUserDialog-head"},w.a.createElement("span",null,Object(k.a)("muteUserDialogTitle")),w.a.createElement(ye.a,{className:"MuteUserDialog-head--close",imageSrc:Ee.a[Ee.i],onClick:s})),w.a.createElement("div",{className:"MuteUserDialog-content"},w.a.createElement("div",{className:"MuteUserDialog-content--text"},Object(k.a)("muteUserDialogText")),w.a.createElement("div",{className:"MuteUserDialog-content--buttons"},w.a.createElement(ye.a,{className:"MuteUserDialog-content--mute",onClick:function(){n(a,i,o),t()},label:Object(k.a)("muteUserDialogMuteBtn")}),w.a.createElement(ye.a,{className:"MuteUserDialog-content--cancel",onClick:s,label:Object(k.a)("muteUserDialogCancelBtn")}))))}_e.__docgenInfo={description:"",methods:[],displayName:"MuteUserDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},muteUser:{type:{name:"func"},required:!0,description:""},resetMuteUserData:{type:{name:"func"},required:!0,description:""},username:{type:{name:"string"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""}}};var Ce=Object(F.b)(function(e){var t=e.user;return{username:t.getIn(["muteUserData","username"]),type:t.getIn(["muteUserData","type"]),id:t.getIn(["muteUserData","id"])}},{closeDialog:be.u,muteUser:ee.K,resetMuteUserData:ee.O})(_e);n("Rhnt");function Oe(e){var t=e.closeDialog,n=e.removeFromPublic,r=e.postId,a=e.isAlbum;if(!r)return null;function i(){t()}return w.a.createElement(ve.a,{className:"RemoveFromPublicDialog",name:I.E,isModal:!1},w.a.createElement("div",{className:"RemoveFromPublicDialog-head"},w.a.createElement("span",null,Object(k.a)("removeFromPublicDialogTitle")),w.a.createElement(ye.a,{className:"RemoveFromPublicDialog-head--close",imageSrc:Ee.a[Ee.i],onClick:i})),w.a.createElement("div",{className:"RemoveFromPublicDialog-content"},w.a.createElement("div",{className:"RemoveFromPublicDialog-content--text"},Object(k.a)("removeFromPublicDialogText")),w.a.createElement("div",{className:"RemoveFromPublicDialog-content--buttons"},w.a.createElement(ye.a,{className:"btn btn--cancel",onClick:i,label:Object(k.a)("removeFromPublicDialogCancelBtn")}),w.a.createElement(ye.a,{className:"btn btn--submit",onClick:function(){n(r,a),t()},label:Object(k.a)("removeFromPublicDialogSubmitBtn")}))))}Oe.__docgenInfo={description:"",methods:[],displayName:"RemoveFromPublicDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},removeFromPublic:{type:{name:"func"},required:!0,description:""},postId:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""}}};var Se=Object(F.b)(function(e){var t=e.postsData;return{postId:t.getIn(["currentPost","id"]),isAlbum:t.getIn(["currentPost","isAlbum"])}},{closeDialog:be.u,removeFromPublic:ne.qb})(Oe),Ie=n("AG5K"),ke=n("OX3u"),we=n("fPgW"),Ae=n("Nm7g"),Pe=n("Dhp7"),Te=function(e){function n(e){var t;return d()(this,n),(t=f()(this,g()(n).call(this,e))).state={countdown:null},t}return p()(n,e),l()(n,[{key:"tick",value:function(){var e=this.props.target;e&&this.setState({countdown:Object(Pe.c)(e)})}},{key:"componentDidMount",value:function(){var e=this;this.tick();var t=this.props.target;!this.timerID&&t&&(this.timerID=Object(_.xb)(function(){return e.tick()},1e3))}},{key:"componentWillUnmount",value:function(){Object(_.h)(this.timerID),this.timerID=null}},{key:"render",value:function(){var e=this.state.countdown,t=this.props.className;return w.a.createElement("div",{className:t},e)}}]),n}(y.Component);Te.__docgenInfo={description:"",methods:[{name:"tick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Countdown",props:{target:{type:{name:"string"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""}}};var je=n("RIqP"),Ne=n.n(je),De=function(e){function t(){return d()(this,t),f()(this,g()(t).apply(this,arguments))}return p()(t,e),l()(t,[{key:"renderInventory",value:function(e,t){var n=t?"active":"dimmed";return w.a.createElement("div",{className:"AccoladeDialog-inventory--".concat(n),key:e},w.a.createElement(T.W,{name:T.E,width:"18",height:"20",viewBox:"0 -9 32 32"}))}},{key:"render",value:function(){var n=this,e=this.props,t=e.total,r=e.remaining;return t&&0!==r?w.a.createElement("div",{className:"AccoladeDialog-inventory"},w.a.createElement("div",{className:"AccoladeDialog-inventory-badges"},Ne()(Array(t)).map(function(e,t){return n.renderInventory(t,t+1<=r)})),w.a.createElement("div",{className:"AccoladeDialog-inventory-message"},Object(Ie.a)("accoladesInventoryRemaining",r))):null}}]),t}(y.Component);De.__docgenInfo={description:"",methods:[{name:"renderInventory",docblock:null,modifiers:[],params:[{name:"key",type:null},{name:"isActive",type:null}],returns:null}],displayName:"Inventory",props:{total:{type:{name:"number"},required:!1,description:""},remaining:{type:{name:"number"},required:!1,description:""}}};var xe=n("HWIq");n("neJP");var qe=n("RUHF");var Me=Object(F.b)(function(e){var t=e.postsData,n=e.user,r=t.getIn(["currentPostMeta","user","accolades"]),a=t.getIn(["currentPostMeta","post","accolades_counts"]);return{isSubscribed:n.getIn(["subscription","isSubscribed"],!1),postId:t.getIn(["currentPost","id"]),initialVote:t.getIn(["currentPost","vote"],we.c),accolades:t.getIn(["currentPostMeta","accolades","available"]),total:r&&r.getIn(["total"],0),remaining:r&&r.getIn(["remaining"]),timerReset:r&&r.getIn(["timer_reset"]),userAccoladeId:r&&r.getIn(["accolade_id"]),postAccolades:a?a.toJS():{},isOwner:n.get("username")===t.getIn(["currentPost","account","username"],"").toLowerCase(),currentUsername:n.get("username","")}},function(t){return{close:function(){t(Object(be.u)(ke.a))},submit:function(e){t(Object(ne.Ob)(e)),t(Object(be.u)(ke.a)),e.vote===we.b?t(e.userAccoladeId?Object(qe.a)(e):Object(qe.b)(e)):t(Object(qe.c)(e))},onAccoladeDialogOpen:function(e){return t(Object(ne.U)(e))}}})(function(s,e){var c=1<arguments.length&&void 0!==e?e:{},t=function(e){function t(e){var c;return d()(this,t),c=f()(this,g()(t).call(this,e)),v()(h()(c),"chooseAccolade",function(e,t,n){0===t&&e&&!n||c.setState({currentSelectedAccoladeId:e})}),v()(h()(c),"handleAward",function(){var e=c.props,t=e.submit,n=e.postId,r=e.initialVote,a=e.postAccolades,i=e.accolades,o=e.userAccoladeId,s=c.state.currentSelectedAccoladeId;t({postId:n,vote:we.b,initialVote:r,trigger:"Award Accolade",accoladeId:s,userAccoladeId:o,accoladeName:i.find(function(e){return e.get("id")===s}).get("name"),accoladeCount:Object(Ae.k)(a)+1,previousAccoladeName:o?i.find(function(e){return e.get("id")===o}).get("name"):null})}),v()(h()(c),"handleRemove",function(){var e=c.props,t=e.submit,n=e.postId,r=e.initialVote,a=e.userAccoladeId;t({postId:n,vote:we.c,initialVote:r,trigger:"Delete Accolade",userAccoladeId:a})}),v()(h()(c),"getCount",function(e){var t=c.props,n=t.postAccolades,r=t.userAccoladeId,a=n&&n[e]?n[e]:0;return a?(e===r&&--a,a):0}),v()(h()(c),"isAccoladeButtonEnabled",function(){var e=c.props,t=e.userAccoladeId,n=e.remaining,r=c.state.currentSelectedAccoladeId;return null!==r&&(!(0===n&&!t)&&(!t||r!==t))}),v()(h()(c),"onOpen",function(){var e=c.props,t=e.onAccoladeDialogOpen,n=e.isOwner,r=e.postAccolades;t({accoladeIds:n&&r&&0<Object.keys(r).length?Object.keys(r):null}),c.chooseAccolade(null)}),c.state={currentSelectedAccoladeId:null},c}return p()(t,e),l()(t,[{key:"accoladeData",value:function(e,t){var n=this,r=this.state.currentSelectedAccoladeId,a=this.props,i=a.userAccoladeId,o=a.currentUsername,s=a.remaining,c=e.get("id");return w.a.createElement("div",{key:t,onClick:function(){return n.chooseAccolade(e.get("id"),s,i)}},w.a.createElement(xe.a,{count:this.getCount(c),username:c===i?o:"",background:c===r,imageUrl:e.get("image_url"),imageName:e.get("name")}))}},{key:"renderAccolades",value:function(){var n=this,e=this.props.accolades;if(e)return w.a.createElement("div",{className:"AccoladeDialog-accoladesContainer"},e.map(function(e,t){return n.accoladeData(e,t)}))}},{key:"renderDialogTitle",value:function(){var e=this.props,t=e.isSubscribed,n=e.userAccoladeId,r=e.isOwner,a=e.postAccolades,i=e.remaining,o=e.timerReset;if(r){var s=Object(Ae.k)(a);return Object(Ie.a)(s?"accoladePostHasAccoladesTitle":"accoladePostNotHasAccoladesTitle",Object(Ae.h)(s))}return t?0===i?w.a.createElement(w.a.Fragment,null,w.a.createElement(Te,{target:o,className:"AccoladeDialog-countdown"}),Object(Ie.a)("accoladesInventoryReload")):Object(Ie.a)(n?"accoladeGivenTitle":"accoladeGiveTitle"):Object(Ie.a)("accoladeJoinTitle")}},{key:"renderDialogButton",value:function(){var e=this.props,t=e.isSubscribed,n=e.userAccoladeId,r=e.remaining;if(!t)return w.a.createElement(ie.b,{className:"AccoladeDialog-link",to:"/".concat(P.e,"?source=").concat(ke.i)},Object(Ie.a)("accoladeJoinEmerald"));if(0===r&&!n)return"";var a=this.isAccoladeButtonEnabled();return w.a.createElement("button",{disabled:!a,type:"button",className:"AccoladeDialog-button-".concat(a?"-active":"-hidden"),onClick:this.handleAward},n?Object(Ie.a)("accoladeChange"):Object(Ie.a)("accoladeAward"))}},{key:"render",value:function(){var e=this.props,t=e.isSubscribed,n=e.total,r=e.remaining,a=e.userAccoladeId,i=e.isOwner,o=e.close;return w.a.createElement(s,m()({className:"AccoladeDialog",isModal:!1,onClose:o,name:ke.a,onOpen:this.onOpen},c),w.a.createElement("div",{className:"AccoladeDialog-head"},t&&!i&&0!==r&&w.a.createElement(De,{total:n,remaining:r}),w.a.createElement(ye.b,{className:"AccoladeDialog-head--close",image:w.a.createElement(T.W,{name:T.f,width:"24",height:"24"}),onClick:o})),w.a.createElement("div",{className:"AccoladeDialog-content"},w.a.createElement("div",{className:"AccoladeDialog-content-title"},this.renderDialogTitle()),this.renderAccolades()),w.a.createElement("div",{className:"AccoladeDialog-footer"},w.a.createElement("a",{className:"AccoladeDialog-LearnMore",href:ke.c,target:"_blank",rel:"noopener noreferrer"},w.a.createElement(T.W,{height:"24",name:T.F,width:"24"})),!i&&w.a.createElement("div",{className:"AccoladeDialog-footer-actions"},a&&w.a.createElement("div",{className:"AccoladeDialog-button--remove",onClick:this.handleRemove},Object(Ie.a)("accoladeRemove")),this.renderDialogButton())))}}]),t}(y.Component);return t.defaultProps={onAccoladeDialogOpen:function(){}},t}(ve.a)),Re=n("5jHb"),Be=n("93Qx");n("qAYT");function Ue(e){var t=e.closeDialog,n=e.deleteComment,r=e.resetDeleteCommentData,a=e.commentId;if(!a||!n)return null;function i(){r(),t()}return w.a.createElement(ve.a,{className:"DeleteCommentDialog",name:Re.b,isModal:!1,onClose:r},w.a.createElement("div",{className:"DeleteCommentDialog-head"},w.a.createElement("span",null,Object(k.a)("DeleteCommentDialogTitle")),w.a.createElement(ye.a,{className:"DeleteCommentDialog-head--close",imageSrc:Ee.a[Ee.i],onClick:i})),w.a.createElement("div",{className:"DeleteCommentDialog-content"},w.a.createElement("div",{className:"DeleteCommentDialog-content--text"},Object(k.a)("DeleteCommentDialogText")),w.a.createElement("div",{className:"DeleteCommentDialog-content--buttons"},w.a.createElement(ye.a,{className:"DeleteCommentDialog-content--cancel",onClick:i,label:Object(k.a)("DeleteCommentDialogKeepBtn")}),w.a.createElement(ye.a,{className:"DeleteCommentDialog-content--delete",onClick:function(){n(a),t()},label:Object(k.a)("DeleteCommentDialogDeleteBtn")}))))}Ue.__docgenInfo={description:"",methods:[],displayName:"DeleteCommentDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},deleteComment:{type:{name:"func"},required:!0,description:""},resetDeleteCommentData:{type:{name:"func"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""}}};var Le=Object(F.b)(function(e){return{commentId:e.comments.get("commentToDeleteId")}},{closeDialog:be.u,deleteComment:Be.s,resetDeleteCommentData:Be.y})(Ue),Fe=n("if3o"),We=n("Gk2F");n("IVpR");function Ve(){return w.a.createElement("svg",{style:{position:"absolute"},width:"0",height:"0",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w.a.createElement("defs",null,w.a.createElement("path",{id:"folder-path0",fillRule:"evenodd",clipRule:"evenodd",d:"M49.5016 28.901C50.277 21.4876 50.2816 15.783 49.5151 8.38824C49.3029 6.34142 47.5376 4.81321 45.4651 4.81322L26.9653 4.81325L24.2944 2.17465C23.7942 1.68042 23.1282 1.36611 22.406 1.3012C18.3753 0.938945 13.6547 0.903928 9.49736 1.19359C7.49418 1.33316 5.94918 2.89066 5.77795 4.79585C4.96489 13.8429 4.9636 19.7981 5.77425 28.8361C5.94902 30.7846 7.54505 32.3306 9.55171 32.4588C20.8619 33.1811 34.4288 33.1804 45.7348 32.4567C47.7079 32.3304 49.2999 30.8296 49.5016 28.901Z",fill:"#43D0BD"}),w.a.createElement("path",{id:"folder-path1",fillRule:"evenodd",clipRule:"evenodd",d:"M49.5016 28.901C50.277 21.4876 50.2816 15.783 49.5151 8.38824C49.3029 6.34142 47.5376 4.81321 45.4651 4.81322L26.9653 4.81325L24.2944 2.17465C23.7942 1.68042 23.1282 1.36611 22.406 1.3012C18.3753 0.938945 13.6547 0.903928 9.49736 1.19359C7.49418 1.33316 5.94918 2.89066 5.77795 4.79585C4.96489 13.8429 4.9636 19.7981 5.77425 28.8361C5.94902 30.7846 7.54505 32.3306 9.55171 32.4588C20.8619 33.1811 34.4288 33.1804 45.7348 32.4567C47.7079 32.3304 49.2999 30.8296 49.5016 28.901Z"}),w.a.createElement("path",{id:"folder-lock-path",fillRule:"evenodd",clipRule:"evenodd",d:"M27 11.0375C24.7909 11.0375 23 12.8954 23 15.1872V16.4018C21.8348 16.829 21 17.9819 21 19.337V22.4493C21 24.1682 22.3431 25.5617 24 25.5617H30C31.6569 25.5617 33 24.1682 33 22.4493V19.337C33 17.9819 32.1652 16.829 31 16.4018V15.1872C31 12.8954 29.2091 11.0375 27 11.0375ZM29 16.2247V15.1872C29 14.0413 28.1046 13.1124 27 13.1124C25.8954 13.1124 25 14.0413 25 15.1872V16.2247H29ZM24 18.2996C23.4477 18.2996 23 18.764 23 19.337V22.4493C23 23.0223 23.4477 23.4868 24 23.4868H30C30.5523 23.4868 31 23.0223 31 22.4493V19.337C31 18.764 30.5523 18.2996 30 18.2996H24Z",fill:"white"}),w.a.createElement("filter",{id:"filter0_d",x:"0.167206",y:"0",width:"54.9194",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),w.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),w.a.createElement("feOffset",{dy:"4"}),w.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),w.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"}),w.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),w.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}function Ge(e){var t=e.id,n=e.coverHash,r=e.isPrivate;return w.a.createElement("svg",{width:"45",height:"32",viewBox:"5 1 45 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w.a.createElement("g",{filter:"url(#filter0_d)"},w.a.createElement("use",{xlinkHref:"#folder-path0"}),n&&!r&&w.a.createElement("use",{xlinkHref:"#folder-path1",fill:"url(#pattern".concat(t,")")})),r&&w.a.createElement("use",{xlinkHref:"#folder-lock-path"}),w.a.createElement("defs",null,w.a.createElement("pattern",{id:"pattern".concat(t),patternContentUnits:"objectBoundingBox",width:"1",height:"1"},w.a.createElement("use",{xlinkHref:"#image".concat(t),transform:""})),w.a.createElement("image",{id:"image".concat(t),width:"1",height:"1",xlinkHref:n&&"".concat(A.M,"/").concat(n,"s.png")})))}function ze(e){var t=e.id,n=void 0===t?Fe.a:t,r=e.coverHash,a=e.name,i=e.isPrivate,o=e.isSelected;return w.a.createElement("div",{className:"FavoriteDialog-Folder"},w.a.createElement("div",{className:"FavoriteDialog-FolderIcon"},w.a.createElement(Ge,{coverHash:r,id:n,isPrivate:i})),w.a.createElement("div",{className:"FavoriteDialog-FolderLabel".concat(o?" selected":"")},a),w.a.createElement("div",{className:"FavoriteDialog-FolderSelected"},o&&w.a.createElement(T.W,{name:T.K,width:"16",height:"16"})))}var He=function(e){function t(e){var i;return d()(this,t),i=f()(this,g()(t).call(this,e)),v()(h()(i),"handleClose",function(){var e=i.props.closeDialogAction;i.onClose(),e()}),v()(h()(i),"onClose",function(){var e=i.props.resetFavoriteDataAction,t=i.state.selected;Object(_.i)(i.closeTimeOut),e(),t!==Fe.a&&i.setState({selected:Fe.a}),Object(_.mb)("scroll",i.handleClose)}),v()(h()(i),"handleSelectFolder",function(e){var t=i.props,n=t.addFavoritesToFolderAction,r=t.postId,a=t.isAlbum;n({id:e,faves:["".concat(a?"album":"image","/").concat(r)],disableMessage:!0}),i.setState({selected:e}),Object(_.Ab)(i.handleClose,500)}),v()(h()(i),"onOpen",function(){(0,i.props.fetchFoldersAction)(),i.closeTimeOut=Object(_.Ab)(i.handleClose,1e4),Object(_.c)("scroll",i.handleClose)}),v()(h()(i),"onMouseEnter",function(){Object(_.i)(i.closeTimeOut),Object(_.mb)("scroll",i.handleClose)}),v()(h()(i),"onMouseLeave",function(){Object(_.c)("scroll",i.handleClose)}),i.closeTimeOut=null,i.state={selected:Fe.a},i}return p()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.onClose()}},{key:"render",value:function(){var t=this,e=this.props,n=e.folders,r=e.postId,a=e.coverHeight,i=e.coverTop,o=e.isCoverFixed,s=this.state.selected;if(!r)return null;var c={top:o?81:a-136+81+i};return w.a.createElement(ve.a,{className:"FavoritesFoldersDialog",overlayOpacity:0,name:I.d,isModal:!1,onClose:this.onClose,onOpen:this.onOpen,styles:c},w.a.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},w.a.createElement("div",{className:"FavoritesFoldersDialog-head"},w.a.createElement("span",null,Object(k.a)("FavoritesFoldersDialogTitle")),w.a.createElement(ye.a,{className:"FavoritesFoldersDialog-head--close",imageSrc:Ee.a[Ee.i],onClick:this.handleClose})),w.a.createElement("div",{className:"FavoritesFoldersDialog-content"},w.a.createElement(Ve,null),w.a.createElement("div",{className:"fadeOut fadeOut-top"}),w.a.createElement("div",{className:"FavoritesFoldersDialog-content--list Scrollbar--gray"},n.map(function(e){return w.a.createElement("button",{onClick:function(){return t.handleSelectFolder(e.id||Fe.a)},type:"submit",key:e.id||Fe.a},w.a.createElement(ze,m()({},e,{isSelected:s===e.id})))})),w.a.createElement("div",{className:"fadeOut fadeOut-bottom"}))))}}]),t}(w.a.Component);He.__docgenInfo={description:"",methods:[{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleSelectFolder",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"onOpen",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseLeave",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FavoritesFoldersDialog",props:{fetchFoldersAction:{type:{name:"func"},required:!0,description:""},closeDialogAction:{type:{name:"func"},required:!0,description:""},resetFavoriteDataAction:{type:{name:"func"},required:!0,description:""},addFavoritesToFolderAction:{type:{name:"func"},required:!0,description:""},folders:{type:{name:"array"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""},isCoverFixed:{type:{name:"bool"},required:!1,description:""},coverHeight:{type:{name:"number"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""}}};var Ke=Object(F.b)(function(e){var t=e.favorites,n=e.postsData,r=e.ui;return{folders:t.get("folders").toList().toJS(),postId:n.getIn(["favoriteData","postId"]),isAlbum:n.getIn(["favoriteData","isAlbum"]),coverHeight:r.cover.get("height"),coverTop:r.cover.get("top"),isCoverFixed:r.cover.get("fixed")}},{fetchFoldersAction:We.q,closeDialogAction:be.u,resetFavoriteDataAction:ne.sb,addFavoritesToFolderAction:We.k})(He);n("9JWB");function Ye(e){var t=e?"16":"32";return{height:t,width:t,fillColor:"none",strokeColor:"#ffffff"}}function Je(e){var t=e.selected,n=void 0!==t&&t,r=e.isMini,a=void 0!==r&&r,i=ae()(e,["selected","isMini"]),o=J()({Vote:!0,"Vote-up":!0,"Vote-up--selected":n}),s=a?T.V:T.D,c=Ye(a);return w.a.createElement(T.W,m()({className:o,name:s},c,i))}function Qe(e){var t=e.selected,n=void 0!==t&&t,r=e.isMini,a=void 0!==r&&r,i=ae()(e,["selected","isMini"]),o=J()({Vote:!0,"Vote-down":!0,"Vote-down--selected":n}),s=a?T.P:T.i,c=Ye(a);return w.a.createElement(T.W,m()({className:o,name:s},c,i))}Qe.__docgenInfo={description:"",methods:[],displayName:"Downvote",props:{selected:{defaultValue:{value:"false",computed:!(Je.__docgenInfo={description:"",methods:[],displayName:"Upvote",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isMini:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}})},type:{name:"bool"},required:!1,description:""},isMini:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}};n("pxaO");function Xe(e){var t=e.points,n=e.ups,r=e.downs,a=66*Math.PI,i=n*a/(n+r);return w.a.createElement("div",{className:"ChartData"},w.a.createElement("div",{className:"Chart"},w.a.createElement("svg",{width:"192",height:"192",viewBox:"14 0 178 192",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w.a.createElement("g",{filter:"url(#filter0_d)"},w.a.createElement("g",{filter:"url(#filter1_d)"},w.a.createElement("circle",{cx:"96",cy:"86",r:"65",fill:"#FE6065"})),w.a.createElement("circle",{r:"33",cx:"0",cy:"0",stroke:"#2FBE7C",strokeWidth:"97",strokeDasharray:"".concat(i," ").concat(a),transform:"rotate(-90) scale(1, -1) translate(-86, -96)"}),w.a.createElement("g",{filter:"url(#filter2_d)"},w.a.createElement("circle",{cx:"96",cy:"86",r:"50",fill:"#3C424B"})),w.a.createElement("text",{x:"96",y:"82",textAnchor:"middle",className:"points"},Object(Ae.h)(t)),w.a.createElement("text",{x:"96",y:"100",textAnchor:"middle",className:"pointsLabel"},Object(k.a)("statisticsDialogPoints"))),w.a.createElement("defs",null,w.a.createElement("filter",{id:"filter0_d",x:"0",y:"0",width:"192",height:"192",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),w.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),w.a.createElement("feOffset",{dy:"10"}),w.a.createElement("feGaussianBlur",{stdDeviation:"7"}),w.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),w.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),w.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),w.a.createElement("filter",{id:"filter1_d",x:"17",y:"17",width:"158",height:"158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),w.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),w.a.createElement("feOffset",{dy:"10"}),w.a.createElement("feGaussianBlur",{stdDeviation:"7"}),w.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),w.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),w.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),w.a.createElement("filter",{id:"filter2_d",x:"32",y:"24",width:"128",height:"128",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),w.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),w.a.createElement("feOffset",{dy:"2"}),w.a.createElement("feGaussianBlur",{stdDeviation:"7"}),w.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),w.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),w.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))),w.a.createElement("div",{className:"Votes"},w.a.createElement("div",{className:"ups"},w.a.createElement(Je,{isMini:!0,selected:!0})," ",Object(Ae.h)(n)),w.a.createElement("div",{className:"downs"},w.a.createElement(Qe,{isMini:!0,selected:!0})," ",Object(Ae.h)(r))))}Xe.__docgenInfo={description:"",methods:[],displayName:"Chart",props:{points:{type:{name:"number"},required:!0,description:""},ups:{type:{name:"number"},required:!0,description:""},downs:{type:{name:"number"},required:!0,description:""}}};n("mky3");function Ze(e){var t=e.title,n=e.createAd,r=new Date(n);return w.a.createElement("div",{className:"TitleDate"},w.a.createElement("div",{className:"Title"},t),w.a.createElement("div",{className:"Date"},Object(k.a)("statisticsDialogUploaded")," ",Object(Pe.d)(r)))}function $e(e){var t=e.views,n=e.comments,r=e.bandwidth,a=e.favorites,i=[{title:Object(k.a)("statisticsDialogViews"),value:Object(Ae.h)(t),icon:w.a.createElement(T.W,{name:T.U,width:"16",height:"16"})},{title:Object(k.a)("statisticsDialogBandwidth"),value:Object(Ae.g)(r),icon:w.a.createElement(T.W,{name:T.I,width:"16",height:"16"})},{title:Object(k.a)("statisticsDialogComments"),value:Object(Ae.h)(n),icon:w.a.createElement(T.W,{name:T.J,width:"16",height:"16"})},{title:Object(k.a)("statisticsDialogFavorites"),value:Object(Ae.h)(a),icon:w.a.createElement(T.W,{name:T.R,width:"16",height:"16"})}];return w.a.createElement("div",{className:"StatisticsData"},i.map(function(e,t){return w.a.createElement("div",{className:"item ".concat(0<t%2?"right":"left"," ").concat(t<2&&"top"),key:t},w.a.createElement("div",{className:"title-icon"},w.a.createElement("div",{className:"title"},e.title),w.a.createElement("div",{className:"icon"},e.icon)),w.a.createElement("div",{className:"value"},e.value))}))}function et(e){var t=e.closeDialog,n=e.meta,r=e.title,a=e.createdAtDate,i=e.coverImage,o=e.mediaSize;if(!n||!n.size)return null;var s={backgroundImage:"url(".concat(i,")")};return w.a.createElement(ve.a,{className:"StatisticsDialog",name:I.F,isModal:!1},w.a.createElement("div",{className:"StatisticsDialog-head"},w.a.createElement("span",null,Object(k.a)("statisticsDialogTitle")),w.a.createElement(ye.a,{className:"StatisticsDialog-head--close",imageSrc:Ee.a[Ee.i],onClick:function(){return t()}})),w.a.createElement("div",{className:"StatisticsDialog-content"},w.a.createElement("div",{className:"Background",style:s},w.a.createElement("div",{className:"Background-Overlay"})),w.a.createElement("div",{className:"StatisticsDialog-content-container"},w.a.createElement(Ze,{createAd:a,title:r}),w.a.createElement(Xe,{points:n.get("point_count"),ups:n.get("upvote_count"),downs:n.get("downvote_count")}),w.a.createElement($e,{views:n.get("view_count"),comments:n.get("comment_count"),bandwidth:n.get("view_count")*o,favorites:n.get("favorite_count")}))))}et.__docgenInfo={description:"",methods:[],displayName:"StatisticsDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},meta:{type:{name:"object"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},createdAtDate:{type:{name:"string"},required:!1,description:""},coverImage:{type:{name:"string"},required:!1,description:""},mediaSize:{type:{name:"number"},required:!1,description:""}}};var tt=Object(F.b)(function(e){var t=e.postsData;return{meta:t.getIn(["currentPostMeta","post"]),title:t.getIn(["currentPost","title"]),createdAtDate:t.getIn(["currentPost","createdAt"]),coverImage:t.getIn(["currentPost","src","coverImage"]),mediaSize:t.getIn(["currentPost","media"],[]).reduce(function(e,t){return e+parseInt(t.get("size"),10)},0)}},{closeDialog:be.u})(et),nt="communitySurveyDialog",rt=n("IlJ3"),at=(n("HLYB"),function(e){function t(e){var u;return d()(this,t),u=f()(this,g()(t).call(this,e)),v()(h()(u),"onAnswer",function(e){var t=u.props,n=t.addAnswer,r=t.personId;t.waitingForResponse||n(r,e)}),v()(h()(u),"onMessage",function(e){e.preventDefault();var t=u.props,n=t.addMessage,r=t.personId,a=t.surveyId,i=t.waitingForResponse,o=u.state.message;o&&!i&&(n(r,a,o),u.onClose())}),v()(h()(u),"onChangeMessage",function(e){u.setState({message:e.target.value})}),v()(h()(u),"onClose",function(){var e=u.props,t=e.username,n=e.personId,r=e.surveyId,a=e.closeDialog,i=e.completedAnalytics,o=e.abandonedAnalytics;n?i(t,n,r):o(t),a()}),v()(h()(u),"showSurveyModal",function(){var e=u.props,t=e.counter,n=e.isShowed,r=e.updateIsShowed,a=e.updateCounter;if(!n){if(5<=t&&!n){var i=Math.random();if(Object(_.O)().debug&&(i=0),i<1e-5){var o=u.props,s=o.createUser,c=o.openDialog;s(),c({name:nt});var l=new Date;l.setDate(l.getDate()+90),r(!0,l.toString())}}var d=new Date;d.setDate(d.getDate()+1),d.setHours(0,0,0,0),a(t+1,d.toString())}}),u.state={message:""},u}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.showSurveyModal()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.personId,r=t.currentPostId,a=t.username,i=t.displayedAnalytics;e.personId!==n&&i(n,a),e.currentPostId&&e.currentPostId!==r&&this.showSurveyModal()}},{key:"render",value:function(){var n=this,e=this.props,t=e.surveyId,r=e.waitingForResponse,a=this.state.message,i=J()({SurveyDialog:!0,disabled:r}),o=Ne()(Array(5)).map(function(e,t){return w.a.createElement(ye.a,{className:"survey-answer survey-answer--".concat(t+1),onClick:function(){return n.onAnswer(t+1)},label:Object(k.a)("surveyAnswer".concat(t+1)),key:t})});return w.a.createElement(ve.a,{className:i,name:nt,onClose:this.onClose,isModal:!0},w.a.createElement("div",{className:"SurveyDialog-head"},w.a.createElement(ye.a,{className:"SurveyDialog-head--close",imageSrc:Ee.a[Ee.i],onClick:this.onClose})),w.a.createElement("div",{className:"SurveyDialog-content"},t?w.a.createElement("div",{className:"step step--2"},w.a.createElement("p",{className:"step-label"},Object(k.a)("surveyLabelStep2")),w.a.createElement("div",{className:"answer-options"},w.a.createElement("textarea",{onChange:this.onChangeMessage,value:a,placeholder:Object(k.a)("surveyTextareaPlaceholder"),maxLength:240,required:!0}),w.a.createElement(ye.a,{type:"button",className:"survey-done btn btn-main",label:Object(k.a)("surveySubmit"),onClick:this.onMessage}))):w.a.createElement("div",{className:"step step--1"},w.a.createElement("p",{className:"step-label"},Object(k.a)("surveyLabelStep1")),w.a.createElement("div",{className:"answer-options"},o))))}}]),t}(y.Component));at.__docgenInfo={description:"",methods:[{name:"onAnswer",docblock:null,modifiers:[],params:[{name:"answer",type:null}],returns:null},{name:"onMessage",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onChangeMessage",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"showSurveyModal",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SurveyDialog",props:{createUser:{type:{name:"func"},required:!0,description:""},openDialog:{type:{name:"func"},required:!0,description:""},addAnswer:{type:{name:"func"},required:!0,description:""},addMessage:{type:{name:"func"},required:!0,description:""},closeDialog:{type:{name:"func"},required:!0,description:""},updateCounter:{type:{name:"func"},required:!0,description:""},updateIsShowed:{type:{name:"func"},required:!0,description:""},displayedAnalytics:{type:{name:"func"},required:!0,description:""},completedAnalytics:{type:{name:"func"},required:!0,description:""},abandonedAnalytics:{type:{name:"func"},required:!0,description:""},personId:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},surveyId:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""},waitingForResponse:{type:{name:"bool"},required:!1,description:""},currentPostId:{type:{name:"string"},required:!1,description:""},isShowed:{type:{name:"bool"},required:!1,description:""},counter:{type:{name:"number"},required:!1,description:""}}};var it=Object(F.b)(function(e){var t=e.survey,n=e.user,r=e.ui,a=e.postsData;return{isShowed:t.get("isShowed"),counter:t.get("counter"),personId:t.get("personId"),surveyId:t.get("surveyId"),username:n.get("username"),waitingForResponse:r.spinner.get("survey",{}).loading,currentPostId:a.getIn(["currentPost","id"])}},{createUser:rt.j,openDialog:be.C,addAnswer:rt.g,addMessage:rt.h,closeDialog:be.u,updateCounter:rt.l,updateIsShowed:rt.m,completedAnalytics:rt.i,abandonedAnalytics:rt.f,displayedAnalytics:rt.k})(at);function ot(e){var t=e.path,n=e.postAdConfig,r=e.children;return e.forceSafe||function(e){var t=e&&!e.isEmpty()&&e.toJS();return!(!t||!t.showsAds)}(n)?w.a.createElement("div",null,r(t)):null}ot.__docgenInfo={description:"AdSafetySwitch controls post level ad properties and logic",methods:[],displayName:"AdSafetySwitch",props:{path:{type:{name:"number"},required:!1,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},children:{type:{name:"func"},required:!1,description:""},forceSafe:{type:{name:"bool"},required:!1,description:""}}};var st=n("yFeA");n("4KxA");function ct(e){var t=e.viewPortWidth,n=e.post;return Object(_.W)()||t<768||n.get("isAd")?null:w.a.createElement("div",{className:"BottomAd-container"},w.a.createElement(ot,{path:Z.m,postAdConfig:n.get("adConfig")},function(e){return w.a.createElement(st.a,{adsEnabled:!0,path:e,refresh:!0,slotTargeting:Object(oe.h)(n),shouldLazyLoad:!0})}))}ct.__docgenInfo={description:"",methods:[],displayName:"BottomAd",props:{post:{type:{name:"object"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""}}};function lt(e){var t=e.post;return t.get("isAd")?null:w.a.createElement("div",{className:"Taboola-bottomad"},w.a.createElement(ot,{path:Z.A,postAdConfig:t.get("adConfig")},function(e){return w.a.createElement(st.a,{key:"taboola-".concat(t.get("id")),adsEnabled:!0,path:e,className:"Taboola-ad",shouldLazyLoad:!0})}))}var dt=Object(F.b)(function(e){return{viewPortWidth:e.display.getIn(["viewPort","width"])}})(ct);n("//e9");lt.__docgenInfo={description:"",methods:[],displayName:"BottomTaboolaAd",props:{post:{type:{name:"object"},required:!0,description:""}}};var ut=lt,pt=(n("a/1F"),n("xypG")),mt=n("+qLk");n("7znt");function ft(e){var t=e.isAnnouncement,n=J()({"promoted-label":!0,"announcement-label":t,"promoted-hover":!t});return w.a.createElement("span",{className:n,onClick:!t&&function(e){e.preventDefault(),Object(_.db)(Z.i)},title:"learn more about promoted posts"},Object(k.a)("promotedText",t))}ft.defatulProps={isAnnouncement:!1},ft.__docgenInfo={description:"",methods:[],displayName:"PromotedLabel",props:{isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var gt=n("y/zE"),ht=n("9rNq"),bt=n("p5w4");function vt(e){var t,n=e.onReport,r=e.onClick,a=e.isReported,i=e.isLoggedIn,o=e.ElementType,s=e.reportType,c=e.id,l=e.isMature,d=e.className,u=ae()(e,["onReport","onClick","isReported","isLoggedIn","ElementType","reportType","id","isMature","className"]),p=J()((t={},v()(t,d,d),v()(t,"disabled",a),t));return w.a.createElement(o,m()({className:p,onClick:function(e){if(e.preventDefault(),e.stopPropagation(),r&&r(e),a)return!1;n(s,c,l,i)}},u),w.a.createElement(T.W,{className:"icon fill",name:T.w,width:"32",height:"32",fillColor:"#B4B9C2"}),w.a.createElement("span",{className:"label"},Object(k.a)(a?"reported":"report")))}vt.defaultProps={ElementType:"button"};vt.__docgenInfo={description:"",methods:[],displayName:"ReportDropDownOption",props:{ElementType:{defaultValue:{value:"'button'",computed:!1},type:{name:"string"},required:!1,description:""},onReport:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""},isReported:{type:{name:"bool"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isMature:{type:{name:"bool"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},reportType:{type:{name:"enum",value:[{value:"import { DIALOG_NAME, REPORT_TYPE_COMMENT, REPORT_TYPE_POST } from 'components/Report';",computed:!0},{value:"import { DIALOG_NAME, REPORT_TYPE_COMMENT, REPORT_TYPE_POST } from 'components/Report';",computed:!0}]},required:!0,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""}}};var yt=Object(F.b)(function(e,t){var n=e.user,r=e.report,a=t.reportType,i=t.id;return{isLoggedIn:!!n.get("isLoggedIn"),isReported:a===B.c&&!!r.get("reportedPosts",{})[i]||a===B.b&&!!r.get("reportedComments",{})[i]}},function(a){return{onReport:function(e,t,n,r){a(Object(bt.h)({type:e,id:t,isMature:n})),r&&a(Object(be.C)({name:B.a}))}}})(vt),Et=(n("HCTt"),function(e){function a(){var e,o;d()(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o=f()(this,(e=g()(a)).call.apply(e,[this].concat(n))),v()(h()(o),"download",function(){var e=o.props,t=e.isAlbum,n=e.postId,r=e.postTitle;t?Object(_.db)("".concat(A.L,"/a/").concat(n,"/zip")):Object(_.db)("".concat(A.L,"/download/").concat(n,"/").concat(encodeURIComponent(r)))}),v()(h()(o),"removeFromPublic",function(){(0,o.props.onRemoveFromPublic)({name:I.E})}),v()(h()(o),"navigateToEditPage",function(){var e=o.props,t=e.history,n=e.postId,r=e.isAlbum,a=e.isEditBeta,i=Object(oe.e)(n,r);if(a)return t.push(i);Object(_.db)(i)}),o}return p()(a,e),l()(a,[{key:"render",value:function(){var e=this.props,t=e.postId,n=e.isMature,r=e.hideReport,a=e.isOwner;return w.a.createElement("div",{className:"Gallery-Options"},w.a.createElement(B.d,{type:B.c}),w.a.createElement(ht.a,{className:"Gallery-OptionsMenu Dropdown--btn",dropdownIcon:w.a.createElement(T.W,{name:T.k,width:"32",height:"32"})},w.a.createElement("button",{type:"button",onClick:this.download},w.a.createElement(T.W,{className:"icon stroke",name:T.h,width:"32",height:"32"}),w.a.createElement("span",{className:"label"},Object(k.a)("download"))),!r&&w.a.createElement(yt,{reportType:B.c,id:t,isMature:n}),a&&w.a.createElement(w.a.Fragment,null,w.a.createElement("button",{type:"button",onClick:this.navigateToEditPage},w.a.createElement(T.W,{className:"icon stroke",name:T.j,width:"32",height:"32"}),w.a.createElement("span",{className:"label"},Object(k.a)("editPost"))),w.a.createElement("button",{type:"button",onClick:this.removeFromPublic},w.a.createElement(T.W,{className:"icon stroke",name:T.p,width:"32",height:"32"}),w.a.createElement("span",{className:"label"},Object(k.a)("removeFromPublic"))))))}}]),a}(w.a.Component)),_t={onRemoveFromPublic:be.C};Et.__docgenInfo={description:"",methods:[{name:"download",docblock:null,modifiers:[],params:[],returns:null},{name:"removeFromPublic",docblock:null,modifiers:[],params:[],returns:null},{name:"navigateToEditPage",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryOptions",props:{postId:{type:{name:"string"},required:!0,description:""},postTitle:{type:{name:"string"},required:!0,description:""},isMature:{type:{name:"bool"},required:!0,description:""},hideReport:{type:{name:"bool"},required:!0,description:""},isAlbum:{type:{name:"bool"},required:!0,description:""},isOwner:{type:{name:"bool"},required:!0,description:""},onRemoveFromPublic:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},isEditBeta:{type:{name:"bool"},required:!1,description:""}}};var Ct=Object(te.c)(Object(F.b)(function(e){var t=e.postsData,n=e.user,r=!t.getIn(["currentPost","inGallery"]),a=n.get("username")===t.getIn(["currentPost","account","username"],"").toLowerCase();return r||(t.getIn(["currentPost","isAd"])||a)&&(r=!0),{postTitle:t.getIn(["currentPost","title"]),postId:t.getIn(["currentPost","id"]),isMature:!!t.getIn(["currentPost","isMature"]),hideReport:r,isAlbum:t.getIn(["currentPost","isAlbum"]),isOwner:a,isEditBeta:!!n.getIn(["flags","desktopEditPageBeta"])}},_t),E.h)(Et),Ot=(n("SeDK"),function(e){function n(e){var t;return d()(this,n),t=f()(this,g()(n).call(this,e)),v()(h()(t),"setElementPosition",function(){(0,t.props.setByLInePosition)(parseInt(t.elm.getBoundingClientRect().top+Object(_.L)(),10))}),v()(h()(t),"onProfileClick",function(e){(0,t.props.onProfileClick)(t.getUsername(),e)}),v()(h()(t),"onUserProfileClick",function(){return t.onProfileClick("Username Byline")}),v()(h()(t),"onAvatarProfileClick",function(){return t.onProfileClick("Avatar Byline")}),t.elm=w.a.createRef(),t}return p()(n,e),l()(n,[{key:"getUsername",value:function(){var e=this.props.username;return e.toLowerCase()===A.u?A.v:e}},{key:"isImgurAccount",value:function(){return this.getUsername()===A.v}},{key:"componentDidMount",value:function(){var e=this.props.currentPostViewingSummaryAnalytics;this.setElementPosition(),e()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.postId,r=t.currentPostViewingSummaryAnalytics;this.setElementPosition(),e.postId!==n&&r()}},{key:"render",value:function(){var t=this,e=this.props,n=e.createdAt,r=e.isPromoted,a=e.views,i=e.platform,o=e.inGallery,s=e.children,c=new Date(n),l=this.getUsername(),d=this.isImgurAccount(),u=J()({"Info-Wrapper":!0,"hidden-post":!o});return w.a.createElement("div",{className:"Gallery-Byline",ref:function(e){t.elm=e}},l&&w.a.createElement(ue,{className:"author-link",username:l,onClick:this.onAvatarProfileClick},w.a.createElement(gt.a,{username:l,displayUsername:l,className:"Avatar".concat(d?" Avatar--imgur":"")})),w.a.createElement("div",{className:u},w.a.createElement("div",{className:"Info"},l&&w.a.createElement(ue,{className:"author-name",username:l,onClick:this.onUserProfileClick})),!r&&w.a.createElement("div",{className:"Meta"},w.a.createElement("span",null,Object(Ae.h)(a)," ","Views"),w.a.createElement("span",{className:"delimiter"},""),w.a.createElement("span",{title:c},Object(Pe.d)(c)),i&&i.toLowerCase()!==A.x&&w.a.createElement(w.a.Fragment,null,w.a.createElement("span",{className:"delimiter"},""),w.a.createElement("span",null,"via"," ",w.a.createElement("a",{className:"platform bold",href:"/apps"},Object(Ae.e)(i)))))),w.a.createElement(Ct,null),s)}}]),n}(w.a.Component));Ot.defaultProps={isPromoted:!1,handleFollow:function(e){return Object(_.j)('Follow "'.concat(e,'"?'))}};Ot.__docgenInfo={description:"",methods:[{name:"getUsername",docblock:null,modifiers:[],params:[],returns:null},{name:"isImgurAccount",docblock:null,modifiers:[],params:[],returns:null},{name:"setElementPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"onProfileClick",docblock:null,modifiers:[],params:[{name:"location",type:null}],returns:null},{name:"onUserProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onAvatarProfileClick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryByline",props:{isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},handleFollow:{defaultValue:{value:'(username) => confirm(`Follow "${username}"?`)',computed:!1},type:{name:"func"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},createdAt:{type:{name:"string"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""},platform:{type:{name:"string"},required:!1,description:""},setByLInePosition:{type:{name:"func"},required:!0,description:""},currentPostViewingSummaryAnalytics:{type:{name:"func"},required:!0,description:""},prevPost:{type:{name:"object"},required:!1,description:""},nextPost:{type:{name:"object"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},inGallery:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"array"},required:!1,description:""}}};var St=Object(F.b)(function(e){var t=e.postsData;return{prevPost:t.get("prevPost"),nextPost:t.get("nextPost"),inGallery:t.getIn(["currentPost","inGallery"])}},{currentPostViewingSummaryAnalytics:ne.W,setByLInePosition:ne.Ab,onProfileClick:ee.X})(Ot);n("XF+e");function It(e){var t=e.accolades,n=e.onClick;return w.a.createElement("div",{className:"AccoladesBadge"},t.map(function(e,t){return w.a.createElement("div",{key:t,className:J()(v()({"AccoladesBadge-item":!0},"AccoladesBadge-item-".concat(t),!0)),onClick:n,title:"This post has been awarded the ".concat(e.get("name")," Accolade")},w.a.createElement(xe.a,{imageUrl:e.get("image_url"),imageName:e.get("name"),background:0<t}))}))}It.__docgenInfo={description:"",methods:[],displayName:"AccoladesBadge",props:{accolades:{type:{name:"object"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var kt=n("Et25"),wt=function(e){function t(){return d()(this,t),f()(this,g()(t).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.accolades,n=e.openDialogAction;return t&&0!==t.size?w.a.createElement("div",{className:"Gallery-AccoladesBadge"},w.a.createElement(It,{accolades:t,onClick:function(){n({name:ke.a,eventSource:S.a.CLICKED_BADGE})}})):null}}]),t}(w.a.Component);wt.__docgenInfo={description:"",methods:[],displayName:"GalleryAccoladesBadge",props:{accolades:{type:{name:"object"},required:!1,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""}}};var At=Object(F.b)(function(e){var t=e.postsData;return{accolades:Object(kt.b)(t.getIn(["currentPostMeta","accolades","available"]),t.getIn(["currentPostMeta","post","accolades_counts"]))}},{openDialogAction:be.C})(wt);n("OQdq");function Pt(e){var t=e.post,n=e.transformationTitleStyle,r={postId:t.get("id"),username:t.getIn(["account","username"],""),createdAt:t.get("createdAt"),views:t.get("views"),platform:t.get("platform"),isPromoted:t.get("isAd")},a=t.get("title"),i=!a||!a.length;return w.a.createElement("div",{className:"Gallery-Header"},w.a.createElement("div",{style:n,className:"Gallery-Title".concat(80<t.get("title").length?" long":"")},t.get("isAd")&&w.a.createElement(ft,{isAnnouncement:t.get("isAnnouncement")}),!i&&w.a.createElement("div",{className:"row"},w.a.createElement("span",null,t.get("title")),w.a.createElement(de,{header:!0}))),w.a.createElement(St,r,i&&w.a.createElement(de,{header:!0})),w.a.createElement(At,null))}Pt.__docgenInfo={description:"",methods:[],displayName:"GalleryHeader",props:{post:{type:{name:"object"},required:!0,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""}}};var Tt=n("26Ob"),jt=n("1coQ"),Nt=n("CG6i"),Dt=n("cG8M"),xt=n("aYmD"),qt="a",Mt="iframe",Rt={hashtag:qt,mention:qt,url:qt,iframe:Mt},Bt={hashtag:function(e){return"/t/".concat(e.get("tag"))},mention:function(e){return"/user/".concat(e.get("username"))},url:function(e){return e.get("url")},iframe:function(e){return e.get("attributes").reduce(function(e,t,n){return e+="".concat(n,'="').concat(t,'" ')},"")}};var Ut=n("ej/z");n("nFdL");function Lt(e){var t=e.message,n=e.onClick;return w.a.createElement("div",{className:"loadMoreContainer"},w.a.createElement("button",{type:"button",className:"loadMore",onClick:n},w.a.createElement("div",{className:"BgHover"}),w.a.createElement("div",{className:"text"},w.a.createElement("span",null,t)," ",w.a.createElement(T.W,{name:T.L,width:"18",height:"18",alt:""}))))}Lt.__docgenInfo={description:"",methods:[],displayName:"LoadMoreButton",props:{message:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};n("0pwo");function Ft(e){var t=e.media,n=e.postMeta;return w.a.createElement("div",{className:"Gallery-ContentWrapper"},w.a.createElement(Vt,{media:t,postMeta:n}))}var Wt=function(e){function n(e){var t;return d()(this,n),t=f()(this,g()(n).call(this,e)),v()(h()(t),"loadMore",function(){var e=t.props.onLoadMore;t.state.isExtended||t.setState({isExtended:!0},e)}),v()(h()(t),"onKeyboardInteraction",function(e){return e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName)||"9"===e.key&&t.loadMore(),e}),v()(h()(t),"renderLoadMore",function(e){return w.a.createElement(Lt,{message:Object(k.a)("loadMoreImages",e),onClick:t.loadMore})}),t.state={isExtended:!1},t}return p()(n,e),l()(n,[{key:"componentDidMount",value:function(){Object(_.c)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){var t=this.props.media;e.media!==t&&this.setState({isExtended:!1})}},{key:"componentWillUnmount",value:function(){Object(_.mb)("keydown",this.onKeyboardInteraction)}},{key:"render",value:function(){var e=this.props,t=e.media,n=e.postMeta,r=e.onMainContentReady,a=e.maxWidth,i=e.zoom,o=e.isWebPSupported,s=this.state.isExtended,c=t;return s||(c=c.slice(0,I.c)),w.a.createElement(w.a.Fragment,null,c.map(function(e,t){return w.a.createElement(Gt,{maxWidth:a,key:e.get("id"),mediaItem:e,postMeta:n,onMediaReady:0===t?r:void 0,index:t,zoom:i,isWebPSupported:o})}),!s&&t.size>I.c&&this.renderLoadMore(t.size-I.c))}}]),n}(w.a.Component),Vt=Object(F.b)(function(e){var t=e.ui,n=e.agent;return{maxWidth:t.gallery.get("contentWrapperWidth"),isWebPSupported:n.get(xt.r)}},{onLoadMore:ne.gb,onMainContentReady:ne.hb,zoom:Tt.b})(Wt),Gt=function(e){function t(){return d()(this,t),f()(this,g()(t).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.mediaItem,n=e.onMediaReady,r=e.index,a=e.maxWidth,i=e.zoom,o=e.isWebPSupported,s=t.toJS(),c=s.id,l=s.isVideo,d=s.meta,u=s.src,p=s.animationType,m=s.url,f=s.width,g=s.height,h=Object(Ut.a)(a,f,g),b=J()({"Gallery-Content--media":!0,"Gallery-Content--unconstrained":!Object(Ut.b)(f,g)}),v=u.image;return o&&p===I.o&&(v=u.webPImage),w.a.createElement("div",{className:"Gallery-Content--mediaContainer"},w.a.createElement("div",{className:b},l?w.a.createElement(Dt.a,{src:u,animationType:p,playVideo:u.playVideo,handleCanPlay:n,onError:n,controls:!0,hash:c,isFirst:0===r,width:f,height:g,maxHeight:h}):w.a.createElement(Nt.a,{hash:c,thumbSrc:v,originalSrc:m,onLoad:n,onError:n,withOriginalImage:!0,width:f,height:g,maxHeight:h,zoom:i})),d.description&&w.a.createElement(zt,{description:t.getIn(["meta","description"]),textAnnotations:t.getIn(["meta","text_annotations"])}))}}]),t}(w.a.Component);function zt(e){var t,n=e.description,r=e.textAnnotations;return t=r?w.a.createElement("div",{dangerouslySetInnerHTML:function(e,t){var n=e.split("");return{__html:t.filter(function(e,t){return t in Rt}).reduce(function(r,e,a){return e.forEach(function(e){var t=e.get("indices").get(0),n=e.get("indices").get(1)-1;switch(Rt[a]){case qt:return r[t]="<".concat(qt,' target="_blank" href="').concat(Bt[a](e),'">').concat(r[t]),void(r[n]="".concat(r[n],"</").concat(qt,">"));case Mt:r[t]="<".concat(Mt," ").concat(Bt[a](e),"></").concat(Mt,">")}}),r},n).join("")}}(n,r)}):w.a.createElement(jt.a,null,n),w.a.createElement("div",{className:"Gallery-Content--descr"},t)}Wt.defaultProps={onMediaReady:function(){}},Ft.__docgenInfo={description:"",methods:[],displayName:"GalleryPostContent",props:{media:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""}}},Wt.__docgenInfo={description:"",methods:[{name:"loadMore",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"renderLoadMore",docblock:null,modifiers:[],params:[{name:"count",optional:!1,type:null}],returns:null}],displayName:"PostDefaultView",props:{onMediaReady:{defaultValue:{value:"() => {}",computed:!1},required:!1},media:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},onLoadMore:{type:{name:"func"},required:!0,description:""},onMainContentReady:{type:{name:"func"},required:!0,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""}}},Gt.__docgenInfo={description:"",methods:[],displayName:"PostDefaultViewMedia",props:{mediaItem:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},onMediaReady:{type:{name:"func"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""}}},zt.__docgenInfo={description:"",methods:[],displayName:"PostDefaultViewDescription",props:{description:{type:{name:"string"},required:!0,description:""},textAnnotations:{type:{name:"object"},required:!1,description:""}}};n("yzGh");function Ht(e){var t=e.backgroundHash,n=e.children,r=e.tagLink,a=e.onClick,i="linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url(".concat(A.M,"/").concat(t,"_d.jpg?maxwidth=200&fidelity=grand)");return w.a.createElement(ie.b,{className:"TagPill",to:r,style:{background:i},onClick:a},n)}function Kt(e){var t=e.tags,n=e.onTagInteracted,r=e.isMainContentReady;return w.a.createElement("div",{className:"Gallery-Content--tags"},r&&t.map(function(e){var t=e.get("tag").replace(" ","_");return w.a.createElement(Ht,{key:t,backgroundHash:e.get("background_id"),tagLink:"/t/".concat(t),onClick:function(){return n(t)}},e.get("display")||e.get("tag"))}))}Ht.defaultProps={onClick:function(){}};Kt.__docgenInfo={description:"",methods:[],displayName:"GalleryTags",props:{tags:{type:{name:"object"},required:!0,description:""},onTagInteracted:{type:{name:"func"},required:!0,description:""},isMainContentReady:{type:{name:"bool"},required:!(Ht.__docgenInfo={description:"",methods:[],displayName:"TagPill",props:{onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},backgroundHash:{type:{name:"string"},required:!1,description:""},tagLink:{type:{name:"string"},required:!1,description:""},children:{type:{name:"union",value:[{name:"array"},{name:"string"}]},required:!1,description:""}}}),description:""}}};var Yt=Object(F.b)(function(e){return{isMainContentReady:!!e.postsData.get("isMainContentReady")}},{onTagInteracted:ne.kb})(Kt);n("y/VL");function Jt(e){var t=e.post,n=e.transformationTitleStyle,r=t.get("tags");return w.a.createElement("div",{className:"Gallery-Content"},w.a.createElement(Pt,{post:t,transformationTitleStyle:n}),w.a.createElement(Ft,{postMeta:t.get("meta"),media:t.get("media")}),r&&!!r.size&&w.a.createElement(Yt,{tags:r}))}Jt.__docgenInfo={description:"",methods:[],displayName:"GalleryContent",props:{post:{type:{name:"object"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""}}};var Qt=n("FP0a"),Xt=n.n(Qt),Zt=n("DzJC"),$t=n.n(Zt),en=n("KmZl"),tn=n("A9fp"),nn=n("fcmQ");n("wT/c");function rn(e){var t=e.key,n=e.postId,r=e.cover,a=e.title,i=e.gallerySize,o=e.isPromoted,s=e.onMouseEnter,c=e.onMouseLeave,l=e.onClick,d=e.isActive,u=e.isAnnouncement;return w.a.createElement(ce,{className:"SidebarPost".concat(d?" active":""),onMouseEnter:s,onMouseLeave:c,onClick:function(){l(o,i,t)},postId:n},w.a.createElement("div",{className:"hover-bg"}),w.a.createElement("div",{className:"Thumbnail"},1<i&&w.a.createElement("span",{className:"counter"},i),w.a.createElement("img",{src:r,loading:"lazy",width:64,height:64})),w.a.createElement("div",{className:"description"},o&&w.a.createElement(ft,{isAnnouncement:u}),w.a.createElement("span",{className:"label"},Object(Ae.m)(a,I.C))))}rn.__docgenInfo={description:"",methods:[],displayName:"SidebarPost",props:{key:{type:{name:"string"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},cover:{type:{name:"string"},required:!1,description:""},gallerySize:{type:{name:"number"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""},onMouseEnter:{type:{name:"func"},required:!1,description:""},onMouseLeave:{type:{name:"func"},required:!1,description:""},isActive:{type:{name:"bool"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var an=function(e){function n(e){var t;return d()(this,n),t=f()(this,g()(n).call(this,e)),v()(h()(t),"handleAdUpdate",function(){(0,t.props.handleAdUpdate)(t.container.current.clientHeight)}),t.callback=t.callback.bind(h()(t)),t.state={show:!1},t.container=w.a.createRef(),t.mutationObserver=new MutationObserver(t.handleAdUpdate.bind(h()(t))),t.resizeObserver=new ResizeObserver(t.handleAdUpdate.bind(h()(t))),t}return p()(n,e),l()(n,[{key:"componentDidMount",value:function(){this.mutationObserver.observe(this.container.current,{childList:!0,subtree:!0,attributes:!0}),this.resizeObserver.observe(this.container.current)}},{key:"componentDidUpdate",value:function(){this.handleAdUpdate()}},{key:"componentWillUnmount",value:function(){this.mutationObserver.disconnect(),this.resizeObserver.disconnect()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.classNames,a=n.postId,i=n.adsEnabled,o=n.forceSafe;return this.state.show!==t.show||r!==e.classNames||a!==e.postId||i!==e.adsEnabled||o!==e.forceSafe}},{key:"callback",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var t=this,e=this.props,n=e.classNames,r=e.forceSafe;return w.a.createElement("div",{ref:this.container,className:n,style:{display:this.state.show?"flex":"none"}},w.a.createElement(ot,{path:this.props.slotPath,postAdConfig:this.props.postAdConfig,forceSafe:r},function(e){return w.a.createElement(st.a,{adsEnabled:t.props.adsEnabled,path:e,refresh:!0,slotTargeting:t.props.slotTargeting,callback:t.callback})}))}}]),n}(w.a.Component);an.defaultProps={handleAdUpdate:function(){}},an.__docgenInfo={description:"",methods:[{name:"callback",docblock:null,modifiers:[],params:[],returns:null},{name:"handleAdUpdate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SidebarAd",props:{handleAdUpdate:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},slotPath:{type:{name:"number"},required:!1,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},slotTargeting:{type:{name:"object"},required:!1,description:""},classNames:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},forceSafe:{type:{name:"bool"},required:!1,description:""}}};var on=n("enaV"),sn=n("Bw9V"),cn=n("vuO0"),ln=n("ukqn");function dn(e){var t=e.isIncludeIcon,n=e.copy;return w.a.createElement(w.a.Fragment,null,t&&w.a.createElement("span",{role:"img","aria-label":"fire",className:"emoji"},""),n)}dn.__docgenInfo={description:"",methods:[],displayName:"TitleComponent",props:{isIncludeIcon:{type:{name:"bool"},required:!1,description:""},copy:{type:{name:"any"},required:!0,description:""}}};var un=n("lQn5");function pn(c){return function(e){function t(e){var s;return d()(this,t),s=f()(this,g()(t).call(this,e)),v()(h()(s),"recognizeRenderComponent",function(){var e=s.props,t=e.streamSection,n=e.match.params,r=e.history,a=e.setRecircSortType,i=e.searchQuery;if(n.tagName)s.setState({Component:function(a){var e=function(e){function t(e){var n;return d()(this,t),n=f()(this,g()(t).call(this,e)),v()(h()(n),"TitleComponent",function(){var e=n.state.sort,t=n.props.streamDisplayName;return w.a.createElement(dn,{copy:Object(k.a)("recircTitleTag".concat(e),Object(Ae.n)(t,24)),isIncludeIcon:e===mt.B})}),n.state={Component:null,sort:mt.B},n}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.streamSort;this.setState({Component:Object(cn.a)(!(n&&n.size),!1)(function(e){return w.a.createElement(a,m()({Title:t.TitleComponent},e))}),sort:mt.N[mt.D].includes(r)?r:mt.B})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;if(!e)return null;var t=this.props,n=t.match.params.tagName,r=t.setInitialGalleryState;return w.a.createElement(e,{setGalleryParams:function(){return r(Object(on.d)(n))}})}}]),t}(w.a.Component);e.displayName="WithSidebarTagHOC(".concat(Object(ln.b)(a),")");return Object(te.c)(Object(F.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSort:n.get("streamSort"),streamDisplayName:n.get("streamDisplayName")}},{setInitialGalleryState:sn.O}),E.h)(e)}(c)}),a(I.D.TAG);else if((n.username||Object(_.w)().startsWith("/account/favorites/"))&&n.galleryId)s.setState({Component:function(s){var e=function(e){function n(e){var t;return d()(this,n),t=f()(this,g()(n).call(this,e)),v()(h()(t),"getCopyTitle",function(){return w.a.createElement(w.a.Fragment,null,w.a.createElement("span",null,t.props.username||t.props.match.params.username),Object(k.a)("recircTitleFavorites"))}),v()(h()(t),"TitleComponent",function(){return w.a.createElement(dn,{copy:t.getCopyTitle(),isIncludeIcon:!1})}),t.state={Component:null},t}return p()(n,e),l()(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.match.params,a=e.history,i=e.isFoldersFetched,o=e.isOwner;i||(o?this.props.fetchFolders():this.props.fetchPublicFolders(r.username)),this.setState({Component:Object(un.a)(!(n&&n.size&&"PUSH"===a.action))(function(e){return w.a.createElement(s,m()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;if(!e)return null;var t=this.props,n=t.username,r=t.isOwner;return w.a.createElement(e,{username:n,isOwner:r})}}]),n}(w.a.Component);e.displayName="WithSidebarFavoriteHOC(".concat(Object(ln.b)(s),")");return Object(te.c)(E.h,Object(F.b)(function(e,t){var n,r=e.posts,a=e.favorites,i=e.account,o=e.user,s=t.match;if(t.history.location.pathname.startsWith("/account/favorites/"))n=o.get("username");else{var c,l=s.params,d=l.username?l.username.toLowerCase():null;n=(c=d?i.getIn(["accounts",d]):i.get("accounts").first())?c.get("username"):d}return{posts:r.get("posts"),username:n,isOwner:o.get("username")===n,isFoldersFetched:a.get("isFoldersFetched")}},{fetchPublicFolders:We.s,fetchFolders:We.q}))(e)}(c)}),a(I.D.FAVORITE);else if(i&&"POP"===r.action)s.setState({Component:function(r){var e=function(e){function n(e){var t;return d()(this,n),t=f()(this,g()(n).call(this,e)),v()(h()(t),"TitleComponent",function(){return w.a.createElement(dn,{copy:Object(k.a)("recircTitleSearch",Object(Ae.n)(t.props.searchQuery,24)),isIncludeIcon:!1})}),t.state={Component:null},t}return p()(n,e),l()(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({Component:Object(cn.a)(!0,!1)(function(e){return w.a.createElement(r,m()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this,t=this.state.Component;return t?w.a.createElement(t,{setGalleryParams:function(){return e.props.setInitialGalleryState(Object(on.c)(e.props.searchQuery))}}):null}}]),n}(w.a.Component);e.displayName="WithSidebarSearchHOC(".concat(Object(ln.b)(r),")");return Object(te.c)(Object(F.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),searchQuery:n.get("searchQuery")}},{setInitialGalleryState:sn.O}),E.h)(e)}(c)}),a(I.D.SEARCH);else{var o=I.D.MOST_VIRAL;switch(t){case mt.G:o=I.D.USER_SUB;break;case mt.F:o=I.D.TOP_GALLERY}a(o),s.setState({Component:function(o){var e=function(e){function t(e){var a;return d()(this,t),a=f()(this,g()(t).call(this,e)),v()(h()(a),"getTitleCopy",function(){var e=a.props,t=e.streamSection,n=e.streamSort,r=e.streamWindow;return t===mt.F?Object(k.a)("recircTitle".concat(t).concat(r)):[mt.G,mt.t,mt.v].includes(t)?Object(k.a)("recircTitle".concat(t).concat(n)):Object(k.a)("recircTitle".concat(mt.t).concat(mt.B))}),v()(h()(a),"TitleComponent",function(){return w.a.createElement(dn,{copy:a.getTitleCopy(),isIncludeIcon:a.props.streamSort===mt.B&&a.props.streamSection!==mt.F})}),a.state={Component:null},a}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.streamSection,a=e.history,i=!(n&&n.size&&[mt.F,mt.G,mt.t,mt.v].includes(r)&&"PUSH"===a.action);this.setState({Component:Object(cn.a)(i,!1)(function(e){return w.a.createElement(o,m()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this,t=this.state.Component;return t?w.a.createElement(t,{setGalleryParams:function(){return e.props.setInitialGalleryState(Object(on.b)())}}):null}}]),t}(w.a.Component);e.displayName="WithSidebarHPHOC(".concat(Object(ln.b)(o),")");return Object(te.c)(Object(F.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSection:n.get("streamSection"),streamSort:n.get("streamSort"),streamWindow:n.get("streamWindow")}},{setInitialGalleryState:sn.O}),E.h)(e)}(c)})}}),s.state={Component:null},s}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.recognizeRenderComponent()}},{key:"componentDidUpdate",value:function(e){var t=this.props.posts;e.posts.size&&!t.size&&this.recognizeRenderComponent()}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;return e?w.a.createElement(e,null):null}}]),t}(w.a.Component)}var mn=n("Ywtv"),fn=n("Y22u"),gn=function(e){function n(e){var t;return d()(this,n),(t=f()(this,g()(n).call(this,e))).impressionTimer=null,t.iframeRef=null,t.writeIframe=t.writeIframe.bind(h()(t)),t}return p()(n,e),l()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.data,r=t.promotedPostProxyPixelAction;if(n){var a=n.impressionUrl;a&&(this.impressionTimer=Object(_.xb)(function(){e.iframeRef&&Object(fn.a)(e.iframeRef)&&(Object(_.W)()&&Object(nn.m)(a)?r(a):Object(nn.c)(a),Object(_.h)(e.impressionTimer))},800))}}},{key:"componentWillUnmount",value:function(){Object(_.h)(this.impressionTimer)}},{key:"writeIframe",value:function(e){if(e){this.iframeRef=e;var t,n,r,a,i=this.props.data,o=e.contentDocument;switch(Object(mn.a)(i,"contents.0.data.customData.adType")){case"hash":case"native":n="".concat(A.M,"/").concat(Object(mn.a)(i,"contents.0.data.customData.hash"),".jpg"),r=Object(mn.a)(i,"contents.0.data.customData.link"),a=Object(mn.a)(i,"contents.0.data.customData.title"),t='<a href="'.concat(r,'" rel="nofollow" target="_blank" title="').concat(a,'"><img src="').concat(n,'" title="').concat(a,'" alt="').concat(a,'" border="0" width="300" height="250"></a>');break;case"html":t=Object(mn.a)(i,"contents.0.data.customData.html");break;default:t=Object(mn.a)(i,"contents.0.body")}o.open(),o.write(t),o.close()}}},{key:"render",value:function(){return this.props.data?w.a.createElement("div",{className:"Top320 MedRec ad-slot"},w.a.createElement("iframe",{ref:this.writeIframe,className:"Gallery-Sidebar-CompanionAd",title:"companion ad",width:"300",height:"250",marginWidth:"0",marginHeight:"0",hspace:"0",vspace:"0",scrolling:"no",frameBorder:"0",seamless:"seamless",sandbox:"allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox"})):null}}]),n}(w.a.Component);gn.__docgenInfo={description:"",methods:[{name:"writeIframe",docblock:"This method in combination with it being a ref is a bit of a hack to allow for writing\ncontent to a src-less iframe that companion ads can execute scripts inside of them which\nis something not allowed by React's dangerouslySetInnerHTML because it uses innerHTML\n@param {node} frame",modifiers:[],params:[{name:"frame",description:null,type:{name:"node"},optional:!1}],returns:null,description:"This method in combination with it being a ref is a bit of a hack to allow for writing\ncontent to a src-less iframe that companion ads can execute scripts inside of them which\nis something not allowed by React's dangerouslySetInnerHTML because it uses innerHTML"}],displayName:"CompanionAd",props:{data:{type:{name:"object"},required:!1,description:""},promotedPostProxyPixelAction:{type:{name:"func"},required:!0,description:""}}};var hn=Object(F.b)(null,{promotedPostProxyPixelAction:ne.lb})(gn),bn=(n("7TkL"),en.$recircElmHeight+en.$recircElmMargin);var vn=function(e){function t(e){var a;return d()(this,t),a=f()(this,g()(t).call(this,e)),v()(h()(a),"scrollHandler",$t()(function(){a.setState({positionY:a.sidebarWrapper.current.getBoundingClientRect().top})},50)),v()(h()(a),"getElementHeights",function(){var e=a.props.postOrder,t=a.state.elementHeights;return e.size===t.length?t:Array(e.size).fill(bn)}),v()(h()(a),"scrollToCurrentPost",function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(a.postsComp&&a.postsComp.scrollable&&0<=a.props.postIndex){var t=a.props.postIndex*bn-a.postsComp.scrollable.scrollTop;if(!t)return;if(Math.abs(t)>4*bn)a.postsComp.scrollable.classList[e?"remove":"add"]("without-smoothScroll"),a.postsComp.scrollable.scrollTop=a.props.postIndex*bn;else{a.postsComp.scrollable.classList.add("without-smoothScroll");var n=a.postsComp.scrollable.firstChild;n.addEventListener("transitionend",a.onTransitionEnd),n.style.transform="translate(0, ".concat(-1*t,"px)"),n.classList.add("scroll")}}}),v()(h()(a),"onTransitionEnd",function(e){var t=a.postsComp.scrollable.firstChild;e.target===t&&(a.postsComp.scrollable.scrollTop=a.props.postIndex*bn,t.style.transform="translate(0, 0)",t.classList.remove("scroll"),t.removeEventListener("transitionend",a.onTransitionEnd))}),v()(h()(a),"handlePostClick",function(e,t){(0,a.props.setCurrentPostIndexAction)(t),a.props.postRecircInteractedAnalytics(t+1,e.get("isAd"),e.get("imageCount"),nn.n[a.props.recircSortType])}),v()(h()(a),"updateElementHeight",function(n,r){a.setState(function(e){var t=e.elementHeights;return t[n]=r,{elementHeights:t}})}),v()(h()(a),"handleTopAdUpdate",function(e){a.setState({topAdClassNames:J()({Top320:!0,MedRec:250<=e,"ad-slot":!0})})}),v()(h()(a),"receiveMessage",function(e){e&&e.data&&"string"==typeof e.data&&e.data.match(/enablePremiumStickyMode/)&&a.setState({isPremiumStickyMode:!0})}),a.postsComp=w.a.createRef(),a.sidebarWrapper=w.a.createRef(),a.state={elementHeights:[],topAdClassNames:"Top320 ad-slot",positionY:0,isPremiumStickyMode:!1},a}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.removeAdTilesFromStreamAction;e.posts.size&&t(),Object(_.c)("scroll",this.scrollHandler),Object(_.c)("message",this.receiveMessage)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.posts,r=t.postOrder,a=t.removeAdTilesFromStreamAction,i=t.post,o=this.state,s=o.elementHeights,c=o.isPremiumStickyMode;(!e.posts.size&&n.size||e.postIndex!==this.props.postIndex||e.isMainContentReady!==this.props.isMainContentReady)&&this.scrollToCurrentPost(0<=e.postIndex&&e.isMainContentReady),n.size>e.posts.size&&a(),r.size!==s.length&&this.setState({elementHeights:this.getElementHeights()}),i.get("id")!==e.post.get("id")&&c&&this.setState({isPremiumStickyMode:!1})}},{key:"componentWillUnmount",value:function(){(0,this.props.setCurrentPostIndexAction)(-1),Object(_.mb)("scroll",this.scrollHandler),Object(_.mb)("message",this.receiveMessage)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state,r=n.positionY,a=n.isPremiumStickyMode,i=n.topAdClassNames,o=this.props,s=o.postOrder,c=o.isLoading,l=o.post,d=o.postIndex,u=o.isMainContentReady,p=o.transformationEnabled,m=l&&l.get("id"),f=e.post&&e.post.get("id");return this.getStickyBreakpoint(t.isPremiumStickyMode)!==this.getStickyBreakpoint(a)||(t.positionY>en.$sidebarStickyBreakpoint&&r<=en.$sidebarStickyBreakpoint||(t.positionY<=en.$sidebarStickyBreakpoint&&r>en.$sidebarStickyBreakpoint||(e.postOrder!==s||e.isLoading!==c||m!==f||e.postIndex!==d||e.isMainContentReady!==u||t.topAdClassNames!==i||e.transformationEnabled!==p)))}},{key:"getStickyBreakpoint",value:function(e){var t=en.$sidebarStickyBreakpoint;return e&&this.sidebarWrapper.current&&(t-=this.sidebarWrapper.current.offsetHeight-en.$sidebarMinimumHeight),t}},{key:"render",value:function(){var r=this,e=this.props,t=e.post,a=e.posts,n=e.postOrder,i=e.moreDataFetch,o=e.isLoading,s=e.adsEnabled,c=e.Title,l=e.isWebPSupported,d=e.recircBarHeightModifier,u=e.transformationEnabled,p=this.state,m=p.topAdClassNames,f=p.positionY,g=p.isPremiumStickyMode,h={},b={};t&&(h=t.get("adConfig"),b=Object(oe.h)(t));var v=this.props.post&&this.props.post.get("id"),y=a.get(v)||this.props.post,E=this.props.isMainContentReady&&t&&0<n.size,_=this.getElementHeights(),C=this.getStickyBreakpoint(g),O=C<f,S=J()({Top:!0,Sticky:O}),I=J()({Bottom:!0,Sticky:!O}),k={top:"".concat(en.$sidebarStickyOffset-C,"px"),height:"calc(100% - ".concat(en.$sidebarStickyOffset-C,"px)")};return O&&(k.top="".concat(en.$sidebarStickyOffset,"px"),k.height="auto"),w.a.createElement("div",{ref:this.sidebarWrapper,className:"Gallery-Sidebar-Wrapper"},w.a.createElement("div",{className:S,style:k},y&&!y.get("isAd")&&w.a.createElement(an,{postId:this.props.post.get("id"),slotPath:Z.n,postAdConfig:h,adsEnabled:s,slotTargeting:b,classNames:m,handleAdUpdate:this.handleTopAdUpdate,forceSafe:u}),y&&y.get("isAd")&&w.a.createElement(hn,{data:y.get("adSource",{}).sponsored_companion}),w.a.createElement("h3",null,w.a.createElement(ie.a,{to:"/".concat(P.k)},w.a.createElement(c,null))),w.a.createElement("div",{className:"Gallery-Sidebar-Posts-Wrapper"},E&&w.a.createElement(Xt.a,{containerHeight:en.$recircBarHeight*d,elementHeight:_,className:"Gallery-Sidebar-posts Scrollbar--gray",onInfiniteLoad:i,isInfiniteLoading:o,infiniteLoadBeginEdgeOffset:200,ref:function(e){r.postsComp=e},loadingSpinnerDelegate:w.a.createElement(pt.a,{size:30})},n.map(function(e,t){var n=a.get(e.get("postId"));return w.a.createElement(En,{key:t,setHeight:function(e){return r.updateElementHeight(t,e)},index:t,height:_[t]},w.a.createElement(rn,{key:t,postId:n.get("id"),cover:function(e,t){var n="".concat(A.M,"/").concat(t);return n+=e?"_d.".concat(tn.d,"?maxwidth=").concat(tn.c,"&shape=thumb"):"b.".concat(tn.b)}(l,n.getIn(["cover","id"])||n.get("id")),title:n.get("title"),gallerySize:n.get("imageCount"),isPromoted:n.get("isAd"),onClick:function(){return r.handlePostClick(n,t)},isActive:n.get("id")===v,isAnnouncement:n.get("isAnnouncement")}))})),E&&w.a.createElement("div",{className:"fade-out"})),w.a.createElement("div",{className:I},y&&!y.get("isAd")&&w.a.createElement(an,{postId:this.props.post.get("id"),slotPath:Z.s,postAdConfig:h,adsEnabled:s,slotTargeting:b,classNames:"Bottom300 ad-slot",forceSafe:u}))))}}]),t}(w.a.Component);vn.defaultProps={Title:function(){return""}};vn.__docgenInfo={description:"",methods:[{name:"getElementHeights",docblock:null,modifiers:[],params:[],returns:null},{name:"scrollToCurrentPost",docblock:null,modifiers:[],params:[{name:"isSmoothScroll",type:null}],returns:null},{name:"onTransitionEnd",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handlePostClick",docblock:null,modifiers:[],params:[{name:"post",type:null},{name:"index",type:null}],returns:null},{name:"updateElementHeight",docblock:null,modifiers:[],params:[{name:"index",type:null},{name:"height",type:null}],returns:null},{name:"handleTopAdUpdate",docblock:null,modifiers:[],params:[{name:"elementHeight",type:null}],returns:null},{name:"receiveMessage",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getStickyBreakpoint",docblock:null,modifiers:[],params:[{name:"isPremiumStickyMode",type:null}],returns:null}],displayName:"GallerySidebar",props:{Title:{defaultValue:{value:"() => ''",computed:!1},type:{name:"func"},required:!1,description:""},moreDataFetch:{type:{name:"func"},required:!0,description:""},postRecircInteractedAnalytics:{type:{name:"func"},required:!0,description:""},removeAdTilesFromStreamAction:{type:{name:"func"},required:!0,description:""},setCurrentPostIndexAction:{type:{name:"func"},required:!0,description:""},posts:{type:{name:"object"},required:!1,description:""},post:{type:{name:"object"},required:!1,description:""},postOrder:{type:{name:"object"},required:!1,description:""},postIndex:{type:{name:"number"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},viewportHeight:{type:{name:"number"},required:!1,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""},recircSortType:{type:{name:"string"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},recircBarHeightModifier:{type:{name:"number"},required:!0,description:""},transformationEnabled:{type:{name:"bool"},required:!0,description:""}}};var yn=Object(te.c)(function(e){return Object(te.c)(E.h,Object(F.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSection:n.get("streamSection"),searchQuery:n.get("searchQuery")}},{setRecircSortType:ne.Eb}))(pn(e))},Object(F.b)(function(e){var t=e.postsData,n=e.posts,r=e.ad,a=e.viewportData,i=e.gallery,o=e.user,s=e.agent;return{post:t.get("currentPost"),postIndex:t.get("currentPostIndex"),recircSortType:t.get("recircSortType"),posts:n.get("posts"),postOrder:n.get("postOrder"),adsEnabled:Object(L.d)(r,o),viewportHeight:a.get("containerHeight")||1080,isMainContentReady:t.get("isMainContentReady"),isLoading:i.get("isFetching"),isWebPSupported:s.get(xt.r),recircBarHeightModifier:o.getIn(["subscription","isSubscribed"])?2:1,transformationEnabled:r.getIn(["transformation","enabled"])}},{postRecircInteractedAnalytics:ne.jb,removeAdTilesFromStreamAction:ne.pb,setCurrentPostIndexAction:ne.Bb}))(vn),En=function(e){function n(e){var t;return d()(this,n),(t=f()(this,g()(n).call(this,e))).node=w.a.createRef(),t.state={height:t.props.height},t}return p()(n,e),l()(n,[{key:"componentDidUpdate",value:function(){var e=Math.round(this.node.getBoundingClientRect().height);this.state.height!==e&&(this.setState({height:e}),this.props.setHeight(e))}},{key:"render",value:function(){var t=this;return w.a.createElement("div",{ref:function(e){t.node=e},className:"Gallery-Sidebar-PostContainer"},this.props.children)}}]),n}(w.a.Component);En.__docgenInfo={description:"",methods:[],displayName:"SideBarPostContainer",props:{children:{type:{name:"node"},required:!0,description:""},setHeight:{type:{name:"func"},required:!0,description:""},height:{type:{name:"number"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""}}};var _n=n("kCKb"),Cn=n("lJMb");n("kVJ9");function On(e){var t=e.selected,n=void 0!==t&&t,r=ae()(e,["selected"]),a=J()({Favorite:!0,"Favorite--selected":n}),i={height:"32",width:"32",fillColor:"none",strokeColor:"#ffffff"};return w.a.createElement(T.W,m()({className:a,name:T.o},i,r))}On.__docgenInfo={description:"",methods:[],displayName:"Favorite",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}};function Sn(e){var t=e.title,n=e.children,r=e.buttonText,a=e.onButtonClick,i=e.className;return w.a.createElement("div",{className:"AccoladesTooltip ".concat(i)},w.a.createElement("div",{className:"AccoladesTooltip-title"},t),w.a.createElement("div",{className:"AccoladesTooltip-body"},n),w.a.createElement("button",{type:"button",className:"AccoladesTooltip-button",onClick:a},r))}n("xsax");Sn.defaultProps={className:"",onButtonClick:function(){}},Sn.__docgenInfo={description:"",methods:[],displayName:"AccoladesTooltip",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},onButtonClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},children:{type:{name:"element"},required:!0,description:""},buttonText:{type:{name:"string"},required:!0,description:""}}};n("wQjI");var In=function(e){function n(e){var t;return d()(this,n),t=f()(this,g()(n).call(this,e)),v()(h()(t),"showAccoladesTooltip",function(){t.tooltipDelay=Object(_.Ab)(function(){t.setState({showAccoladesTooltip:!0})},2e3)}),v()(h()(t),"hideAccoladesTooltip",function(){t.tooltipDelay&&Object(_.i)(t.tooltipDelay),t.setState({showAccoladesTooltip:!1})}),t.state={isFade:!1,showAccoladesTooltip:!1},t.timeout=null,t.tooltipDelay=null,t}return p()(n,e),l()(n,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.score,a=n.postId,i=n.inGallery,o=this.state.showAccoladesTooltip;e.score!==r&&e.postId===a&&(this.setState({isFade:!0}),this.timeout=Object(_.Ab)(function(){t.setState({isFade:!1})},150)),!i&&o&&this.setState({showAccoladesTooltip:!1})}},{key:"componentWillUnmount",value:function(){this.timeout&&Object(_.i)(this.timeout)}},{key:"renderAccolades",value:function(){var e=this.props,t=e.accolades,n=e.currentUsername,r=t?Math.min(t.size,3):0;return 0===r?w.a.createElement(T.W,{className:"emerald-icon",name:T.m,width:"32",height:"32"}):w.a.createElement(w.a.Fragment,null,t.slice(0,3).map(function(e,t){return w.a.createElement("div",{key:t,className:J()(v()({"accolade-icon":!0},"accolade-icon-".concat(r,"-").concat(t),!0))},w.a.createElement(xe.a,{username:e.get("user_selected")?n:"",imageUrl:e.get("image_url"),imageName:e.get("name")}))}))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.vote,a=n.onVote,i=n.score,o=n.isFavorite,s=n.onFavorite,c=n.hidePoints,l=n.upvoteRef,d=n.downvoteRef,u=n.favoriteRef,p=n.showEmerald,m=n.onEmeraldClick,f=n.transformationStyle,g=n.onPointsClick,h=n.accolades,b=n.inGallery,v=this.state,y=v.isFade,E=v.showAccoladesTooltip,_={item:!0,score:!0,"score-upvoted":r===we.b,"score-downvoted":r===we.a,"score-fade":y},C=!(E||(e=h)&&0<e.size),O=p&&b;return w.a.createElement("div",{className:J()({GalleryVote:!0,"GalleryVote-accoladesFromRootHighlight":E,"hidden-post":!b})},O&&w.a.createElement(w.a.Fragment,null,E&&w.a.createElement("div",{className:"GalleryVote-modal"}),w.a.createElement("div",{onMouseEnter:function(){return t.showAccoladesTooltip()},onMouseLeave:this.hideAccoladesTooltip,className:J()({"GalleryVote-accoladesButton":!0,"GalleryVote-accoladesAnimate":C,"GalleryVote-accoladesHighlight":E}),onClick:function(){return m(S.a.CLICKED_EMERALD)}},w.a.createElement("div",{className:J()({item:!0,"item-single":!0,btn:!0,"btn-emerald":!0,"btn-emerald-highlight":E})},this.renderAccolades()),E&&w.a.createElement("div",null,w.a.createElement("div",{className:"GalleryVote-accoladesBridge"}),w.a.createElement(Sn,{viewportHeight:null,title:Object(Ie.a)("accoladesTooltipTitle"),buttonText:Object(Ie.a)("accoladesTooltipBtnTxt"),className:"GalleryVote-accoladesTooltip AccoladesTooltip-engagementTooltip",onButtonClick:function(){return m(S.a.CLICKED_TOOLTIP)}},Object(Ie.a)("accoladesTooltipBody"))))),w.a.createElement("div",{className:"GalleryVote-controls",style:f},b&&w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"item btn btn-upvote",onClick:function(e){return a(e,r===we.b?we.c:we.b)}},w.a.createElement(Je,{selected:r===we.b,width:"32",height:"32",title:Object(k.a)("upvoteHint"),setRef:l})),!c&&w.a.createElement("div",{className:J()(_),onClick:g},w.a.createElement("span",{title:Object(k.a)("scoreHint")},Object(Ae.h)(i))),w.a.createElement("div",{className:"item btn btn-downvote",onClick:function(e){return a(e,r===we.a?we.c:we.a)}},w.a.createElement(Qe,{selected:r===we.a,width:"32",height:"32",title:Object(k.a)("downvoteHint"),setRef:d}))),w.a.createElement("div",{className:"item item-single btn btn-favorite GalleryVote-favorite",onClick:s},w.a.createElement(On,{selected:o,width:"32",height:"32",title:Object(k.a)("favoriteHint"),setRef:u}))))}}]),n}(w.a.Component);In.defaultProps={vote:we.c,onVote:function(){},score:0,isFaforite:!1,onFavorite:function(){},hidePoints:!1,showEmerald:!1,inGallery:!0},In.__docgenInfo={description:"",methods:[{name:"showAccoladesTooltip",docblock:null,modifiers:[],params:[],returns:null},{name:"hideAccoladesTooltip",docblock:null,modifiers:[],params:[],returns:null},{name:"renderAccolades",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryVote",props:{vote:{defaultValue:{value:"VETO",computed:!0},type:{name:"enum",value:[{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0},{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0},{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0}]},required:!1,description:""},onVote:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},score:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFaforite:{defaultValue:{value:"false",computed:!1},required:!1},onFavorite:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},hidePoints:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},showEmerald:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},inGallery:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},isFavorite:{type:{name:"bool"},required:!1,description:""},onPointsClick:{type:{name:"func"},required:!0,description:""},upvoteRef:{type:{name:"object"},required:!1,description:""},downvoteRef:{type:{name:"object"},required:!1,description:""},favoriteRef:{type:{name:"object"},required:!1,description:""},onEmeraldClick:{type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},accolades:{type:{name:"object"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!1,description:""}}};var kn=n("P5Jw"),wn=n("ooTa"),An=(n("oAby"),function(e){function a(){var e,i;d()(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i=f()(this,(e=g()(a)).call.apply(e,[this].concat(n))),v()(h()(i),"facebook",function(){var e=i.props,t=e.onFacebookShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(wn.a)(),n,r,a)}),v()(h()(i),"twitter",function(){var e=i.props,t=e.onTwitterShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(wn.a)(),n,r,a)}),v()(h()(i),"reddit",function(){var e=i.props,t=e.onRedditShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(wn.a)(),n,r,a)}),v()(h()(i),"email",function(){var e=i.props,t=e.onEmailShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(wn.a)(),n,r,a)}),v()(h()(i),"link",function(){var e=i.props,t=e.onCopyLink,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(wn.a)(),n,r,a)}),i}return p()(a,e),l()(a,[{key:"render",value:function(){return w.a.createElement("div",{className:"Gallery-Share"},w.a.createElement(ht.a,{className:"item Gallery-ShareMenu Dropdown--horizontal Dropdown--btn",dropdownIcon:w.a.createElement(T.W,{name:T.y,width:"32",height:"32"})},w.a.createElement("label",null,"Share"),w.a.createElement("button",{type:"button",onClick:this.facebook},w.a.createElement(T.W,{className:"icon icon-facebook",name:T.z,width:"32",height:"32",title:Object(k.a)("facebook")})),w.a.createElement("button",{type:"button",onClick:this.twitter},w.a.createElement(T.W,{className:"icon icon-twitter",name:T.B,width:"32",height:"32",title:Object(k.a)("twitter")})),w.a.createElement("button",{type:"button",onClick:this.reddit},w.a.createElement(T.W,{className:"icon icon-reddit",name:T.A,width:"32",height:"32",title:Object(k.a)("reddit")})),w.a.createElement("button",{type:"button",onClick:this.email},w.a.createElement(T.W,{className:"icon icon-mail",name:T.l,width:"32",height:"32",title:Object(k.a)("email")})),w.a.createElement(kn.CopyToClipboard,{text:Object(wn.a)(),onCopy:this.link},w.a.createElement("button",{type:"button"},w.a.createElement(T.W,{className:"icon icon-link",name:T.r,width:"32",height:"32",title:Object(k.a)("copyLinkToClipboard")})))))}}]),a}(w.a.Component)),Pn={onFacebookShare:ne.Hb,onTwitterShare:ne.Jb,onRedditShare:ne.Ib,onEmailShare:ne.Gb,onCopyLink:ne.V};An.__docgenInfo={description:"",methods:[{name:"facebook",docblock:null,modifiers:[],params:[],returns:null},{name:"twitter",docblock:null,modifiers:[],params:[],returns:null},{name:"reddit",docblock:null,modifiers:[],params:[],returns:null},{name:"email",docblock:null,modifiers:[],params:[],returns:null},{name:"link",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryShare",props:{postTitle:{type:{name:"string"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},postTags:{type:{name:"array"},required:!0,description:""},onFacebookShare:{type:{name:"func"},required:!0,description:""},onTwitterShare:{type:{name:"func"},required:!0,description:""},onRedditShare:{type:{name:"func"},required:!0,description:""},onEmailShare:{type:{name:"func"},required:!0,description:""},onCopyLink:{type:{name:"func"},required:!0,description:""}}};var Tn=Object(F.b)(function(e){var t=e.postsData;return{postTitle:t.getIn(["currentPost","title"]),postId:t.getIn(["currentPost","id"]),postTags:t.getIn(["currentPost","tags"]).map(function(e){return e.get("tag")}).toJS()}},Pn)(An);n("nAF4");function jn(e){var t=e.commentsCount,n=e.onClick,r=e.transformationStyle;return w.a.createElement("div",{className:"Gallery-CommentsCounter",title:Object(k.a)("commentsCounterHint"),onClick:n,style:r},w.a.createElement("div",{className:"item"},w.a.createElement(T.W,{name:T.e,width:"32",height:"32",title:"Jump to Comments"})),w.a.createElement("div",{className:"item label"},w.a.createElement("span",null,Object(Ae.h)(t))))}jn.defaultProps={commentsCount:0,onClick:function(){}},jn.__docgenInfo={description:"",methods:[],displayName:"GalleryCommentsCounter",props:{commentsCount:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""}}};var Nn=n("ErBw"),Dn=n("/iGR"),xn=(n("o9hv"),function(e){function n(e){var s;d()(this,n),s=f()(this,g()(n).call(this,e)),v()(h()(s),"setHovering",function(e){s.setState({hovering:e})}),v()(h()(s),"unhover",function(){s.setHovering(!1),Object(_.ib)("click",s.unhover)}),v()(h()(s),"setTransformation",function(e){var t=s.props,n=t.setAnimatingIn,r=t.setAnimatingOut,a=t.onClick,i=t.font,o=t.transitionEnabledPixels;Object(_.z)("TransformationFont")||Object(_.d)(Object(_.n)("link",{id:"TransformationFont",href:i,rel:"stylesheet"})),e?(n(!0),Object(_.tb)(0,0,"smooth"),o.forEach(function(e){Object(nn.c)(e)})):r(!0),Object(_.Ab)(function(){a(e)},en.$transformationFadeOutTimeMS/2),Object(_.Ab)(function(){e?n(!1):r(!1)},en.$transformationFadeOutTimeMS)});var t=!1;return Object(Dn.b)(e.name)||(Object(Dn.c)(e.name,!0,7),t=!0),s.state={hovering:t},s}return p()(n,e),l()(n,[{key:"componentDidMount",value:function(){Object(_.a)("click",this.unhover)}},{key:"componentWillUnmount",value:function(){Object(_.ib)("click",this.unhover)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.positionY,r=t.postId;n===e.positionY&&r===e.postId||this.setHovering(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isTransformed,r=t.exitIcon,a=t.enterIcon,i=t.buttonColor,o=t.tooltipTitle,s=t.tooltipDescription,c=t.tooltipStyle,l=this.state.hovering,d={};return l&&(d.filter="drop-shadow(0 0 3px rgba(".concat(i,", 0.16))")),n?w.a.createElement("img",{src:r,style:d,className:"Transformation",onMouseEnter:function(){return e.setHovering(!0)},onMouseLeave:function(){return e.setHovering(!1)},onClick:function(){return e.setTransformation(!1)},alt:Object(k.a)("exit")}):w.a.createElement("div",{className:"Transformation-wrapper"},w.a.createElement("img",{src:a,style:d,className:"Transformation",onMouseEnter:function(){return e.setHovering(!0)},onMouseLeave:function(){return e.setHovering(!1)},onClick:function(){return e.setTransformation(!0)},alt:Object(k.a)("enter")}),w.a.createElement("div",{className:"Transformation-tooltip".concat(l?" Transformation-tooltip--hovering":""),style:c},w.a.createElement("h2",null,o),w.a.createElement("p",null,s)))}}]),n}(w.a.Component));xn.__docgenInfo={description:"",methods:[{name:"setHovering",docblock:null,modifiers:[],params:[{name:"hovering",type:null}],returns:null},{name:"unhover",docblock:null,modifiers:[],params:[],returns:null},{name:"setTransformation",docblock:null,modifiers:[],params:[{name:"enabled",type:null}],returns:null}],displayName:"PromotedTransformation",props:{name:{type:{name:"string"},required:!0,description:""},isTransformed:{type:{name:"bool"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},setAnimatingIn:{type:{name:"func"},required:!0,description:""},setAnimatingOut:{type:{name:"func"},required:!0,description:""},enterIcon:{type:{name:"string"},required:!0,description:""},exitIcon:{type:{name:"string"},required:!0,description:""},buttonColor:{type:{name:"string"},required:!0,description:""},tooltipTitle:{type:{name:"string"},required:!0,description:""},tooltipDescription:{type:{name:"string"},required:!0,description:""},tooltipStyle:{type:{name:"object"},required:!0,description:""},positionY:{type:{name:"number"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},font:{type:{name:"string"},required:!0,description:""},transitionEnabledPixels:{type:{name:"arrayOf",value:{name:"string"}},required:!0,description:""}}};var qn=Object(F.b)(function(e){var t=e.ad,n=e.display,r=e.postsData;return{name:t.getIn(["transformation","name"]),isTransformed:t.getIn(["transformation","enabled"]),font:t.getIn(["transformation","font"]),enterIcon:t.getIn(["transformation","enterIcon"]),exitIcon:t.getIn(["transformation","exitIcon"]),buttonColor:t.getIn(["transformation","buttonColor"]),tooltipTitle:t.getIn(["transformation","tooltipTitle"]),tooltipDescription:t.getIn(["transformation","tooltipDescription"]),tooltipStyle:{backgroundImage:'url("'.concat(t.getIn(["transformation","tooltipBg"]),'")')},positionY:n.get("positionY"),postId:r.getIn(["currentPost","id"],""),transitionEnabledPixels:t.getIn(["transformation","enabledPixels"])}},{onClick:Nn.t,setAnimatingIn:Nn.r,setAnimatingOut:Nn.s})(xn),Mn=(n("fbUk"),function(e){function t(e){var u;return d()(this,t),u=f()(this,g()(t).call(this,e)),v()(h()(u),"handleVote",function(e,t){var n=u.props,r=n.isUserLoggedOut,a=n.showGalleryPopOverCTAAction,i=n.onVote,o=n.post,s=n.currentPostMeta,c=n.userAccoladeId,l=n.accoladeRevoked;if(r)return t===we.b?a(Cn.p,u.upvoteRef.current.parentNode):a(Cn.h,u.downvoteRef.current.parentNode);if(!c||Object(_.B)("confirm")(Object(Ie.a)("accoladesDeleteConfirm",we.e[t].toLowerCase()))){var d=e.type&&e.type.includes("key")?"Key Press":"Click";i({postId:o.get("id"),vote:t,initialVote:s.getIn(["user","vote"]),trigger:d}),t!==we.b&&c&&l({userAccoladeId:c})}}),v()(h()(u),"handleFavorite",function(e){var t=u.props,n=t.isUserLoggedOut,r=t.showGalleryPopOverCTAAction,a=t.onFavorite,i=t.post,o=t.currentPostMeta,s=t.openDialogAction;if(n)return r(Cn.i,u.favoriteRef.current.parentNode);var c=e.type&&e.type.includes("key")?"Key Press":"Click";return a(i.get("id"),!o.getIn(["user","favorite"]),i.get("isAlbum"),c),o.getIn(["user","favorite"])?void 0:s({name:I.d})}),v()(h()(u),"handleCommentsCounterClick",function(){var e=u.props,t=e.onScrollToComments,n=e.commentsListId,r=e.contentOffset,a=e.onScrollToCommentsAnalytics;t(n,r),a()}),v()(h()(u),"onKeyboardInteraction",function(e){var t=u.props,n=t.openDialogAction,r=t.showEmerald;if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;var a=u.props.currentPostMeta.getIn(["user","vote"]);switch(e.key){case")":case"0":u.handleFavorite(e);break;case"-":case"_":u.handleVote(e,a===we.a?we.c:we.a);break;case"+":case"=":u.handleVote(e,a===we.b?we.c:we.b);break;case"*":case"8":if(!r)return e;n({name:ke.a,eventSource:S.a.HOTKEY})}return e}),u.upvoteRef=w.a.createRef(),u.downvoteRef=w.a.createRef(),u.favoriteRef=w.a.createRef(),u}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){Object(_.c)("keydown",this.onKeyboardInteraction)}},{key:"componentWillUnmount",value:function(){Object(_.mb)("keydown",this.onKeyboardInteraction)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.currentPostMeta,r=e.openDialogAction,a=e.transformationStyle,i=e.showEmerald,o=e.accolades,s=e.currentUsername,c=e.showsTransformationButton;return w.a.createElement("div",{className:"Gallery-EngagementBar"},w.a.createElement("div",{className:"Gallery-EngagementBarContainer",style:{paddingBottom:0}},w.a.createElement(In,{postId:t.get("id"),vote:n.getIn(["user","vote"])||we.c,score:n.getIn(["post","point_count"])||0,onVote:this.handleVote,isFavorite:n.getIn(["user","favorite"])||!1,onFavorite:this.handleFavorite,hidePoints:t.get("isAd")||0<t.get("adType"),upvoteRef:this.upvoteRef,downvoteRef:this.downvoteRef,favoriteRef:this.favoriteRef,transformationStyle:a,showEmerald:i,onEmeraldClick:function(e){r({name:ke.a,eventSource:e})},onPointsClick:function(){return r({name:I.F})},accolades:o,currentUsername:s,inGallery:t.get("inGallery")}),c&&w.a.createElement(qn,null),w.a.createElement(Tn,null),!t.get("commentsDisabled")&&w.a.createElement(jn,{commentsCount:n.getIn(["post","comment_count"]),onClick:this.handleCommentsCounterClick,transformationStyle:a})))}}]),t}(w.a.Component));Mn.defaultProps={onFavorite:function(){},onVote:function(){},onScrollToComments:function(){}},Mn.__docgenInfo={description:"",methods:[{name:"handleVote",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"vote",type:null}],returns:null},{name:"handleFavorite",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCommentsCounterClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"GalleryEngagementBar",props:{onFavorite:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onVote:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onScrollToComments:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},currentPostMeta:{type:{name:"object"},required:!0,description:""},onScrollToCommentsAnalytics:{type:{name:"func"},required:!1,description:""},commentsListId:{type:{name:"string"},required:!1,description:""},contentOffset:{type:{name:"number"},required:!0,description:""},showGalleryPopOverCTAAction:{type:{name:"func"},required:!0,description:""},isUserLoggedOut:{type:{name:"bool"},required:!1,description:""},setRef:{type:{name:"func"},required:!1,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},showEmerald:{type:{name:"bool"},required:!0,description:""},accolades:{type:{name:"object"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!1,description:""},userAccoladeId:{type:{name:"number"},required:!1,description:""},accoladeRevoked:{type:{name:"func"},required:!1,description:""},showsTransformationButton:{type:{name:"bool"},required:!0,description:""}}};var Rn=Object(F.b)(function(e,t){var n=e.ui,r=e.user,a=e.postsData,i=e.ad,o=!a.getIn(["currentPost","isAd"],!1),s=Object(L.d)(i,r),c=(new Date).getTime(),l={};return i.getIn(["transformation","enabled"])&&(l={borderColor:"rgb(".concat(i.getIn(["transformation","primaryColor"]),")"),boxShadow:"0 0 8px rgba(".concat(i.getIn(["transformation","primaryColor"]),", 0.32)")}),{contentOffset:n.cover.get("collapsed",0),isUserLoggedOut:!r.get("isLoggedIn"),transformationStyle:l,showEmerald:o,currentPostMeta:a.get("currentPostMeta"),accolades:Object(kt.b)(a.getIn(["currentPostMeta","accolades","available"]),a.getIn(["currentPostMeta","post","accolades_counts"]),a.getIn(["currentPostMeta","user","accolades","accolade_id"])),currentUsername:r.get("username",""),userAccoladeId:a.getIn(["currentPostMeta","user","accolades","accolade_id"]),showsTransformationButton:s&&(t.post.getIn(["adConfig","showsAds"])||t.post.get("inGallery")&&!t.post.get("isAd")||i.getIn(["transformation","promotedPostIds"]).includes(t.post.get("id")))&&c>i.getIn(["transformation","startTime"])&&(c<i.getIn(["transformation","endTime"])||i.getIn(["transformation","enabled"]))}},{onFavorite:ne.ab,onVote:ne.Ob,onScrollToComments:_n.g,onScrollToCommentsAnalytics:ne.zb,showGalleryPopOverCTAAction:Cn.r,openDialogAction:be.C,accoladeRevoked:qe.c})(Mn),Bn=n("J4zp"),Un=n.n(Bn),Ln=n("JPcv"),Fn=n("f6ut"),Wn=n("66r6"),Vn=n("QIN0"),Gn=n("DfB6"),zn=(n("eeI0"),n("/y0k")),Hn=(n("WYmX"),function(e){function t(e){var r;return d()(this,t),r=f()(this,g()(t).call(this,e)),v()(h()(r),"handleFileInput",function(e){(0,r.props.startCommentUpload)(e.target.files),r.inputRef.value=""}),v()(h()(r),"clickHandler",function(e){var t=r.props,n=t.onNonEmeraldClick;return t.isEmerald?r.inputRef.click(e):n(r.wrapperRef)}),r.inputRef=w.a.createRef(),r.wrapperRef=w.a.createRef(),r}return p()(t,e),l()(t,[{key:"render",value:function(){var t=this,e=this.props,n=e.disabled,r=e.title;return w.a.createElement("div",{className:"CommentUploadButton",disabled:n,ref:function(e){t.wrapperRef=e}},w.a.createElement(T.W,{className:"icon fill",name:T.a,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:this.clickHandler,title:r}),w.a.createElement("input",{id:"file-input",className:"CommentUpload-fileInput",type:"file",name:"files",ref:function(e){t.inputRef=e},accept:zn.a,onChange:this.handleFileInput,disabled:n}))}}]),t}(w.a.Component));Hn.defaultProps={title:Object(k.a)("commentUploadButton")},Hn.__docgenInfo={description:"",methods:[{name:"handleFileInput",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"clickHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"CommentUploadButton",props:{title:{defaultValue:{value:"copy('commentUploadButton')",computed:!0},type:{name:"string"},required:!1,description:""},startCommentUpload:{type:{name:"func"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""},onNonEmeraldClick:{type:{name:"func"},required:!1,description:""},isEmerald:{type:{name:"bool"},required:!1,description:""}}};var Kn=n("lIU6"),Yn=function(e){function t(e){var s;return d()(this,t),s=f()(this,g()(t).call(this,e)),v()(h()(s),"textareaElem",null),v()(h()(s),"adminBadgeElem",null),v()(h()(s),"handleSubmit",function(e){e.preventDefault();var t=s.state,n=t.value,r=t.hasAdminBadge,a=t.maxChars,i=t.uploadedFile,o=Object(Ae.a)(n);(0===o||a<o)&&!i||(0,s.props.onCreate)({comment:n,hasAdminBadge:r,file:i})}),v()(h()(s),"handleClose",function(e){var t=s.state.value;if(!("click"!==e.type&&0<Object(Ae.a)(t))){var n=s.props.onClose;n&&n()}}),v()(h()(s),"handleKeyDown",function(e){e.key===C.a?s.handleSubmit(e):[C.d,C.c].includes(e.key)&&s.handleClose(e)}),v()(h()(s),"onChange",function(e){var t=s.state.value;s.updateTextareaHeight(s.textareaElem);var n=e?e.target.value:t,r=Object(Ae.a)(n);s.setState({characterCount:r,value:n})}),v()(h()(s),"setFocusIn",function(){s.setState({focused:!0})}),v()(h()(s),"setFocusOut",function(){s.setState({focused:!1})}),v()(h()(s),"setTextareaElem",function(e){s.textareaElem=e}),v()(h()(s),"onCheckboxChange",function(e){s.setState({hasAdminBadge:e.target.checked})}),v()(h()(s),"updateTextareaHeight",function(e){e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))}),v()(h()(s),"onGIFSelect",function(e){var t=s.state.value,n="".concat(t).concat(e),r=Object(Ae.a)(n);s.setState({value:n,characterCount:r,hasMedia:!0})}),v()(h()(s),"removeUploadedFile",function(){var e=s.state,t=e.maxChars,n=e.fileObjURL;Object(_.rb)(n),s.setState({uploadedFile:null,maxChars:t+A.t,fileObjURL:"",hasMedia:!1})}),v()(h()(s),"getReactionPreview",function(e){var t=Object(Wn.h)(e);if(t)return w.a.createElement(Kn.b,{src:t,onClose:function(){return s.removeReactionMedia(t)}})}),v()(h()(s),"removeReactionMedia",function(e){var t=s.state.value;s.setState({value:t.replace(e,""),hasMedia:!1},s.onChange)}),v()(h()(s),"focusOnTextArea",function(){s.textareaElem.focus()}),v()(h()(s),"startCommentUpload",function(e){if(e&&e[0]){var t=s.state.maxChars;s.setState({uploadedFile:e[0],fileObjURL:Object(_.o)(e[0]),maxChars:t-A.t,hasMedia:!0})}}),v()(h()(s),"showUploadPopOver",function(e){return(0,s.props.showPopOver)(Cn.e,e)}),s.state={characterCount:0,value:"",focused:!!e.autoFocus,hasAdminBadge:!1,maxChars:Re.f,fileObjURL:"",uploadedFile:null,hasMedia:!1},s}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.updateTextareaHeight(this.textareaElem)}},{key:"componentDidUpdate",value:function(e){var t=e.isLoading,n=this.props.isLoading,r=this.state.uploadedFile;t&&!n&&(r&&this.removeUploadedFile(),this.setState({characterCount:0,value:"",hasAdminBadge:!1}))}},{key:"renderUploadedFile",value:function(e,t){return w.a.createElement(w.a.Fragment,null,w.a.createElement(Kn.b,{src:t,isVideo:Object(Vn.d)(e.name),onClose:this.removeUploadedFile,isUpload:!0}),w.a.createElement(Kn.a,null))}},{key:"getCommentMedia",value:function(){var e=this.state,t=e.value,n=e.uploadedFile,r=e.fileObjURL;return n?this.renderUploadedFile(n,r):this.getReactionPreview(t)}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.characterCount,r=e.focused,a=e.maxChars,i=e.hasMedia,o=a-n,s=o<0,c=this.props,l=c.placeholder,d=c.isCommunityTeam,u=c.autoFocus,p=c.onClose,m=c.transformationCreateStyles,f=c.isEmerald,g=c.isLoading,h=!1;0!==n&&!s||i||(h=!0);var b=J()({"Comment-create-textarea":!0,over:s}),v=J()({"Comment-create-charCount":!0,over:s}),y=J()({"Create-submitBtn":!0,disabled:h}),E=J()({"Comment-create-bar":!0,focused:r}),_={};return _=i?{commentUpload:Object(k.a)("commentPreviewAlreadyExists"),reactionGIF:Object(k.a)("commentPreviewAlreadyExists")}:{commentUpload:Object(k.a)("commentUploadButton"),reactionGIF:Object(k.a)("gifOnHover")},w.a.createElement("div",{className:"Comment-create",style:m},w.a.createElement("form",{className:"Comment-create-form",onSubmit:this.handleSubmit},w.a.createElement("div",{className:E,onClick:this.focusOnTextArea},p&&w.a.createElement(T.W,{name:T.f,onClick:this.handleClose,width:"25",height:"25",viewBox:"0 0 32 32",className:"Comment-create-close"}),w.a.createElement("textarea",{ref:this.setTextareaElem,autoFocus:u,className:b,value:t,onChange:this.onChange,onKeyDown:this.handleKeyDown,onFocus:this.setFocusIn,onBlur:this.setFocusOut,placeholder:l}),this.getCommentMedia()),w.a.createElement("div",{className:"Comment-create-summary"},w.a.createElement("a",{className:"Comment-create-rules",target:"_blank",href:"/rules"},Object(k.a)("readCommunityRules")),w.a.createElement("div",{className:"Comment-create-actions"},w.a.createElement(Hn,{disabled:i,startCommentUpload:this.startCommentUpload,title:_.commentUpload,onNonEmeraldClick:this.showUploadPopOver,isEmerald:f}),w.a.createElement(Gn.a,{disabled:i,onSelect:this.onGIFSelect,title:_.reactionGIF}),d&&w.a.createElement(Fn.a,{className:"Comment-create-adminbadge",text:Object(k.a)("showAdminBadgeCheckbox"),handleOnChange:this.onCheckboxChange,checkmarkPosition:"right"}),w.a.createElement("div",{className:v},"".concat(o)),w.a.createElement(ye.c,{onClick:this.handleSubmit,className:y,isLoading:g,label:Object(k.a)("post")})))))}}]),t}(w.a.PureComponent);var Jn={showPopOver:Cn.r};Yn.defaultProps={placeholder:Object(k.a)("commentWrite")},Yn.__docgenInfo={description:"",methods:[{name:"handleSubmit",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setFocusIn",docblock:null,modifiers:[],params:[],returns:null},{name:"setFocusOut",docblock:null,modifiers:[],params:[],returns:null},{name:"setTextareaElem",docblock:null,modifiers:[],params:[{name:"domElem",type:null}],returns:null},{name:"onCheckboxChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"updateTextareaHeight",docblock:null,modifiers:[],params:[{name:"textareaElem",type:null}],returns:null},{name:"onGIFSelect",docblock:null,modifiers:[],params:[{name:"GifURL",type:null}],returns:null},{name:"removeUploadedFile",docblock:null,modifiers:[],params:[],returns:null},{name:"renderUploadedFile",docblock:null,modifiers:[],params:[{name:"file",type:null},{name:"fileObjURL",type:null}],returns:null},{name:"getCommentMedia",docblock:null,modifiers:[],params:[],returns:null},{name:"getReactionPreview",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null},{name:"removeReactionMedia",docblock:null,modifiers:[],params:[{name:"href",type:null}],returns:null},{name:"focusOnTextArea",docblock:null,modifiers:[],params:[],returns:null},{name:"startCommentUpload",docblock:null,modifiers:[],params:[{name:"files",type:null}],returns:null},{name:"showUploadPopOver",docblock:null,modifiers:[],params:[{name:"wrapperRef",type:null}],returns:null}],displayName:"CommentForm",props:{placeholder:{defaultValue:{value:"copy('commentWrite')",computed:!0},type:{name:"string"},required:!1,description:""},onCreate:{type:{name:"func"},required:!0,description:""},onClose:{type:{name:"func"},required:!1,description:""},isCommunityTeam:{type:{name:"bool"},required:!1,description:""},autoFocus:{type:{name:"bool"},required:!1,description:""},transformationCreateStyles:{type:{name:"object"},required:!1,description:""},isEmerald:{type:{name:"bool"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},showPopOver:{type:{name:"func"},required:!1,description:""}}};var Qn=Object(F.b)(function(e){var t=e.roles,n=e.ui,r=e.user,a=e.ad,i={};return a.getIn(["transformation","enabled"])&&(i={borderColor:"rgb(".concat(a.getIn(["transformation","primaryColor"]),")"),boxShadow:"0 0 8px rgba(".concat(a.getIn(["transformation","primaryColor"]),", 0.32)")}),{isCommunityTeam:t&&t.get("isCommunityTeam"),isLoading:n.spinner.get("createPostComment")&&n.spinner.get("createPostComment").loading,isEmerald:r.getIn(["subscription","isSubscribed"]),transformationCreateStyles:i}},Jn)(Yn),Xn=n("hIyu");n("G6+a");function Zn(e){var t=e.avatar,n=e.username,r=e.isSubComment,a=e.onUserProfileClick;return w.a.createElement("div",{className:"GalleryComment-avatar-bar"},w.a.createElement("div",{className:"avatar"},w.a.createElement(ue,{username:n,onClick:a},w.a.createElement("span",{style:{backgroundImage:"url(".concat(t,")")},title:n}))),r&&w.a.createElement("div",{className:"verticalLine"}))}Zn.__docgenInfo={description:"",methods:[],displayName:"CommentAvatarBar",props:{avatar:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onUserProfileClick:{type:{name:"func"},required:!0,description:""}}};var $n=n("0WSl");n("WHPL");function er(e){var t=e.username,n=e.hasOpBadge,r=e.hasAdminBadge,a=e.onUserProfileClick,i=J()({"byline-badge":!0,"byline-badge-admin":r,"byline-badge-op":n&&!r});return w.a.createElement("div",{className:"GalleryComment-byLine"},w.a.createElement("div",{className:"Meta"},w.a.createElement(ue,{className:"author-name",username:t,onClick:a}),(n||r)&&w.a.createElement("div",{className:i},r&&w.a.createElement("a",{className:"admin-badge-link",href:$n.a,target:"_blank",rel:"noopener noreferrer"},w.a.createElement(T.W,{name:T.H,width:"16",height:"16"}),w.a.createElement("span",{className:"byline-badge-text"},Object(k.a)("adminBadge"))),n&&r&&w.a.createElement("div",{className:"delimiter byline-badge-text"},"|"),n&&w.a.createElement("span",{className:"byline-badge-text"},"OP"))))}function tr(e){var t=e.postId,n=e.commentId,r=e.parentId,a=e.username,i=e.currentUsername,o=e.muteUserData,s=e.setDeleteCommentData,c=e.openDeleteCommentDialog,l=e.isLoggedIn,d=e.history,u=i&&a.toLowerCase()===i.toLowerCase(),p=l&&!u&&w.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),o(a,he.b,n)}},w.a.createElement(T.W,{className:"icon",name:T.u,width:"32",height:"32",fillColor:"#B4B9C2"}),w.a.createElement("span",{className:"label"},Object(k.a)("commentMuteUser"))),m=l&&u&&w.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),s(n),c()}},w.a.createElement(T.W,{className:"icon",name:T.C,width:"32",height:"32",fillColor:"#B4B9C2"}),w.a.createElement("span",{className:"label"},Object(k.a)("commentDelete"))),f=w.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),d.push(Object(oe.c)(t,n))}},w.a.createElement(T.W,{className:"icon stroke",name:T.r,width:"32",height:"32",fillColor:"#B4B9C2"}),w.a.createElement("span",{className:"label"},Object(k.a)("commentPermalink"))),g=!!r&&w.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),d.push(Object(oe.d)(t,n))}},w.a.createElement(T.W,{className:"icon stroke",name:T.r,width:"32",height:"32",fillColor:"#B4B9C2"}),w.a.createElement("span",{className:"label"},Object(k.a)("commentContext")));return w.a.createElement(ht.a,{className:"CommentDropdown-menu Dropdown--btn",dropdownIcon:w.a.createElement(T.W,{name:T.k,width:"24",height:"24"})},f,g,p,m,w.a.createElement(yt,{reportType:bt.d,id:n,isMature:!1}))}er.__docgenInfo={description:"",methods:[],displayName:"CommentByline",props:{postId:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},createdAtDate:{type:{name:"string"},required:!0,description:""},platform:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},hasOpBadge:{type:{name:"bool"},required:!1,description:""},hasAdminBadge:{type:{name:"bool"},required:!1,description:""},onUserProfileClick:{type:{name:"func"},required:!0,description:""},parentId:{type:{name:"number"},required:!1,description:""},rank:{type:{name:"number"},required:!1,description:""}}},tr.defaultProps={currentUsername:""};tr.__docgenInfo={description:"",methods:[],displayName:"CommentDropDownMenu",props:{currentUsername:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},muteUserData:{type:{name:"func"},required:!0,description:""},openDeleteCommentDialog:{type:{name:"func"},required:!0,description:""},setDeleteCommentData:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},parentId:{type:{name:"number"},required:!1,description:""}}};var nr=Object(te.c)(Object(F.b)(function(e){var t=e.user;return{isLoggedIn:!!t.get("isLoggedIn"),currentUsername:t.get("username","")}},{muteUserData:ee.L,openDeleteCommentDialog:Be.x,setDeleteCommentData:Be.B}),E.h)(tr),rr=(n("Dk6w"),function(e){function t(e){var i;return d()(this,t),i=f()(this,g()(t).call(this,e)),v()(h()(i),"randomVector",function(){return 2*Math.random()-1}),v()(h()(i),"createParticles",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!i.shouldCreateParticles)return e;for(var t=Ne()(e),n=0;n<6;n++)t.push({x:i.canvas.width/2+100*i.randomVector(),y:i.canvas.height/2,size:Math.floor(Math.random()*Math.floor(8)),opacity:1,vectorX:i.randomVector(),vectorY:i.randomVector()});return t}),v()(h()(i),"drawParticles",function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=i.context,n=Ne()(e),r=0;r<n.length;r++){t.beginPath(),t.arc(n[r].x,n[r].y,.5*n[r].size,0,2*Math.PI);var a=t.createRadialGradient(n[r].x,n[r].y,.5*n[r].size,n[r].x+.1,n[r].y,.1);a.addColorStop(.2143,"rgba(45, 217, 244, ".concat(n[r].opacity,")")),a.addColorStop(1,"rgba(22, 191, 118, ".concat(n[r].opacity,")")),t.fillStyle=a,t.filter="none",t.closePath(),t.fill(),t.beginPath(),t.arc(n[r].x,n[r].y,.5*n[r].size+2,0,2*Math.PI),t.fillStyle="rgba(67, 208, 189, ".concat(n[r].opacity,")"),t.filter="blur(".concat(8,"px)"),t.closePath(),t.fill()}return n}),v()(h()(i),"moveParticles",function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=Ne()(e),n=0;n<t.length;n++)t[n].x+=.8*t[n].vectorX,t[n].y+=.8*t[n].vectorY,t[n].size=Math.max(0,t[n].size-.005),t[n].opacity=Math.max(0,t[n].opacity-.012),t[n].opacity<=0&&t.splice(n,1);return t}),v()(h()(i),"clearFrame",function(){var e=i.context;e&&e.clearRect&&e.clearRect(0,0,i.canvas.width,i.canvas.height)}),v()(h()(i),"draw",function(){if(i.counter++,i.shouldAnimate){if(i.clearFrame(),!i.particles.length&&!i.shouldCreateParticles)return i.stopAnimation(!0);i.particles=i.moveParticles(i.particles),i.drawParticles(i.particles),i.lastFrameId=Object(_.pb)(function(){return i.draw()})}}),v()(h()(i),"startAnimation",function(e){if(i.counter=0,!i.canvas)return e;i.stopAnimation(!0),i.shouldAnimate=!0,i.shouldCreateParticles=!0,i.particles=[],i.particles=i.createParticles(i.particles),i.animationTimer=Object(_.xb)(function(){i.particles=i.createParticles(i.particles)},250),i.draw(i.particles)}),v()(h()(i),"stopAnimation",function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0])return Object(_.f)(i.lastFrameId),i.clearFrame(),i.particles=[],i.shouldAnimate=!1,void Object(_.h)(i.animationTimer);i.shouldCreateParticles=!1}),i.canvas=Object(y.createRef)(),i.context=null,i.particles=[],i.animationTimer=null,i.lastFrameId=null,i.shouldAnimate=!1,i.shouldCreateParticles=!0,i}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.context=this.canvas.getContext("2d")}},{key:"componentWillUnmount",value:function(){this.stopAnimation(!0)}},{key:"render",value:function(){var t=this,e=this.props.rank;return w.a.createElement("div",{className:"badge-best-wrapper"},w.a.createElement("canvas",{className:"badge-best-animation",ref:function(e){t.canvas=e}}),w.a.createElement(ie.a,{to:"/leaderboard",className:"badge-best",onMouseEnter:this.startAnimation,onMouseLeave:function(){return t.stopAnimation()}},w.a.createElement("span",null,Object(k.a)("bestComment",e))))}}]),t}(w.a.PureComponent));rr.__docgenInfo={description:"",methods:[{name:"randomVector",docblock:null,modifiers:[],params:[],returns:null},{name:"createParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"drawParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"moveParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"clearFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[],returns:null},{name:"startAnimation",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"stopAnimation",docblock:null,modifiers:[],params:[{name:"immediately",type:null}],returns:null}],displayName:"CommentLeaderboardBadge",props:{rank:{type:{name:"number"},required:!0,description:""}}};n("Lz/x");var ar=function(e){function i(){var e,n;d()(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=f()(this,(e=g()(i)).call.apply(e,[this].concat(r))),v()(h()(n),"collapseReplies",function(e){var t=n.props.toggleReplies;e.stopPropagation(),t(!1)}),v()(h()(n),"extendReplies",function(e){var t=n.props.toggleReplies;e.stopPropagation(),t(!0)}),n}return p()(i,e),l()(i,[{key:"render",value:function(){var e=this.props,t=e.replies,n=e.isExpanded,r=e.onReply,a=e.showReply,i=e.vote,o=e.pointCount,s=e.hasMoreComments,c=e.loadMore,l=e.createdAtDate,d=e.platform,u=e.isAdmin,p=e.postId,m=e.commentId,f=e.parentId,g=e.username,h=e.rank,b=new Date(l),v=Object(Ae.e)(d);return w.a.createElement("div",{className:"GalleryComment-actions"},w.a.createElement("div",{className:"points ".concat(i)},w.a.createElement("span",null,"".concat(Object(Ae.h)(o)," pts"))),w.a.createElement("span",{className:"date",title:b},Object(Pe.d)(b),v&&u&&w.a.createElement(w.a.Fragment,null,"via"," ",w.a.createElement("a",{className:"platform bold",href:"/apps"},v))),!s&&w.a.createElement(w.a.Fragment,null,w.a.createElement("button",{type:"button",onClick:this.collapseReplies,className:J()({hide:!n,"toggle-replies":!0,"actions-btn":!0})},w.a.createElement(T.W,{name:T.S,width:"16",height:"16",fillColor:"#B4B9C2"}),w.a.createElement("span",null,Object(k.a)("commentCollapseReplies"))),w.a.createElement("button",{type:"button",onClick:this.extendReplies,className:J()({hide:n||!t.size,"toggle-replies":!0,"actions-btn":!0})},w.a.createElement(T.W,{name:T.T,width:"16",height:"16",fillColor:"#B4B9C2"}),w.a.createElement("span",null,Object(k.a)("commentRepliesCount",t.size)))),s&&w.a.createElement("button",{type:"button",className:"load-more actions-btn",onClick:c},w.a.createElement("span",null,Object(k.a)("loadMore"))),h&&w.a.createElement(rr,{rank:h}),w.a.createElement(nr,{postId:p,commentId:m,parentId:f,username:g}),a&&w.a.createElement("button",{type:"button",className:"reply actions-btn",onClick:r},w.a.createElement(T.W,{name:T.J,width:"16",height:"16",strokeColor:"#FFFFFF"}),w.a.createElement("span",null,Object(k.a)("commentReply"))))}}]),i}(w.a.PureComponent);ar.__docgenInfo={description:"",methods:[{name:"collapseReplies",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"extendReplies",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"CommentActions",props:{toggleReplies:{type:{name:"func"},required:!0,description:""},replies:{type:{name:"object"},required:!0,description:""},isExpanded:{type:{name:"bool"},required:!1,description:""},onReply:{type:{name:"func"},required:!0,description:""},showReply:{type:{name:"bool"},required:!0,description:""},onVote:{type:{name:"func"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""},pointCount:{type:{name:"number"},required:!1,description:""},loadMore:{type:{name:"func"},required:!1,description:""},hasMoreComments:{type:{name:"bool"},required:!1,description:""},createdAtDate:{type:{name:"string"},required:!0,description:""},platform:{type:{name:"string"},required:!0,description:""},isAdmin:{type:{name:"bool"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},parentId:{type:{name:"number"},required:!1,description:""},username:{type:{name:"string"},required:!0,description:""},rank:{type:{name:"number"},required:!0,description:""}}};n("o+s0");var ir=function(e){function n(e){var t;return d()(this,n),t=f()(this,g()(n).call(this,e)),v()(h()(t),"toggleBadComments",function(){t.setState(function(e){return{expandBadComments:!e.expandBadComments}})}),v()(h()(t),"renderBadComments",function(){var e=t.props.replies.filter(function(e){return e.get("point_count")<0});return e.size?w.a.createElement("div",null,w.a.createElement("button",{className:"toggle-bad-comments",type:"button",onClick:t.toggleBadComments},w.a.createElement(T.W,{name:t.state.expandBadComments?T.S:T.T,width:"16",height:"16"}),w.a.createElement("span",null,Object(k.a)("commentToggleBadReplies",t.state.expandBadComments))),t.state.expandBadComments&&e.map(function(e){return w.a.createElement(sr,{key:e.get("id"),comment:e,isSubComment:!0,onCreateComment:t.props.onCreateComment})})):""}),t.state={expandBadComments:!1},t}return p()(n,e),l()(n,[{key:"render",value:function(){var t=this;return w.a.createElement("div",{className:"GalleryComment-replies"},this.props.replies.filter(function(e){return 0<=e.get("point_count")}).map(function(e){return w.a.createElement(sr,{key:e.get("id"),comment:e,isSubComment:!0,level:t.props.level,expandMode:t.props.expandMode,onCreateComment:t.props.onCreateComment})}),this.renderBadComments())}}]),n}(w.a.Component);ir.__docgenInfo={description:"",methods:[{name:"toggleBadComments",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBadComments",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentReplies",props:{replies:{type:{name:"object"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},level:{type:{name:"number"},required:!0,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""}}};n("GGeJ");var or=function(e){function t(e){var c;return d()(this,t),c=f()(this,g()(t).call(this,e)),v()(h()(c),"isCommentExpanded",function(e){return e.expandMode===Re.e&&e.level<Re.a&&0<e.comment.get("comments").size}),v()(h()(c),"hasMoreComments",function(){var e=c.props,t=e.level,n=e.comment;return t===Re.a&&(0<n.get("comments").size||n.get("next"))}),v()(h()(c),"toggleReplies",function(e){c.setState({expanded:e})}),v()(h()(c),"onReply",function(e){var t=c.props,n=t.isUserLoggedOut,r=t.showPopOver;if(e.stopPropagation(),n)return r(Cn.j,e.currentTarget);c.setState({reply:!0})}),v()(h()(c),"onCloseReply",function(){c.setState({reply:!1})}),v()(h()(c),"onCreate",function(e){var t=e.comment,n=e.hasAdminBadge,r=e.file,a=c.props;(0,a.onCreateComment)({comment:t,hasAdminBadge:n,parentId:a.comment.get("id"),file:r}),c.setState({reply:!1,expanded:!0})}),v()(h()(c),"onVote",function(e,t){var n=c.props,r=n.comment,a=n.onVote,i=n.isUserLoggedOut,o=n.showPopOver,s=n.vote;return e.stopPropagation(),i?o(t===we.b?Cn.f:Cn.d,e.currentTarget):a(r.get("id"),t,s)}),v()(h()(c),"onProfileClick",function(e){var t=c.props,n=t.comment;return(0,t.onProfileClick)(n.get("account_id"),e)}),v()(h()(c),"onUserProfileClick",function(){return c.onProfileClick("Username Comment")}),v()(h()(c),"onAvatarProfileClick",function(){return c.onProfileClick("Avatar Comment")}),v()(h()(c),"onContainerClick",function(e){var t=c.state.expanded;0<c.props.comment.get("comments").size&&"A"!==e.target.tagName&&c.setState({expanded:!t})}),v()(h()(c),"loadMore",function(e){var t=c.props,n=t.comment,r=t.history;e.stopPropagation(),r.push(Object(oe.d)(n.get("post_id"),n.get("id")))}),c.state={expanded:c.isCommentExpanded(c.props),reply:!1},c}return p()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.expandMode,n=this.state.expanded;e.expandMode!==t&&(n&&t<=Re.d?this.setState({expanded:!1}):!n&&this.isCommentExpanded(this.props)&&this.setState({expanded:!0}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.comment,r=e.isSubComment,a=e.opUsername,i=e.level,o=e.displayUsername,s=e.vote,c=e.expandMode,l=e.onCreateComment,d=e.postMedia,u=e.isAdmin,p=this.state,m=p.expanded,f=p.reply,g=n.getIn(["account","username"]),h=n.get("comments"),b=J()({"GalleryComment-wrapper":!0,"comment-op":g===a,"comment-admin":n.get("has_admin_badge")}),v=this.hasMoreComments();return w.a.createElement("div",{className:"GalleryComment"},w.a.createElement("div",{className:b},w.a.createElement("div",{className:"hover-background"}),w.a.createElement(Zn,{username:g,avatar:n.getIn(["account","avatar"]),isSubComment:r,onUserProfileClick:this.onAvatarProfileClick}),w.a.createElement("div",{className:"voteBar"},w.a.createElement("div",{className:"vote-btn upvote",onClick:function(e){return t.onVote(e,s===we.b?we.c:we.b)},title:Object(k.a)("upvoteHint")},w.a.createElement(Je,{selected:s===we.b,isMini:!0})),w.a.createElement("div",{className:"vote-btn down",onClick:function(e){return t.onVote(e,s===we.a?we.c:we.a)},title:Object(k.a)("downvoteHint")},w.a.createElement(Qe,{selected:s===we.a,isMini:!0}))),w.a.createElement("div",{className:"GalleryComment-container",onClick:this.onContainerClick},w.a.createElement("div",{className:"GalleryComment-content"},w.a.createElement(er,{username:g,hasOpBadge:g===a,hasAdminBadge:n.get("has_admin_badge"),onUserProfileClick:this.onUserProfileClick}),w.a.createElement("div",{className:"GalleryComment-body"},w.a.createElement(Xn.a,{expandlink:"true",opUsername:a,isLinkifyTargetMedia:!0,postMedia:d},n.get("comment"))),w.a.createElement(ar,{replies:h,toggleReplies:this.toggleReplies,isExpanded:m,onReply:this.onReply,showReply:!f&&!v,vote:s,onVote:this.onVote,pointCount:n.get("point_count"),hasMoreComments:v,loadMore:this.loadMore,createdAtDate:n.get("created_at"),platform:n.get("platform"),isAdmin:u,commentId:n.get("id"),postId:n.get("post_id"),parentId:n.get("parent_id"),username:g,rank:n.get("rank")})))),f&&w.a.createElement("div",{className:"GalleryComment-reply"},w.a.createElement("div",{className:"avatar"},w.a.createElement(gt.b,{displayUsername:o}),w.a.createElement("div",{className:"verticalLine"})),w.a.createElement(Qn,{onCreate:this.onCreate,onClose:this.onCloseReply,placeholder:Object(k.a)("commentWriteReply"),autoFocus:!0})),m&&!v&&w.a.createElement(ir,{replies:h,level:i+1,expandMode:c,onCreateComment:l}))}}]),t}(w.a.Component);or.defaultProps={level:1},or.__docgenInfo={description:"",methods:[{name:"isCommentExpanded",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"hasMoreComments",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleReplies",docblock:null,modifiers:[],params:[{name:"expand",type:null}],returns:null},{name:"onReply",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onCloseReply",docblock:null,modifiers:[],params:[],returns:null},{name:"onCreate",docblock:null,modifiers:[],params:[{name:"{\n    comment: commentString,\n    hasAdminBadge,\n    file,\n}",type:null}],returns:null},{name:"onVote",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"vote",type:null}],returns:null},{name:"onProfileClick",docblock:null,modifiers:[],params:[{name:"location",type:null}],returns:null},{name:"onUserProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onAvatarProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onContainerClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"loadMore",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Comment",props:{level:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},comment:{type:{name:"object"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onVote:{type:{name:"func"},required:!0,description:""},showPopOver:{type:{name:"func"},required:!0,description:""},opUsername:{type:{name:"string"},required:!1,description:""},isUserLoggedOut:{type:{name:"bool"},required:!1,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},postMedia:{type:{name:"object"},required:!0,description:""},isAdmin:{type:{name:"bool"},required:!0,description:""}}};var sr=Object(te.c)(Object(F.b)(function(e,t){var n=e.postsData,r=e.user,a=e.roles,i=t.comment;return{opUsername:n.getIn(["currentPost","account","username"]),postMedia:n.getIn(["currentPost","media"]),vote:n.getIn(["currentPostMeta","user","comment_votes","".concat(i.get("id"))]),isUserLoggedOut:!r.get("isLoggedIn"),displayUsername:r.get("displayUsername")||"",isAdmin:a&&a.get("isAdmin")}},{onVote:Be.C,showPopOver:Cn.r,onProfileClick:ee.X}),E.h)(or);n("q8cC");function cr(e){var t=e.count,n=void 0===t?1:t;return w.a.createElement("div",{className:"CommentsList-Placeholder-wrapper"},function(){for(var e=[],t=0;t<n;t++)e.push(w.a.createElement("div",{key:t,className:"CommentsList-Placeholder"},w.a.createElement("div",{className:"CommentsList-Placeholder-avatar-wrapper"},w.a.createElement("div",{className:"CommentsList-Placeholder-avatar"})),w.a.createElement("div",{className:"CommentsList-Placeholder-line-wrapper"},w.a.createElement("div",{className:"CommentsList-Placeholder-line"}),w.a.createElement("div",{className:"CommentsList-Placeholder-line"}),w.a.createElement("div",{className:"CommentsList-Placeholder-line"}),w.a.createElement("div",{className:"CommentsList-Placeholder-line"}))));return e}())}cr.__docgenInfo={description:"",methods:[],displayName:"CommentsPlaceholder",props:{count:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""}}};var lr=n("gjSL");n("QqH4");function dr(){return w.a.createElement("div",{className:"Comment-create"},w.a.createElement("div",{className:"Comment-create-guest"},w.a.createElement("span",{className:"placeholder"},Object(k.a)("signInToLeaveComment")),w.a.createElement("div",null,w.a.createElement(ye.b,{className:"Button signin",label:Object(k.a)("signIn"),title:Object(k.a)("signIn"),href:Object(lr.a)()}),w.a.createElement(ye.b,{className:"Button signup",label:Object(k.a)("signUp"),title:Object(k.a)("signUp"),href:Object(lr.b)()}))))}dr.__docgenInfo={description:"",methods:[],displayName:"SignInToLeaveComment"};n("B0tv");var ur=function(e){function t(e){var p;return d()(this,t),p=f()(this,g()(t).call(this,e)),v()(h()(p),"handleClickToggleForceExpanded",function(){p.state.expandMode!==Re.e?p.expandAll():p.collapseAll()}),v()(h()(p),"collapseAll",function(){p.setState(function(e){return{expandMode:Re.d-Math.abs(e.expandMode)}})}),v()(h()(p),"expandAll",function(){p.setState({expandMode:Re.e})}),v()(h()(p),"toggleBadComments",function(){p.setState(function(e){return{expandBadComments:!e.expandBadComments}})}),v()(h()(p),"fetchComments",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=p.props,r=n.id,a=n.fetchPostCommentsAction,i=n.commentId,o=n.parentContext,s=n.scrollToComments,c=n.contentOffset,l=n.galleryId,d=n.isUserLoggedIn;if(n.isUserLoaded){var u=d?Re.h:Re.i;t&&(u=Re.g),a(l,e,t,i,0!==o,u),i&&s("".concat(r,"-headline"),c)}}),v()(h()(p),"createComment",function(e){var t=e.comment,n=e.hasAdminBadge,r=void 0!==n&&n,a=e.parentId,i=void 0===a?null:a,o=e.file,s=void 0===o?null:o,c=p.props,l=c.postId;(0,c.createPostCommentAction)({imageId:l,comment:t,parentId:i,hasAdminBadge:r,file:s})}),v()(h()(p),"shouldRefetchComments",function(e){var t=p.props,n=t.postId,r=t.commentId,a=t.parentContext,i=t.isUserLoaded;return e.postId!==n||e.commentId!==r||e.parentContext!==a||e.isUserLoaded!==i}),v()(h()(p),"loadMoreHandler",function(){var e=p.props,t=e.commentsSort,n=e.postCommentsNextPageLink;p.fetchComments(t,n)}),v()(h()(p),"setPlaceholderHeight",function(){p.setState({commentsListContainerStyles:{minHeight:"".concat(p.commentsListContainer.getBoundingClientRect().height,"px")}})}),v()(h()(p),"resetPlaceholderHeight",function(){p.setState({commentsListContainerStyles:{}})}),v()(h()(p),"sortHandler",function(e){var t=p.props,n=t.resetPostCommentsAction,r=t.commentSortSelectedAction;p.setPlaceholderHeight(),n(),p.fetchComments(e),r(e)}),v()(h()(p),"onKeyboardInteraction",function(e){if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;switch(e.key){case"[":p.handleClickToggleForceExpanded(e);break;case"]":p.collapseAll()}return e}),v()(h()(p),"renderEmptyState",function(){return w.a.createElement("div",{className:"CommentsList-comments--empty"},w.a.createElement(Ee.db,{name:Ee.n,width:92}),w.a.createElement("span",null,Object(k.a)("beTheFirstToComment")))}),v()(h()(p),"renderBadComments",function(e){var t=p.state,n=t.expandBadComments,a=t.expandMode,r=e.filter(function(e){return e.get("point_count")<0});return r.size?w.a.createElement("div",null,w.a.createElement("button",{className:"toggle-bad-comments",type:"button",onClick:p.toggleBadComments},w.a.createElement(T.W,{name:n?T.S:T.T,width:"16",height:"16"}),w.a.createElement("span",null,Object(k.a)("commentToggleBadComments",n))),n&&r.entrySeq().map(function(e){var t=Un()(e,2),n=t[0],r=t[1];return w.a.createElement(sr,{key:n,comment:r,expandMode:a,onCreateComment:p.createComment})})):""}),v()(h()(p),"renderLoadingComponent",function(){var e=p.props,t=e.isMainContentReady,n=e.isLoading,r=e.isAllCommentsLoaded,a=e.parentContext;return t&&!n?!r&&!a&&w.a.createElement(Lt,{message:Object(k.a)("loadMoreComments"),onClick:p.loadMoreHandler}):w.a.createElement(cr,{count:3})}),p.commentsListContainer=Object(y.createRef)(),p.state={expandMode:e.commentId?Re.e:Re.c,expandBadComments:!1,commentsListContainerStyles:{}},p}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchComments(),Object(_.c)("keydown",this.onKeyboardInteraction)}},{key:"componentWillUnmount",value:function(){(0,this.props.resetPostCommentsAction)(),Object(_.mb)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.postId,r=t.resetPostCommentsAction,a=t.comments,i=t.commentId;this.shouldRefetchComments(e)&&(r(),this.fetchComments()),!e.commentId&&i&&this.expandAll(),e.commentId&&!i&&e.postId===n&&this.setState({expandMode:Re.d}),a.size&&!Object(Ln.is)(e.comments,a)&&this.resetPlaceholderHeight()}},{key:"render",value:function(){var a=this,e=this.props,t=e.id,n=e.comments,r=e.commentsSort,i=e.commentsSortList,o=e.postId,s=e.commentCount,c=e.isMainContentReady,l=e.isUserLoggedIn,d=e.isLoading,u=e.commentId,p=this.state,m=p.expandMode,f=p.commentsListContainerStyles,g=m===Re.e;return w.a.createElement("div",{id:t,className:"CommentsList"},l?w.a.createElement(Qn,{onCreate:this.createComment}):w.a.createElement(dr,null),w.a.createElement("div",{id:"".concat(t,"-headline"),className:"CommentsList-headline"},w.a.createElement("div",{className:"CommentsList-headline--counter"},w.a.createElement("span",null,Object(k.a)("postCommentsCounter",Object(Ae.h)(s)))),w.a.createElement("div",{className:"CommentsList-headline--expand",onClick:this.handleClickToggleForceExpanded},w.a.createElement("span",null,Object(k.a)("expandAll",g))," ",w.a.createElement(T.W,{name:g?T.O:T.Q,width:"15",height:"15",fillColor:"#DADCE2"})),w.a.createElement(ht.a,{className:"CommentsList-headline--sort",dropdownIcon:w.a.createElement(Ee.db,{name:Ee.f,width:15}),options:i,value:r,onChange:this.sortHandler})),w.a.createElement("div",{className:"CommentsList-comments",ref:function(e){a.commentsListContainer=e},style:f},u&&w.a.createElement("div",{className:"single-comment-thread"},w.a.createElement("span",null,Object(k.a)("viewingSingleComment")),w.a.createElement("p",null,w.a.createElement(ie.a,{to:"/".concat(P.j,"/").concat(o),className:"load-more"},Object(k.a)("seeRestComments")))),w.a.createElement("div",{className:"CommentsList-comments--container"},c&&0<n.size&&n.filter(function(e){return 0<=e.get("point_count")}).entrySeq().map(function(e){var t=Un()(e,2),n=t[0],r=t[1];return w.a.createElement(sr,{key:n,comment:r,expandMode:m,onCreateComment:a.createComment})}),c&&this.renderBadComments(n),!n.size&&!d&&this.renderEmptyState()),w.a.createElement("div",{className:"CommentsList-comments--loading"},this.renderLoadingComponent())))}}]),t}(w.a.Component);ur.__docgenInfo={description:"",methods:[{name:"handleClickToggleForceExpanded",docblock:null,modifiers:[],params:[],returns:null},{name:"collapseAll",docblock:null,modifiers:[],params:[],returns:null},{name:"expandAll",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleBadComments",docblock:null,modifiers:[],params:[],returns:null},{name:"fetchComments",docblock:null,modifiers:[],params:[{name:"sort",type:null},{name:"postCommentsNextPageLink",type:null}],returns:null},{name:"createComment",docblock:null,modifiers:[],params:[{name:"{\n    comment,\n    hasAdminBadge = false,\n    parentId = null,\n    file = null,\n}",type:null}],returns:null},{name:"shouldRefetchComments",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"loadMoreHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"setPlaceholderHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"resetPlaceholderHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"sortHandler",docblock:null,modifiers:[],params:[{name:"sort",type:null}],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"renderEmptyState",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBadComments",docblock:null,modifiers:[],params:[{name:"comments",type:null}],returns:null},{name:"renderLoadingComponent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentsList",props:{postId:{type:{name:"string"},required:!0,description:""},commentCount:{type:{name:"number"},required:!0,description:""},comments:{type:{name:"object"},required:!0,description:""},fetchPostCommentsAction:{type:{name:"func"},required:!0,description:""},resetPostCommentsAction:{type:{name:"func"},required:!0,description:""},createPostCommentAction:{type:{name:"func"},required:!0,description:""},commentsSort:{type:{name:"string"},required:!0,description:""},commentSortSelectedAction:{type:{name:"func"},required:!0,description:""},postCommentsNextPageLink:{type:{name:"string"},required:!1,description:""},commentsSortList:{type:{name:"array"},required:!0,description:""},id:{type:{name:"string"},required:!0,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isAllCommentsLoaded:{type:{name:"bool"},required:!1,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!0,description:""},scrollToComments:{type:{name:"func"},required:!0,description:""},contentOffset:{type:{name:"number"},required:!0,description:""},commentId:{type:{name:"string"},required:!1,description:""},parentContext:{type:{name:"number"},required:!1,description:""},galleryId:{type:{name:"string"},required:!1,description:""}}};var pr=Object(E.h)(Object(F.b)(function(e,t){var n=e.postsData,r=e.comments,a=e.ui,i=e.user,o=t.match;return{postId:n.get("currentPost").get("id"),commentCount:n.getIn(["currentPostMeta","post","comment_count"],0),commentId:(o.params||{}).commentId||null,parentContext:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.showContext,r=t.commentId;return n||(r?1:0)}(o.params),galleryId:(o.params||{}).galleryId,comments:r.get("postComments"),commentsSort:r.get("postCommentsSort"),commentsSortList:r.get("postCommentsSortList"),postCommentsNextPageLink:r.get("postCommentsNextPageLink"),isLoading:a.spinner.get("postComments",{}).loading||!1,isAllCommentsLoaded:r.get("isAllPostCommentsLoaded"),isMainContentReady:n.get("isMainContentReady"),isUserLoggedIn:i.get("isLoggedIn"),isUserLoaded:i.get("isLoaded"),contentOffset:a.cover.get("collapsed",0)}},{fetchPostCommentsAction:Be.t,resetPostCommentsAction:Be.z,createPostCommentAction:Be.r,commentSortSelectedAction:Be.p,scrollToComments:_n.g})(ur)),mr=function(e){function n(e){var t;return d()(this,n),t=f()(this,g()(n).call(this,e)),v()(h()(t),"onResize",function(e){t.updateContentWrapperWidth(e)}),v()(h()(t),"updateContentWrapperWidth",function(){(0,t.props.updateGalleryContentWrapperWidth)(t.getMaxWidth())}),v()(h()(t),"getMaxWidth",function(){var e=t.contentWrapper.current;return e&&e.getBoundingClientRect().width||mt.r}),t.contentWrapper=w.a.createRef(),t}return p()(n,e),l()(n,[{key:"componentDidMount",value:function(){Object(_.c)("resize",this.onResize),this.updateContentWrapperWidth(this.getMaxWidth())}},{key:"render",value:function(){var t=this,e=this.props,n=e.post,r=e.transformationAnimating,a=e.transformationTitleStyle,i=e.isFadeOut,o=e.style,s=e.commentsListId,c=e.isContentWrapperMount;return w.a.createElement(pt.c,{isLoading:!n},n?w.a.createElement("div",{className:"Gallery".concat(r?" Gallery--transformation":""),style:o},w.a.createElement("div",{className:"Gallery-MainContainer".concat(i?" fadeOut":"")},w.a.createElement(Rn,{post:n,commentsListId:s}),w.a.createElement("div",{className:"Gallery-contentWrapper"},w.a.createElement("div",{className:"Gallery-insideContentWrapper",ref:function(e){t.contentWrapper=e}},c&&w.a.createElement(Jt,{post:n,transformationTitleStyle:a}),c&&!n.get("commentsDisabled")&&w.a.createElement(pr,{id:s})))),w.a.createElement("div",{className:"Gallery-Sidebar"},w.a.createElement(yn,null))):w.a.createElement("div",{className:"placeholder"}))}}]),n}(w.a.Component);mr.__docgenInfo={description:"",methods:[{name:"onResize",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"updateContentWrapperWidth",docblock:null,modifiers:[],params:[],returns:null},{name:"getMaxWidth",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostContentWrapper",props:{post:{type:{name:"object"},required:!1,description:""},transformationAnimating:{type:{name:"bool"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},isFadeOut:{type:{name:"bool"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},commentsListId:{type:{name:"string"},required:!1,description:""},isContentWrapperMount:{type:{name:"bool"},required:!1,description:""},updateGalleryContentWrapperWidth:{type:{name:"func"},required:!1,description:""}}};n("CVa3");function fr(e){var t=e.style,n=e.children,r=e.showGate,a=Object(k.a)("desktopAgeGate"),i=Object(y.useState)(!1),o=Un()(i,2),s=o[0],c=o[1];return r&&!s?w.a.createElement("div",{className:"WallPage"},w.a.createElement("div",{className:"WallPage-background"}),w.a.createElement(Q.a,{minHeight:0,className:"GalleryCover",backgroundType:O.n,hideNewPostNotification:!0}),w.a.createElement("div",{className:"Wall",style:t},w.a.createElement("img",{src:Ee.a[Ee.E]}),a.text,w.a.createElement("div",{className:"Wall-choices"},w.a.createElement("a",{className:"Wall-Button Button btn-wall--no",href:"/"},a.backButton),w.a.createElement("div",{className:"Wall-Button Button btn-wall--yes",onClick:function(){return c(!0)}},a.continueButton)),w.a.createElement("div",{className:"Wall-footer"},a.terms))):n}fr.__docgenInfo={description:"",methods:[],displayName:"Wall",props:{style:{type:{name:"object"},required:!0,description:""},children:{type:{name:"element"},required:!1,description:""},showGate:{type:{name:"bool"},required:!1,description:""}}};var gr=function(e){function t(e){var l;return d()(this,t),l=f()(this,g()(t).call(this,e)),v()(h()(l),"onResize",function(e){(0,l.props.updateViewportHeightAction)(e)}),v()(h()(l),"scrollToFirstMedia",function(){var e=Object(_.L)(),t=l.props.byLinePosition;(e>=l.previousByLinePosition-26||t-25<e)&&Object(_.tb)(0,t-25)}),v()(h()(l),"onKeyboardInteraction",function(e){var t=l.props,n=t.history,r=t.newPostAction,a=t.goToPreviousPostAction,i=t.goToNextPostAction,o=t.params,s=t.toggleAudioState;if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;switch(e.key){case C.f:case C.e:l.lastNavArrow=!0,a(S.n.HOTKEY,o);break;case C.h:case C.g:l.lastNavArrow=!0,i(S.n.HOTKEY,o);break;case"`":r(),n.push("/".concat(P.s));break;case"m":case"M":s()}return e}),v()(h()(l),"retrievePost",function(e){var t=l.props,n=t.retrievePostAction,r=t.retrievePostMetaAction;n(e),r(e)}),v()(h()(l),"calculateTopOffset",function(e){return Math.max(0,e-O.h)}),v()(h()(l),"onScroll",function(){var e=l.props,t=e.reachedBottom,n=e.post,r=e.isLoading,a=e.isCommentsLoading,i=Object(_.bb)(),o=Object(_.u)(),s=Object(_.s)(),c=i+o;s-S.o<=c&&n&&!l.reachedBottomSent&&!r&&!a&&(t(n,s),l.reachedBottomSent=!0)}),l.state={isFadeOut:!1,isContentWrapperMount:!1},l.previousByLinePosition=e.byLinePosition,l.reachedBottomSent=!1,l.lastNavArrow=!1,l}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props.params.galleryId;this.retrievePost(e);var t=this.props.history;t&&"PUSH"===t.action&&Object(_.tb)(0,0),Object(_.c)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.params,r=t.post,a=t.isLoading,i=t.byLinePosition,o=t.promotedPostViewAction,s=t.setTransformationAction,c=t.sctuLoaded,l=t.isPromotedTransformation,d=this.state.isFadeOut,u=n.galleryId;if(r&&u!==r.get("id")&&!a&&(this.retrievePost(u),this.reachedBottomSent=!1),a&&r?d||(this.setState({isFadeOut:!0}),this.previousByLinePosition=i):d&&(this.setState({isFadeOut:!1}),this.lastNavArrow&&c?Object(_.sb)(function(){Object(_.tb)(0,0)}):Object(_.sb)(this.scrollToFirstMedia),this.lastNavArrow=!1),r&&!e.post&&(Object(_.sb)(function(){return Object(_.Eb)("resize")}),this.setState({isContentWrapperMount:!0})),r){var p=!e.post||r.get("id")!==e.post.get("id"),m=!r.getIn(["adConfig","showsAds"])&&e.post&&e.post.getIn(["adConfig","showsAds"]);r.get("isAd")&&p?(o(r.get("id")),l||s(!1)):!m||l||r.get("inGallery")||s(!1)}}},{key:"componentWillUnmount",value:function(){var e=this.props.resetPostDataAction;Object(_.mb)("resize",this.onResize),Object(_.mb)("keydown",this.onKeyboardInteraction),e()}},{key:"shouldShowGate",value:function(){var e=this.props,t=e.isLoggedIn,n=e.post;if(t||!n||n.get("inGallery"))return!1;var r=n.getIn(["adConfig","wallFlags"]);return r&&r.includes(I.k)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.topOffset,r=e.isLoggedIn,a=e.transformationAnimating,i=e.transformationCoverStyle,o=e.transformationBackgroundStyle,s=e.transformationTitleStyle,c=e.postpageBetaOptOutAction,l=e.adsEnabled,d=e.updateGalleryContentWrapperWidth,u=this.state,p=u.isFadeOut,m=u.isContentWrapperMount,f={marginTop:this.calculateTopOffset(n)},g="CommentsList-".concat(t&&t.get("id"));return w.a.createElement(fr,{showGate:this.shouldShowGate()},w.a.createElement("div",{className:"GalleryPage",style:o},w.a.createElement(K,{post:t}),w.a.createElement(U.a,null),w.a.createElement(B.d,null),w.a.createElement(tt,null),r&&w.a.createElement(w.a.Fragment,null,w.a.createElement(it,null),w.a.createElement(Ce,null),w.a.createElement(Se,null),w.a.createElement(Le,null),w.a.createElement(Ke,null)),w.a.createElement(Me,null),w.a.createElement("div",{className:"GalleryPage-background",style:i}),w.a.createElement(ge,null),w.a.createElement(mr,{style:f,post:t,transformationAnimating:a,transformationTitleStyle:s,isFadeOut:p,commentsListId:g,isContentWrapperMount:m,updateGalleryContentWrapperWidth:d}),w.a.createElement("div",{className:"badges-wrapper"},r&&w.a.createElement(j,{href:A.A}),w.a.createElement(N,{onPostPageOptOut:c}),w.a.createElement(M.a,null)),t&&l&&w.a.createElement(dt,{post:t}),t&&l&&w.a.createElement(ut,{post:t}),w.a.createElement(R.a,null),w.a.createElement(z,null),w.a.createElement(q,{onScroll:this.onScroll})))}}]),t}(w.a.Component),hr=function(e){var t=e.postsData,n=e.ui,r=e.user,a=e.ad,i={},o={},s={};if(a.getIn(["transformation","animatingIn"])&&(i={opacity:0}),a.getIn(["transformation","enabled"])){var c=a.getIn(["transformation","backgroundColor"]);i={background:"linear-gradient(rgba(".concat(c,", 0.4) 0%, rgba(").concat(c,", 1) 100%), url(").concat(a.getIn(["transformation","backgroundImage"]),")"),opacity:a.getIn(["transformation","animatingOut"])?0:1},o={background:"rgb(".concat(a.getIn(["transformation","backgroundColor"]),")")},s={fontFamily:a.getIn(["transformation","fontFamily"]),fontSize:a.getIn(["transformation","titleFontSize"])}}return{post:t.get("currentPost"),topOffset:n.cover.get("height"),isLoggedIn:!!r.get("isLoggedIn"),isLoading:n.spinner.get("retrievePost",{}).loading,isCommentsLoading:n.spinner.get("postComments",{}).loading||!1,byLinePosition:t.get("byLinePosition"),sctuLoaded:a.get("sctuLoaded"),adsEnabled:Object(L.d)(a,r),isPromotedTransformation:a.getIn(["transformation","promotedPostIds"]).includes(t.getIn(["currentPost","id"])),transformationAnimating:a.getIn(["transformation","animatingIn"])||a.getIn(["transformation","animatingOut"]),transformationCoverStyle:i,transformationBackgroundStyle:o,transformationTitleStyle:s}};function br(e){var t=Object(E.g)();return w.a.createElement(gr,m()({params:t},e))}gr.__docgenInfo={description:"",methods:[{name:"onResize",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"scrollToFirstMedia",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"retrievePost",docblock:null,modifiers:[],params:[{name:"galleryId",type:null}],returns:null},{name:"calculateTopOffset",docblock:null,modifiers:[],params:[{name:"coverHeight",type:null}],returns:null},{name:"onScroll",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldShowGate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostDetail",props:{params:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},post:{type:{name:"object"},required:!1,description:""},topOffset:{type:{name:"number"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},byLinePosition:{type:{name:"number"},required:!1,description:""},isCommentsLoading:{type:{name:"bool"},required:!1,description:""},transformationAnimating:{type:{name:"bool"},required:!1,description:""},transformationCoverStyle:{type:{name:"object"},required:!1,description:""},transformationBackgroundStyle:{type:{name:"object"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},sctuLoaded:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!0,description:""},setTransformationAction:{type:{name:"func"},required:!1,description:""},toggleAudioState:{type:{name:"func"},required:!1,description:""},isPromotedTransformation:{type:{name:"bool"},required:!1,description:""},postpageBetaOptOutAction:{type:{name:"func"},required:!0,description:""},promotedPostViewAction:{type:{name:"func"},required:!0,description:""},reachedBottom:{type:{name:"func"},required:!0,description:""},updateViewportHeightAction:{type:{name:"func"},required:!0,description:""},updateGalleryContentWrapperWidth:{type:{name:"func"},required:!0,description:""},goToNextPostAction:{type:{name:"func"},required:!0,description:""},goToPreviousPostAction:{type:{name:"func"},required:!0,description:""},newPostAction:{type:{name:"func"},required:!0,description:""},retrievePostAction:{type:{name:"func"},required:!0,description:""},retrievePostMetaAction:{type:{name:"func"},required:!0,description:""},resetPostDataAction:{type:{name:"func"},required:!0,description:""}}},br.__docgenInfo={description:"",methods:[],displayName:"PostDetailWithParams"}},"QC+F":function(e,t,n){e.exports=n.p+"desktop-assets/gift.577aa9948a2b45b6f16f448db9200a08.svg"},QFwP:function(e,t,n){},QSMB:function(e,t,n){"use strict";n.d(t,"j",function(){return Ye}),n.d(t,"k",function(){return Je}),n.d(t,"l",function(){return Qe}),n.d(t,"m",function(){return Xe}),n.d(t,"f",function(){return Ze}),n.d(t,"g",function(){return $e}),n.d(t,"h",function(){return et}),n.d(t,"i",function(){return tt}),n.d(t,"c",function(){return nt}),n.d(t,"d",function(){return rt}),n.d(t,"e",function(){return at}),n.d(t,"b",function(){return it}),n.d(t,"a",function(){return ot}),n.d(t,"s",function(){return st}),n.d(t,"u",function(){return ct}),n.d(t,"v",function(){return lt}),n.d(t,"x",function(){return dt}),n.d(t,"w",function(){return ut}),n.d(t,"y",function(){return pt}),n.d(t,"z",function(){return mt}),n.d(t,"t",function(){return ft}),n.d(t,"o",function(){return gt}),n.d(t,"q",function(){return ht}),n.d(t,"r",function(){return bt}),n.d(t,"p",function(){return vt}),n.d(t,"n",function(){return yt}),n.d(t,"A",function(){return _t});var r,a=n("lSNA"),i=n.n(a),o=n("q1tI"),s=n.n(o),c=(n("17x9"),n("vhd3")),l=n.n(c),d=n("+LPt"),u=n.n(d),p=n("YfNI"),m=n.n(p),f=n("GG9+"),g=n.n(f),h=n("nj4u"),b=n.n(h),v=n("j33L"),y=n.n(v),E=n("y3QZ"),_=n.n(E),C=n("mDRf"),O=n.n(C),S=n("0dru"),I=n.n(S),k=n("gY/+"),w=n.n(k),A=n("0m7p"),P=n.n(A),T=n("tqmg"),j=n.n(T),N=n("ECgQ"),D=n.n(N),x=n("Zuri"),q=n.n(x),M=n("mnhf"),R=n.n(M),B=n("GwUk"),U=n.n(B),L=n("z6Nj"),F=n.n(L),W=n("9gc2"),V=n.n(W),G=n("IGIl"),z=n.n(G),H=n("e/TB"),K=n.n(H),Y=n("QlUr"),J=n.n(Y),Q=n("QC+F"),X=n.n(Q),Z=n("jakS"),$=n.n(Z),ee=n("W7qz"),te=n.n(ee),ne=n("Epno"),re=n.n(ne),ae=n("fwpH"),ie=n.n(ae),oe=n("n9cy"),se=n.n(oe),ce=n("L35p"),le=n.n(ce),de=n("x1Q6"),ue=n.n(de),pe=n("aGts"),me=n.n(pe),fe=n("Kfle"),ge=n.n(fe),he=n("cNNt"),be=n.n(he),ve=n("0575"),ye=n.n(ve),Ee=n("/RuS"),_e=n.n(Ee),Ce=n("OPqO"),Oe=n.n(Ce),Se=n("Rkb4"),Ie=n.n(Se),ke=n("WrJL"),we=n.n(ke),Ae=n("M95M"),Pe=n.n(Ae),Te=n("CYIP"),je=n.n(Te),Ne=n("t8wH"),De=n.n(Ne),xe=n("+jJA"),qe=n.n(xe),Me=n("XUHW"),Re=n.n(Me),Be=n("dgEA"),Ue=n.n(Be),Le=n("eblD"),Fe=n.n(Le),We=n("oi1Q"),Ve=n.n(We),Ge=n("Ev65"),ze=n.n(Ge),He=n("5DEz"),Ke=n.n(He),Ye="bgTreesLeft",Je="bgTreesLeftLarge",Qe="bgTreesRight",Xe="bgTreesRightLarge",Ze="bgMountainLeft",$e="bgMountainLeftLarge",et="bgMountainRight",tt="bgMountainRightLarge",nt="bgMountain1",rt="bgMountain2",at="bgMountain3",it="bgLand2",ot="bgFooter",st="imgGiraffeScooter",ct="imgStepLogin",lt="imgStepMatch",dt="imgStepSend",ut="imgStepReceive",pt="imgWorldwide",mt="imgWorldwideLarge",ft="imgNumEntries",gt="iconGift",ht="iconSantaHat",bt="iconSignout",vt="iconMenu",yt="iconClose",Et=(r={},i()(r,"bgSpace1left",l.a),i()(r,"bgSpace3right",u.a),i()(r,"bgLeftClouds2",m.a),i()(r,"bgRightClouds2",g.a),i()(r,Ye,b.a),i()(r,Je,y.a),i()(r,Qe,_.a),i()(r,Xe,O.a),i()(r,Ze,I.a),i()(r,$e,w.a),i()(r,et,P.a),i()(r,tt,j.a),i()(r,nt,D.a),i()(r,rt,q.a),i()(r,at,R.a),i()(r,"bgLand1",U.a),i()(r,it,F.a),i()(r,ot,V.a),i()(r,"imgGiraffe",z.a),i()(r,"imgGiraffe2",K.a),i()(r,st,J.a),i()(r,pt,Ie.a),i()(r,mt,we.a),i()(r,ft,Pe.a),i()(r,gt,X.a),i()(r,"iconGiftOnly",$.a),i()(r,"iconGiftExchange",te.a),i()(r,ht,re.a),i()(r,bt,ie.a),i()(r,vt,se.a),i()(r,yt,le.a),i()(r,"iconPencil",me.a),i()(r,"iconDropdown",ue.a),i()(r,"iconChevronRight",ge.a),i()(r,ct,be.a),i()(r,lt,ye.a),i()(r,dt,_e.a),i()(r,ut,Oe.a),i()(r,"iconRegEmail",je.a),i()(r,"iconRegEmailActive",De.a),i()(r,"iconRegAbout",qe.a),i()(r,"iconRegAboutActive",Re.a),i()(r,"iconRegShipping",Ue.a),i()(r,"iconRegShippingActive",Fe.a),i()(r,"iconRegCheckboxChecked",Ve.a),i()(r,"logoBarkBox",ze.a),i()(r,"logoSuperChewer",Ke.a),r);function _t(e){var t=e.name,n=e.className,r=e.width,a=Et[t];return s.a.createElement("img",{className:"".concat(t).concat(n?" ".concat(n):""),src:a,width:r})}_t.__docgenInfo={description:"",methods:[],displayName:"Image",props:{name:{type:{name:"string"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""}}}},QlUr:function(e,t,n){e.exports=n.p+"desktop-assets/imguraffe-scooter.2249a03f7bb0d2b33931aaa362fe17b3.svg"},QqH4:function(e,t,n){},RUHF:function(e,t,n){"use strict";n.d(t,"g",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return m});var r=n("aWKK"),a=n("3ml4"),i=Object(r.a)("SUBSCRIBE_BUTTON_CLICK",function(){},function(e){var t=e.placement,n=e.buttonText;return{analytics:{type:a.g,payload:{location:"Emerald Landing Page",placement:t,buttonText:n}}}}),o=Object(r.a)("EMERALD_PAGE_VIEWED",function(){},function(e){return{analytics:{type:a.f,payload:{source:e}}}}),s=Object(r.a)("EMERALD_SUBSCRIBE_COMPLETED",function(){},function(e){return{analytics:{type:a.h,payload:{success:e}}}}),c=Object(r.a)("THANKYOU_PAGE_VIEWED",function(){},function(e){return{analytics:{type:a.j,payload:{source:e}}}}),l=Object(r.a)("THANKYOU_BUTTON_CLICK",function(){},function(e){var t=e.placement,n=e.buttonText;return{analytics:{type:a.i,payload:{placement:t,buttonText:n}}}}),d=Object(r.a)(a.c,function(e){return{accoladeId:e.accoladeId}},function(e){var t=e.postId,n=e.accoladeName,r=e.accoladeCount;return{analytics:{type:a.c,payload:{postId:t,accoladeName:n,accoladeCount:r}}}}),u=Object(r.a)(a.a,function(){},function(e){var t=e.postId,n=e.previousAccoladeName,r=e.accoladeName;return{analytics:{type:a.a,payload:{postId:t,previousAccoladeName:n,accoladeName:r}}}}),p=Object(r.a)(a.d,function(){},function(e){var t=e.userAccoladeId;return{analytics:{type:a.d,payload:{userAccoladeId:t}}}}),m=Object(r.a)(a.e,function(){},function(e){return{analytics:{type:a.e,payload:e}}})},Rhnt:function(e,t,n){},Rkb4:function(e,t,n){e.exports=n.p+"desktop-assets/worldwide.ac37877c51bace3433abb8958172e92b.svg"},SINw:function(e,t,n){},SeDK:function(e,t,n){},UuzF:function(e,t,n){},Uyyq:function(e,t,n){e.exports=n.p+"desktop-assets/drag.660828a621ac6ca507e8b0ec53165870.png"},Uz4u:function(e,t,n){e.exports=n.p+"desktop-assets/ReactionGifEmptySearch.2ac15cedf0d98e71a201086d56b96c2a.svg"},Uzvo:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r=n("pVnL"),h=n.n(r),a=n("lSNA"),i=n.n(a),o=n("lwsE"),s=n.n(o),c=n("W8MJ"),l=n.n(c),d=n("a1gu"),u=n.n(d),p=n("Nsbk"),m=n.n(p),f=n("7W2i"),b=n.n(f),g=n("q1tI"),v=n.n(g),y=(n("17x9"),n("/MKj")),E=n("AoHe"),_=n("+qLk");n("ZYtQ");function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function S(g){return function(e){function t(){return s()(this,t),u()(this,m()(t).apply(this,arguments))}return b()(t,e),l()(t,[{key:"render",value:function(){if(!g)return null;var e=this.props,t=e.post,n=e.height,r=e.width,a=e.colorLoading,i=e.streamSection,o=e.streamParam;if(!t)return null;var s=t.toJS(),c={color:a,height:n},l=Object(E.b)(s,r,n),d=l.contentWidth,u=l.contentHeight,p=Object(E.e)(s.isAd,n,u,null!=s.title&&s.title.length),m="".concat(function(e,t,n){return!e&&t&&n?"/".concat(t,"/").concat(n):e&&!e.inGallery||![_.G,_.t,_.F,_.v,_.w].includes(t)?t&&n?"/".concat(t,"/").concat(n):e&&e.isAlbum?"/a":"":"/".concat(_.o)}(s,i,o),"/").concat(s.id),f=O({},this.props,{spinner:c,post:O({},s,{width:d,height:u,href:m}),styles:p});return v.a.createElement(g,h()({className:"Post-item"},f))}}]),t}(v.a.Component)}function I(e,t){var n=e.posts,r=e.user,a=e.gallery,i=t.id;return{post:n.getIn(["posts",i]),isUserLoggedIn:r.get("isLoggedIn"),streamSection:a.get("streamSection"),streamParam:a.get("streamParam")}}var k=function(e){return Object(y.b)(I)(S(e))}},VtCw:function(e,t,n){},W7qz:function(e,t,n){e.exports=n.p+"desktop-assets/icon-gift-exchange.fffe5380766d052912518ee4cab69b34.svg"},W8uW:function(e,t,n){},WHPL:function(e,t,n){},WYmX:function(e,t,n){},WrJL:function(e,t,n){e.exports=n.p+"desktop-assets/worldwide-large.fb52bbd44e7bbdae17b2007e0464628d.svg"},"X+lB":function(e,t,n){},X9Zs:function(e,t,n){e.exports=n.p+"desktop-assets/b3.e6334893f2151aa2c16ce7596c4daeaa.svg"},"XF+e":function(e,t,n){},XUHW:function(e,t,n){e.exports=n.p+"desktop-assets/reg-about-active.4931ed2f1c753d72680a97410e57b59d.svg"},Y22u:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("GB65");function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!e)return!1;var n=e.getBoundingClientRect(),r=Object(a.u)()+t;return 0<=n.bottom&&n.top<=r}},Ya97:function(e,t,n){},YfNI:function(e,t,n){e.exports=n.p+"desktop-assets/cloud-left.f3868ff55224f54bbba947928a57a052.svg"},ZYtQ:function(e,t,n){},Zuri:function(e,t,n){e.exports=n.p+"desktop-assets/bg-mountain-2.027ab8d093098d270d18adc850fa034f.svg"},"a/1F":function(e,t,n){},aGts:function(e,t,n){e.exports=n.p+"desktop-assets/pencil.88d00518811db8beae383d6f7a91e562.svg"},"b1r/":function(e,t,n){},bWDY:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return l});var r=n("GB65");function a(e,t){Object(r.B)("apstag")||(document.body.appendChild(Object(r.n)("script",{src:"https://c.amazon-adsystem.com/aax2/apstag.js",defer:!0})),window.apstag={init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.apstag._Q.push(["i",t])},fetchBids:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.apstag._Q.push(["f",t])},setDisplayBids:function(){},_Q:[]},window.apstag.init({pubID:t,adServer:e,bidTimeout:2e3}),window.apsSlots=window.apsSlots||[])}function i(){window.clearTimeout(window.adRefreshTimeout),window.adRefreshTimeout=null}function o(){return window.disabledAdRefresh}function s(e){return e.hasOwnProperty("hasAd")?e.hasAd:!(e.isEmpty||!e.slot)}function c(t){var e=Object(r.B)("apsSlots")||[];e=e.filter(function(e){return e.slotID!==t}),Object(r.wb)("apsSlots",e)}var l=function(e,t){return e.get("enabled")&&!t.get("hasPaid")&&!t.getIn(["subscription","isSubscribed"])}},c0eP:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=(n("17x9"),n("/MKj")),c=n("55Ip"),l=n("TSYQ"),d=n.n(l),u=n("pNV7"),p=n("b5GN"),m=n("G5ih"),f=n("fdoY"),g=(n("W8uW"),Object(m.a)("newPost"));function h(e){var t=e.className,n=e.onClick,r=d()(a()({Button:!0,upload:!0},t,t));return o.a.createElement(c.a,{className:r,to:"/".concat(p.s),onClick:n},o.a.createElement("img",{src:u.a[u.m]}),o.a.createElement("span",{className:"newPostLabel"},g))}function b(e){var t=e.onClick;return o.a.createElement(c.a,{to:"/".concat(p.s),onClick:t},g)}h.defaultProps={className:""};var v=Object(s.b)(null,{onClick:f.eb}),y=v(b);h.__docgenInfo={description:"",methods:[],displayName:"NewPostButton",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}},t.b=v(h),b.__docgenInfo={description:"",methods:[],displayName:"NewPostLink",props:{onClick:{type:{name:"func"},required:!1,description:""}}}},cG8M:function(e,t,n){"use strict";n.d(t,"b",function(){return A}),n.d(t,"a",function(){return P});var r=n("pVnL"),S=n.n(r),a=n("lwsE"),o=n.n(a),i=n("W8MJ"),s=n.n(i),c=n("a1gu"),l=n.n(c),d=n("Nsbk"),p=n.n(d),u=n("PJYZ"),m=n.n(u),f=n("7W2i"),g=n.n(f),h=n("lSNA"),b=n.n(h),v=(n("4cSd"),n("q1tI")),T=n.n(v),y=(n("17x9"),n("/MKj")),E=n("TSYQ"),j=n.n(E),_=n("GB65"),I=n("wmRA"),N=n("yA1n"),C=n("WY5P"),O=n("2c7z"),k=n("ej/z"),w=(n("qhsG"),function(e){function t(e){var i;return o()(this,t),i=l()(this,p()(t).call(this,e)),b()(m()(i),"movementStartPos",0),b()(m()(i),"volumeStart",0),b()(m()(i),"stateIndicator",T.a.createRef()),b()(m()(i),"time",T.a.createRef()),b()(m()(i),"scrubber",T.a.createRef()),b()(m()(i),"bar",T.a.createRef()),b()(m()(i),"audioIndicator",T.a.createRef()),b()(m()(i),"volume",T.a.createRef()),b()(m()(i),"updateDimensionsFromScrubber",function(){var e=i.scrubber.current.offsetWidth;e=e||1,i.updateDimensions(e,i.scrubber.current.getBoundingClientRect().left)}),b()(m()(i),"handleMouseDown",function(){Object(_.c)("mouseup",i.handleMouseUp),Object(_.c)("mousemove",i.handleMouseMove),Object(_.y)("body").style.userSelect="none",i.setState({dragging:!0})}),b()(m()(i),"handleMouseUp",function(){var t=i.props.onTimeChange;Object(_.mb)("mouseup",i.handleMouseUp),Object(_.mb)("mousemove",i.handleMouseMove),Object(_.y)("body").style.userSelect="auto",i.setState(function(e){return{scrubPauseWait:t(e.playedPercentModifier),dragging:!1}})}),b()(m()(i),"handleMouseMove",function(e){var t=i.props.onScrubbing,n=i.state.scrubberWidth;t();var r=i.movementStartPos,a=n;i.setState({playedPercentModifier:i.getPlayedPercentModifier(e.pageX,r,a)})}),b()(m()(i),"handleMouseDownVolume",function(){Object(_.c)("mouseup",i.handleMouseUpVolume),Object(_.c)("mousemove",i.handleMouseMoveVolume),Object(_.y)("body").style.userSelect="none",i.volumeStart=i.volume.current.getBoundingClientRect().left}),b()(m()(i),"handleMouseUpVolume",function(e){Object(_.mb)("mouseup",i.handleMouseUpVolume),Object(_.mb)("mousemove",i.handleMouseMoveVolume),Object(_.y)("body").style.userSelect="auto",i.setVolumeFromCoordinates(e.pageX)}),b()(m()(i),"handleMouseMoveVolume",function(e){i.setVolumeFromCoordinates(e.pageX)}),b()(m()(i),"handleScrubberBarClick",function(e){var t=i.props.onTimeChange,n=i.state.scrubberWidth,r=i.movementStartPos,a=n;t(i.getPlayedPercentModifier(e.pageX,r,a))}),i.state={scrubPauseWait:0,playedPercentModifier:null,scrubberWidth:1,dragging:!1,volume:e.volume},i}return g()(t,e),s()(t,[{key:"componentDidMount",value:function(){var t=this;this.updateDimensionsFromScrubber(),Object(_.c)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(_.a)(e,t.updateDimensionsFromScrubber)})}},{key:"componentWillUnmount",value:function(){var t=this;Object(_.mb)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(_.ib)(e,t.updateDimensionsFromScrubber)})}},{key:"updateDimensions",value:function(e,t){this.setState({scrubberWidth:e}),this.movementStartPos=t}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state,n=t.playedPercentModifier,r=t.scrubPauseWait;null!==n&&e.playedPercent>r&&this.setState({scrubPauseWait:0,playedPercentModifier:null})}},{key:"setVolumeFromCoordinates",value:function(e){var t=this.props.onVolumeChange,n=1-Math.min(Math.max((this.volumeStart+104+Object(_.B)("scrollX")-e)/104,0),1);t(n),this.setState({volume:n})}},{key:"getPlayedPercentModifier",value:function(e,t,n){var r=(e-t)/n;return r<0?0:1<r?1:r}},{key:"pad",value:function(e){var t=e.toString();return t.length<2&&(t="0".concat(t)),t}},{key:"slide",value:function(e,t){e=Math.max(Math.min(100*e/t,100),1);for(var n=[[0,[27,183,110]],[44,[58,221,214]],[100,[123,133,247]]],r=[],a=0;a<n.length;a++)if(e<=n[a][0]){r=[a-1,a];break}var i=n[r[0]][1],o=n[r[1]][1],s=n[r[0]][0],c=(e-s)/(n[r[1]][0]-s);return this.pickRgb(o,i,c).join()}},{key:"pickRgb",value:function(e,t,n){var r=((2*n-1)/1+1)/2,a=1-r;return[Math.round(e[0]*r+t[0]*a),Math.round(e[1]*r+t[1]*a),Math.round(e[2]*r+t[2]*a)]}},{key:"render",value:function(){var e=this.props,t=e.playedPercent,n=e.duration,r=e.time,a=e.playState,i=e.audioState,o=e.fullscreen,s=e.onPlayToggle,c=e.toggleFullscreen,l=e.hasAudio,d=e.onAudioToggle,u=e.id,p=this.state,m=p.playedPercentModifier,f=p.scrubberWidth,g=p.volume,h=p.dragging,b=t;null!==m&&(b=m);var v=f*b,y=-1*v,E=(v+=5)-25,_=Math.floor(n-r),C="".concat(v,"px"),O=a===N.c.PLAY_STATE.PRESENT_PLAYING?"playing":"paused",S=this.slide(v,f),I="0 0 10px 0 rgb(".concat(S,"), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 0px 20px 0 rgb(").concat(S,")"),k=i===N.c.AUDIO_STATE.PRESENT_MUTED?"mute":"on",w=j()({"PostVideoControls-fullscreen":!0,fullscreen:o}),A=i===N.c.AUDIO_STATE.PRESENT_MUTED?0:104*g,P=A;return T.a.createElement("div",{className:"PostVideoControls",id:u},T.a.createElement("div",{className:"PostVideoControls-container"},T.a.createElement("span",{onClick:s,className:"PostVideoControls-state"},T.a.createElement("span",{ref:this.stateIndicator,className:"PostVideoControls-state-indicator PostVideoControls-state-indicator-".concat(O)},"")),T.a.createElement("span",{ref:this.time,className:"PostVideoControls-time"},Math.floor(_/60),":",this.pad(_%60)),T.a.createElement("span",{ref:this.scrubber,className:"PostVideoControls-scrubber",onClick:this.handleScrubberBarClick},T.a.createElement("div",{className:"PostVideoControls-scrubber-backdrop"},""),T.a.createElement("div",{ref:this.bar,className:"PostVideoControls-scrubber-bar",style:{width:C}},T.a.createElement("style",null,"\n                                ".concat(u?"#".concat(u):""," .PostVideoControls-scrubber-bar::after{\n                                    width: ").concat(f,"px;\n                                }\n                                ").concat(u?"#".concat(u):""," .PostVideoControls-scrubber-knob-extender {\n                                    background: rgb(").concat(S,")\n                                }\n\n                            "))),T.a.createElement("div",{className:"PostVideoControls-scrubber-buffer",style:{left:C}}),h&&T.a.createElement("div",{className:"PostVideoControls-knob-extender-container"},T.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-top",style:{left:E}},T.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:y}})),T.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-bottom",style:{left:E}},T.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:y}}))),T.a.createElement("div",{className:"PostVideoControls-scrubber-knob",style:{left:C,background:"rgb(".concat(S,")"),boxShadow:I},onMouseDown:this.handleMouseDown},T.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:y}}))),c&&T.a.createElement("span",{onClick:function(){return c(!0)},className:w},"")),l?T.a.createElement("span",{className:"PostVideoControls-audio-container"},T.a.createElement("span",{ref:this.audioIndicator,onClick:d,className:"PostVideoControls-audio PostVideoControls-audio-".concat(k)}),T.a.createElement("div",{className:"PostVideoControls-volume",ref:this.volume,onMouseDown:this.handleMouseDownVolume},T.a.createElement("div",{className:"PostVideoControls-volume-fill",style:{width:A}}),T.a.createElement("div",{className:"PostVideoControls-volume-knob",style:{left:P}}))):"")}}]),t}(T.a.Component));w.defaultProps={volume:N.a},w.__docgenInfo={description:"",methods:[{name:"updateDimensionsFromScrubber",docblock:null,modifiers:[],params:[],returns:null},{name:"updateDimensions",docblock:null,modifiers:[],params:[{name:"scrubberWidth",type:null},{name:"movementStartPos",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUp",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseMove",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseDownVolume",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUpVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseMoveVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setVolumeFromCoordinates",docblock:null,modifiers:[],params:[{name:"x",type:null}],returns:null},{name:"handleScrubberBarClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getPlayedPercentModifier",docblock:null,modifiers:[],params:[{name:"xPos",type:null},{name:"start",type:null},{name:"width",type:null}],returns:null},{name:"pad",docblock:null,modifiers:[],params:[{name:"number",type:null}],returns:null},{name:"slide",docblock:null,modifiers:[],params:[{name:"position",type:null},{name:"sliderWidth",type:null}],returns:null},{name:"pickRgb",docblock:null,modifiers:[],params:[{name:"color1",type:null},{name:"color2",type:null},{name:"weight",type:null}],returns:null}],displayName:"PostVideoControlsComponent",props:{volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},playedPercent:{type:{name:"number"},required:!1,description:""},time:{type:{name:"number"},required:!1,description:""},onScrubbing:{type:{name:"func"},required:!0,description:""},duration:{type:{name:"number"},required:!1,description:""},onTimeChange:{type:{name:"func"},required:!0,description:""},onVolumeChange:{type:{name:"func"},required:!0,description:""},audioState:{type:{name:"string"},required:!1,description:""},onAudioToggle:{type:{name:"func"},required:!0,description:""},playState:{type:{name:"string"},required:!1,description:""},onPlayToggle:{type:{name:"func"},required:!0,description:""},onSeek:{type:{name:"func"},required:!0,description:""},fullscreen:{type:{name:"bool"},required:!1,description:""},toggleFullscreen:{type:{name:"func"},required:!0,description:""},hasAudio:{type:{name:"bool"},required:!1,description:""},id:{type:{name:"string"},required:!1,description:""}}};var A=function(e){function n(e){var u;o()(this,n),u=l()(this,p()(n).call(this,e)),b()(m()(u),"unmount",!1),b()(m()(u),"timeStarted",-1),b()(m()(u),"timePlayed",0),b()(m()(u),"duration",0),b()(m()(u),"soundWasEverEnabled",!1),b()(m()(u),"videoContainer",T.a.createRef()),b()(m()(u),"srcmp4",T.a.createRef()),b()(m()(u),"video",T.a.createRef()),b()(m()(u),"updateAudioState",function(e){var t=u.props,n=t.globalAudioState,r=t.hash,a=t.setHashWithAudioOn,i=t.isFirst,o=t.hashWithAudioOn,s=u.state.audioState;if(e.globalAudioState!==n&&n!==s){if(n===N.c.AUDIO_STATE.PRESENT_ON&&r!==o)return void(!o&&i&&(u.setState({audioState:n}),a(r)));u.setState({audioState:n})}}),b()(m()(u),"isVideoElementUnavailable",function(){return u.unmount||!u.video.current}),b()(m()(u),"onPlayToggle",function(){u.isVideoElementUnavailable()||(u.video.current.paused?u.play():u.pause())}),b()(m()(u),"onAudioToggle",function(){if(!u.isVideoElementUnavailable()){var e=u.props,t=e.hash,n=e.updateAudioState,r=e.setHashWithAudioOn,a=u.state.audioState===N.c.AUDIO_STATE.PRESENT_ON,i=a?N.c.AUDIO_STATE.PRESENT_MUTED:N.c.AUDIO_STATE.PRESENT_ON;u.video.current.muted=a,u.setState({audioState:i},function(){!a&&t&&r(t)}),n(i),u.soundWasEverEnabled||(u.soundWasEverEnabled=!a)}}),b()(m()(u),"onScrubbing",function(){if(!u.isVideoElementUnavailable()){var e=u.video.current;e.paused||e.pause()}}),b()(m()(u),"onTimeChange",function(e){if(!u.isVideoElementUnavailable()){var t=u.video.current;return t.currentTime=t.duration*e,u.isPlaying()&&u.play(),t.currentTime/t.duration}}),b()(m()(u),"onVolumeChange",function(e){if(!u.isVideoElementUnavailable()){var t=u.props,n=t.hash,r=t.updateAudioState,a=t.setHashWithAudioOn;u.video.current.volume=e,u.setState({audioState:N.c.AUDIO_STATE.PRESENT_ON,volume:e},function(){0<e&&n&&a(n)}),r(N.c.AUDIO_STATE.PRESENT_ON)}}),b()(m()(u),"handleTimeUpdate",function(e){if(!u.isVideoElementUnavailable()){var t=u.state.progressVisible;u.videoInterval(e),t&&u.setState({playedPercent:u.video.current.currentTime/u.video.current.duration,currentTime:Math.floor(u.video.current.currentTime)})}}),b()(m()(u),"handleMetadata",function(){if(!u.isVideoElementUnavailable()){var e=u.state.currentTime;u.video.current.currentTime=e,u.setState(function(e){return{playedPercent:e.currentTime/u.video.current.duration,duration:Math.floor(u.video.current.duration)}})}}),b()(m()(u),"handleData",function(e){if(!u.isVideoElementUnavailable()){var t=!1;void 0!==e.target.webkitAudioDecodedByteCount&&0<e.target.webkitAudioDecodedByteCount?t=!0:void 0!==e.target.mozHasAudio&&e.target.mozHasAudio?t=!0:void 0!==e.target.audioTracks&&0<e.target.audioTracks.length&&(t=!0);var n=u.state.volume;u.video.current.volume=n,u.setState(function(e){return{playedPercent:e.currentTime/u.video.current.duration,duration:Math.floor(u.video.current.duration),hasAudio:t}})}}),b()(m()(u),"handleCanPlay",function(e){u.isVideoElementUnavailable()||u.isPaused()||(1!==u.video.current.readyState&&4!==u.video.current.readyState||u.play(),(0,u.props.handleCanPlay)(e))}),b()(m()(u),"handleVideoSourceError",function(e){!u.video.current||0!==u.video.current.readyState&&3!==u.video.current.networkState||(u.setState({isError:!0}),(0,u.props.onError)(e))}),b()(m()(u),"toggleFullscreen",function(e){u.isVideoElementUnavailable()||(Object(_.y)("body").mozRequestFullScreen||Object(_.y)("body").webkitRequestFullScreen||Object(_.y)("body").requestFullScreen)&&(u.state.fullscreen||!1===e?(Object(_.Bb)(),Object(_.y)("body").classList.remove("video-hidden-body"),u.setState({fullscreen:!1})):(u.videoContainer.current&&Object(_.Cb)(u.videoContainer.current),Object(_.y)("body").classList.add("video-hidden-body"),u.setState({fullscreen:!0})))}),b()(m()(u),"videoStartedPlaying",function(){u.setState({playState:N.c.PLAY_STATE.PRESENT_PLAYING}),u.props.promoted&&(u.timeStarted=(new Date).getTime()/1e3)}),b()(m()(u),"videoInterval",function(e){if(!u.isVideoElementUnavailable()){var t=u.props,n=t.promoted,r=t.controls,a=t.trackPromotedPostVideo,i=t.hash,o=t.postId;if(n&&!u.video.current.paused&&r){var s=u.state,c=s.duration,l=s.controlsEverDisplayed;if(c){if(0<u.timeStarted){var d=(new Date).getTime()/1e3-u.timeStarted;u.timeStarted=-1,u.timePlayed+=d}"timeupdate"===e.type&&(u.timeStarted=(new Date).getTime()/1e3),a({timePlayed:u.timePlayed,supportsAutoPlay:u.supportsAutoPlay,albumHash:o,soundOn:0<u.video.current.volume&&!u.video.current.muted,isControlsOn:l,duration:c,hash:i}),u.timePlayed=0}}}}),b()(m()(u),"handleSeek",function(e){u.isVideoElementUnavailable()||(u.video.current.currentTime=e)}),b()(m()(u),"handleMouseOver",function(){u.setState({progressVisible:!0,controlsEverDisplayed:!0})}),b()(m()(u),"handleMouseOut",function(){u.setState({progressVisible:!1})}),function(e){if("function"!=typeof e)return;var t=document.createElement("video");t.pause();var n="play"in t&&t.play();e(!t.paused||"Promise"in window&&n instanceof Promise)}(function(e){u.supportsAutoPlay=e});var t=e.playAudioIfAvailable&&e.isFirst&&void 0!==e.handleCanPlay?N.c.AUDIO_STATE.PRESENT_ON:N.c.AUDIO_STATE.PRESENT_MUTED;return e.playState===N.c.PLAY_STATE.PRESENT_PAUSED&&e.audioState&&(t=e.audioState),u.state={playedPercent:0,playState:e.playVideo?N.c.PLAY_STATE.PRESENT_PLAYING:N.c.PLAY_STATE.PRESENT_PAUSED,currentTime:e.currentTime||0,duration:0,fullscreen:!1,hasAudio:!1,progressVisible:!1,audioState:t,isError:!1,volume:e.volume||u.getVolumePreference(),controlsEverDisplayed:!1},u}return g()(n,e),s()(n,[{key:"componentWillUnmount",value:function(){this.unmount=!0,this.srcmp4.current&&this.srcmp4.current.removeAttribute("src"),this.video.current&&this.video.current.load()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.playVideo,r=t.hashWithAudioOn;e.playVideo!==n&&(e.playVideo&&this.pause(),n&&this.play()),e.hashWithAudioOn!==r&&this.handleGlobalUnmute(r),this.updateAudioState(e)}},{key:"componentDidMount",value:function(){function t(){Object(_.y)("mozFullScreen")||Object(_.y)("webkitIsFullScreen")||Object(_.y)("fullscreen")||e.toggleFullscreen(!1)}var e=this;this.srcmp4.current&&(this.srcmp4.current.onerror=this.handleVideoSourceError),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(_.a)(e,t)})}},{key:"handleGlobalUnmute",value:function(e){e===this.props.hash||this.unmount||this.setState({audioState:N.c.AUDIO_STATE.PRESENT_MUTED})}},{key:"getVolumePreference",value:function(){return N.a}},{key:"play",value:function(){var e=this;if(!this.isVideoElementUnavailable()){var t=this.video.current.play();void 0!==t?t.then(function(){e.setState({playState:N.c.PLAY_STATE.PRESENT_PLAYING})}).catch(function(){e.setState({playState:N.c.PLAY_STATE.PRESENT_PAUSED})}):this.setState({playState:N.c.PLAY_STATE.PRESENT_PLAYING})}}},{key:"pause",value:function(){this.isVideoElementUnavailable()||(this.video.current.pause(),this.setState({playState:N.c.PLAY_STATE.PRESENT_PAUSED}))}},{key:"isPlaying",value:function(){return this.state.playState===N.c.PLAY_STATE.PRESENT_PLAYING}},{key:"isPaused",value:function(){return this.state.playState===N.c.PLAY_STATE.PRESENT_PAUSED}},{key:"render",value:function(){var e=this.props,t=e.animationType,n=e.src,r=e.hash,a=e.width,i=e.height,o=e.dataURL,s=e.controls,c=e.classNames,l=e.fallbackMedia,d=e.maxHeight,u=this.state,p=u.isError,m=u.audioState,f=u.fullscreen,g=u.playedPercent,h=u.currentTime,b=u.duration,v=u.playState,y=u.hasAudio,E=u.volume;if(p)return l(n);var _={key:r,style:{width:a,height:d||i},draggable:!1,playsInline:"playsInline",controls:!1};m===N.c.AUDIO_STATE.PRESENT_MUTED&&(_.muted=!0),this.isPlaying()?_.autoPlay="autoplay":_.preload="metadata",t===I.n&&(_.loop="loop"),o&&(_["data-url"]=o);var C=j()({PostVideo:!0,fullscreen:f}),O=j()({"PostVideo-video-wrapper":!0,"PostVideo--unconstrained":!Object(k.b)(a,i)});return T.a.createElement("div",{className:C,ref:this.videoContainer,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},s&&this.isPaused()&&T.a.createElement("span",{title:"Play video",className:"video-play pointer",onClick:this.onPlayToggle}),T.a.createElement("div",{className:O},T.a.createElement("video",S()({},_,{onPlay:this.videoStartedPlaying,onPlaying:this.videoStartedPlaying,onEnded:this.videoInterval,onPause:this.videoInterval,onTimeUpdate:this.handleTimeUpdate,onLoadedMetadata:this.handleMetadata,onLoadedData:this.handleData,onCanPlay:this.handleCanPlay,className:f?"fullscreen":c,ref:this.video}),T.a.createElement("source",{ref:this.srcmp4,type:"video/mp4",src:n.video}))),s&&T.a.createElement(w,{playedPercent:g,time:h,onScrubbing:this.onScrubbing,duration:b,onTimeChange:this.onTimeChange,onVolumeChange:this.onVolumeChange,audioState:m,onAudioToggle:this.onAudioToggle,playState:v,onPlayToggle:this.onPlayToggle,onSeek:this.handleSeek,fullscreen:f,toggleFullscreen:this.toggleFullscreen,hasAudio:y,volume:E,id:"PostVideoControls-".concat(r)}))}}]),n}(T.a.Component);A.defaultProps={animationType:I.n,controls:!1,src:{image:"",video:""},playState:N.c.PLAY_STATE.PRESENT_PAUSED,currentTime:0,volume:N.a,handleCanPlay:function(){},fallbackMedia:function(e){return T.a.createElement("img",{src:e,"data-url":e})},dataUrl:"",promoted:!1,classNames:"",playVideo:!0,onError:function(){},updateAudioState:function(){},setHashWithAudioOn:function(){},isFirst:!1,globalAudioState:N.c.AUDIO_STATE.PRESENT_MUTED};var P=Object(y.b)(function(e){var t=e.video,n=e.postsData.get("currentPost");return{playAudioIfAvailable:t.get("audioState")===N.c.AUDIO_STATE.PRESENT_ON,hashWithAudioOn:t.get("hashWithAudioOn"),postId:n&&n.get("id"),promoted:n&&!!n.get("promoted"),globalAudioState:t.get("audioState")}},{updateAudioState:O.g,setHashWithAudioOn:O.e,trackPromotedPostVideo:C.d})(A);A.__docgenInfo={description:"",methods:[{name:"updateAudioState",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"isVideoElementUnavailable",docblock:null,modifiers:[],params:[],returns:null},{name:"handleGlobalUnmute",docblock:null,modifiers:[],params:[{name:"hashWithAudioOn",type:null}],returns:null},{name:"onPlayToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onAudioToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onScrubbing",docblock:null,modifiers:[],params:[],returns:null},{name:"onTimeChange",docblock:null,modifiers:[],params:[{name:"offset",type:null}],returns:null},{name:"getVolumePreference",docblock:null,modifiers:[],params:[],returns:null},{name:"onVolumeChange",docblock:null,modifiers:[],params:[{name:"volume",type:null}],returns:null},{name:"handleTimeUpdate",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMetadata",docblock:null,modifiers:[],params:[],returns:null},{name:"handleData",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCanPlay",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleVideoSourceError",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"play",docblock:null,modifiers:[],params:[],returns:null},{name:"pause",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleFullscreen",docblock:null,modifiers:[],params:[{name:"state",type:null}],returns:null},{name:"videoStartedPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"videoInterval",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleSeek",docblock:null,modifiers:[],params:[{name:"time",type:null}],returns:null},{name:"handleMouseOver",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseOut",docblock:null,modifiers:[],params:[],returns:null},{name:"isPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"isPaused",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},controls:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playState:{defaultValue:{value:"VIDEO_CONTROLS.PLAY_STATE.PRESENT_PAUSED",computed:!0},type:{name:"string"},required:!1,description:""},currentTime:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},handleCanPlay:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},fallbackMedia:{defaultValue:{value:"(src) => (<img src={src} data-url={src} />)",computed:!1},type:{name:"func"},required:!1,description:""},dataUrl:{defaultValue:{value:"''",computed:!1},required:!1},promoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},classNames:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},onError:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},updateAudioState:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},setHashWithAudioOn:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},isFirst:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},globalAudioState:{defaultValue:{value:"VIDEO_CONTROLS.AUDIO_STATE.PRESENT_MUTED",computed:!0},type:{name:"enum",computed:!0,value:"Object.values(VIDEO_CONTROLS.AUDIO_STATE)"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},playAudioIfAvailable:{type:{name:"bool"},required:!1,description:""},audioState:{type:{name:"string"},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},dataURL:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},trackPromotedPostVideo:{type:{name:"func"},required:!1,description:""},hashWithAudioOn:{type:{name:"string"},required:!1,description:""}}}},cNNt:function(e,t,n){e.exports=n.p+"desktop-assets/step-1.daafac23f000daf33a9381c1dd5a71ec.svg"},dgEA:function(e,t,n){e.exports=n.p+"desktop-assets/reg-shipping.e45fe0918b9c7974e1e5d8ded56c50f0.svg"},ds3J:function(e,t,n){},"e/TB":function(e,t,n){e.exports=n.p+"desktop-assets/giraffe-santa-2.de8e5ef9f5fed2414fedb2fa8e03151e.svg"},eblD:function(e,t,n){e.exports=n.p+"desktop-assets/reg-shipping-active.5bf974c315fbd8c0bb233f8f4ca9c491.svg"},eeI0:function(e,t,n){},"ega+":function(e,t,n){"use strict";n.d(t,"a",function(){return ee}),n.d(t,"b",function(){return re});var r=n("lwsE"),o=n.n(r),a=n("W8MJ"),s=n.n(a),i=n("a1gu"),c=n.n(i),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),D=n.n(g),h=n("q1tI"),x=n.n(h),b=n("sEfC"),v=n.n(b),y=(n("17x9"),n("/MKj")),E=n("TSYQ"),q=n.n(E),M=n("wmRA"),_=n("Bw9V"),C=n("ErBw"),O=n("Uzvo"),S=n("GB65"),I=n("Y22u"),k=n("aYmD"),w=n("G5ih");n("VtCw");function A(e){for(var t=e.points,n=e.radius,r=360/t*Math.PI/180,a=[],i=0;i<t;i++)a.push({cx:16+(16-n)*Math.cos(r*i),cy:16+(16-n)*Math.sin(r*i)});return x.a.createElement("span",{className:"FireworkAnimate"},x.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(32," ").concat(32)},a.map(function(e,t){return x.a.createElement("circle",{key:"point-".concat(t),cx:e.cx,cy:e.cy,r:n})})))}A.defaultProps={points:8,radius:2},A.__docgenInfo={description:"",methods:[],displayName:"FireworkAnimate",props:{points:{defaultValue:{value:"8",computed:!1},type:{name:"number"},required:!1,description:""},radius:{defaultValue:{value:"2",computed:!1},type:{name:"number"},required:!1,description:""}}};var P=n("pNV7");n("wMLv");function R(e){var t=e.onVote,n=e.value.toLocaleString();return x.a.createElement("div",{className:"PostInfo vote downs uScaleTransition",onClick:t},x.a.createElement("span",{className:"icon icon-downvote-fill"}),x.a.createElement("span",null,n))}function B(e){var t=e.onVote,n=e.value,r=e.isVoted,a=n.toLocaleString();return x.a.createElement("div",{className:"PostInfo vote ups uScaleTransition",onClick:t},x.a.createElement("span",{className:"icon icon-upvote-fill"},r&&x.a.createElement(A,null)),x.a.createElement("span",null,a))}function U(e){var t=e.value,n=t.toLocaleString();return Math.trunc(t/1e3)&&(n=Object(w.a)("lotComments")),x.a.createElement("div",{className:"PostInfo uScaleTransition"},x.a.createElement("span",{className:"icon ".concat(P.d)},x.a.createElement(P.db,{name:P.d})),x.a.createElement("span",null,n))}function T(e){var t=e.value,n=e.className,r=t.toLocaleString();return Math.trunc(t/1e3)&&(r=Math.round(t/1e3,1)+Object(w.a)("viewsK")),Math.trunc(t/1e6)&&(r=Math.round(t/1e6,1)+Object(w.a)("viewsM")),x.a.createElement("div",{className:"PostInfo uScaleTransition views ".concat(n)},x.a.createElement("span",{className:"icon ".concat(P.k)},x.a.createElement(P.db,{name:P.k})),x.a.createElement("span",null,r))}function j(e){var t=e.text;return x.a.createElement("div",{className:"PostInfo label"},t)}function N(e){var t=e.text,n=e.lines,r=e.fontSize,a=e.lineHeight;return x.a.createElement("span",{style:function(e,t,n){return{display:"-webkit-box",maxHeight:e*t*n,overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:e}}(n,r,a)},t)}B.defaultProps={isVoted:!1},B.__docgenInfo={description:"",methods:[],displayName:"PostVoteUp",props:{isVoted:{defaultValue:{value:"false",computed:!(R.__docgenInfo={description:"",methods:[],displayName:"PostVoteDown",props:{onVote:{type:{name:"func"},required:!(T.defaultProps={className:""}),description:""},value:{type:{name:"number"},required:!0,description:""}}})},type:{name:"bool"},required:!1,description:""},onVote:{type:{name:"func"},required:!1,description:""},value:{type:{name:"number"},required:!0,description:""}}},T.__docgenInfo={description:"",methods:[],displayName:"PostViews",props:{className:{defaultValue:{value:"''",computed:!(U.__docgenInfo={description:"",methods:[],displayName:"PostComments",props:{value:{type:{name:"number"},required:!0,description:""}}})},type:{name:"string"},required:!1,description:""},value:{type:{name:"number"},required:!0,description:""}}},j.__docgenInfo={description:"",methods:[],displayName:"PostLabel",props:{text:{type:{name:"string"},required:!0,description:""}}},N.__docgenInfo={description:"",methods:[],displayName:"TruncatedText",props:{text:{type:{name:"string"},required:!0,description:""},lines:{type:{name:"number"},required:!0,description:""},fontSize:{type:{name:"number"},required:!0,description:""},lineHeight:{type:{name:"number"},required:!0,description:""}}};n("yQno");function L(e){var t=e.title,n=e.children,r=e.isNotAd,a=e.privacy,i=e.className,o=e.views;if(!r&&!t)return null;var s=-1===[M.q,M.l].indexOf(a),c=q()(D()({"Post-item-title-wrap":!0},i,i));return x.a.createElement("div",{className:c},x.a.createElement("div",{className:"Post-item-title"},x.a.createElement(N,{lines:2,fontSize:14,lineHeight:1.14,text:t})),x.a.createElement("div",{className:"Post-item-info"},s&&r&&n,a===M.q&&x.a.createElement(j,{text:Object(w.a)("postPrivate")}),a===M.l&&x.a.createElement(j,{text:Object(w.a)("postHidden")}),r&&1<=o&&x.a.createElement(T,{value:o,className:a===M.l?"hidden":""})))}L.defaultProps={className:"",privacy:M.r},L.__docgenInfo={description:"",methods:[],displayName:"Title",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},privacy:{defaultValue:{value:"POST_PUBLIC",computed:!0},type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},children:{type:{name:"array"},required:!1,description:""},isNotAd:{type:{name:"bool"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""}}};n("MQwj");var F=x.a.createElement("svg",{className:"Grid-ad-arrow",width:"10px",height:"10px",viewBox:"0 -2 7 8"},x.a.createElement("g",{id:"Ad-UX",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},x.a.createElement("g",{transform:"translate(-1067.000000, -405.000000)",fill:"#2C2F34"},x.a.createElement("g",{transform:"translate(1066.000000, 405.000000)"},x.a.createElement("g",{id:"Layer_1"},x.a.createElement("rect",{id:"Rectangle-path",transform:"translate(3.602175, 3.397824) rotate(225.000000) translate(-3.602175, -3.397824) ",x:"2.85931752",y:"0.426395641",width:"1.48571433",height:"5.9428573"}),x.a.createElement("polygon",{id:"Shape",points:"6.97142857 5.22857143 5.48571429 5.22857143 5.48571429 1.51428571 1.77142857 1.51428571 1.77142857 0.0285714286 6.97142857 0.0285714286"}))))));function W(e){var t=e.isThumbnailAd,n=e.isPromotedAd,r=e.imagesCount,a=e.metaLabel;return x.a.createElement("div",{className:"Post-item-meta"},a&&x.a.createElement("div",{className:"Post-item-image-video"},a),n&&x.a.createElement("div",{className:"Post-item-external-ad"},Object(w.a)("promotedText")),t&&x.a.createElement("div",{className:"Post-item-external-ad"},"ad",F),!t&&!n&&1<r&&x.a.createElement("div",{className:"Post-item-image-count"},r.toLocaleString()))}W.__docgenInfo={description:"",methods:[],displayName:"Meta",props:{isThumbnailAd:{type:{name:"bool"},required:!1,description:""},isPromotedAd:{type:{name:"bool"},required:!1,description:""},imagesCount:{type:{name:"number"},required:!1,description:""},metaLabel:{type:{name:"string"},required:!1,description:""}}};var V=W,G=n("gmqy"),z=n("CG6i"),H=n("cG8M"),K=function(e){function i(){var e,t;o()(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=c()(this,(e=d()(i)).call.apply(e,[this].concat(r))),D()(p()(t),"imageLoaded",!1),D()(p()(t),"handlerLoad",function(e){t.imageLoaded=!0,t.props.onLoad&&t.props.onLoad(e)}),t}return f()(i,e),s()(i,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.onError,a=e.animationType,i=e.playVideo,o=e.src,s=e.placeholderSrc||o.coverImage,c=s;return i&&(c=o.video),a!==M.p&&(c=s),a===M.n&&this.imageLoaded?x.a.createElement(H.b,this.props):x.a.createElement(z.a,{thumbSrc:c,originalSrc:c,height:n,width:t,onError:r,onLoad:this.handlerLoad})}}]),i}(x.a.Component);K.defaultProps={animationType:M.n,src:{image:"",video:"",coverImage:""},playVideo:!0},K.__docgenInfo={description:"",methods:[{name:"handlerLoad",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"PostHomeVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n    coverImage: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},coverImage:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},placeholderSrc:{type:{name:"string"},required:!1,description:""}}};var Y=Object(G.a)(K),J=n("n/mK"),Q=n("HWIq");n("MZXA");function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Z(e){var t="",n={};return(0<arguments.length&&void 0!==e?e:[]).forEach(function(e){switch(e.type){case"accolade_border":n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(n,!0).forEach(function(e){D()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n,{},function(e){var t=0<arguments.length&&void 0!==e?e:[],n=t.length;if(0===n)return{};var r="linear-gradient(165deg,";if(1<n){var a=0,i=100/(n-1);t.forEach(function(e){var t=100===a?")":", ";r+="#".concat(e," ").concat(a,"%").concat(t),a+=i})}else 1===n&&(r+="#".concat(t[0]," 0%, #").concat(t[0]," 100%)"));return{background:r}}(e.colors));break;case"accolade_icon":t=e.url}}),{styles:n,accoladeImage:t}}function $(e){var t=e.children,n=e.display,r=void 0===n?[]:n;if(0===r.length)return t;var a=Z(r),i=a.styles,o=a.accoladeImage;return x.a.createElement("div",{style:i,className:"AccoladeBorder"},o&&x.a.createElement(Q.a,{imageUrl:o,background:!0}),t)}$.defaultProps={display:[]},$.__docgenInfo={description:"",methods:[],displayName:"AccoladeBorder",props:{display:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""}}};n("ZYtQ");var ee=function(e){function t(e){var s;return o()(this,t),s=c()(this,d()(t).call(this,e)),D()(p()(s),"isVoteHandler",!1),D()(p()(s),"getVoteHandler",function(o){return function(e){var t=s.props,n=t.post,r=t.isUserLoggedIn,a=t.onGalleryImageVote;if(!r||!a)return!0;e.preventDefault();var i=n.vote;if(s.isVoteHandler=!0,i===o)return a(n.id,M.w);a(n.id,o)}}),D()(p()(s),"handlerSaveGalleryPage",function(){var e=s.props,t=e.onSaveGalleryPage,n=e.post;if(!t)return!0;t(n.galleryPage)}),D()(p()(s),"clickHandler",function(){s.props.post.isAd&&s.props.adTileTapped(s.props.post.id)}),D()(p()(s),"inViewHandler",function(){Object(I.a)(s.post.current)&&(s.props.adTileInView(s.props.post.id),Object(S.mb)("scroll",s.inViewHandler))}),s.post=x.a.createRef(),s.props.post.isAd&&(s.inViewHandler=v()(s.inViewHandler.bind(p()(s)),100),Object(S.c)("scroll",s.inViewHandler)),s}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.props.post.isAd&&this.inViewHandler()}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.post,a=t.spinner,i=t.isUserLoggedIn,o=t.styles,s=t.onRemoveGalleryPage,c=t.isViewPort,l=t.onGalleryImageVote,d=t.usePrivacy,u=t.viewGif,p=t.isWebPSupported,m=r.adUrl,f=r.adType,g=r.title,h=r.href,b=r.target,v=r.views,y=r.commentCount,E=r.ups,_=r.isAd,C=r.downs,O=r.isVideo,S=r.src,I=r.animationType,k=r.height,w=r.width,A=r.meta,P=r.display,T=i&&l&&(r.vote||M.w),j=q()((e={},D()(e,n,!!n),D()(e,"".concat(T,"vote"),!!T),D()(e,"novote",!T),e)),N=function(e,t){return t?e.webPImage:e.coverImage}(S,p);return x.a.createElement(J.a,{draggable:"false",onMouseEnter:this.handlerSaveGalleryPage,onMouseLeave:s,className:j,to:0<f&&m?m:h,target:b,onClick:this.clickHandler,innerRef:this.post,isExternalAd:3===f},x.a.createElement($,{display:P},x.a.createElement("div",{className:"Post-item-container"},O?x.a.createElement(Y,{animationType:I,styles:o,src:S,height:k,width:w,playVideo:u&&I===M.n&&c,spinner:a,placeholderSrc:N}):x.a.createElement(z.b,{thumbSrc:N,originalSrc:N,height:k,width:w,styles:o,spinner:a}),this.props.children,x.a.createElement(V,{isPromotedAd:A.isPromotedAd,isThumbnailAd:A.isThumbnailAd,imagesCount:A.imagesCount,metaLabel:u?"":A.label}),x.a.createElement(L,{title:g,isNotAd:!_,views:v,privacy:d?r.privacy:""},x.a.createElement(B,{value:T===M.v?E+1:E,onVote:this.getVoteHandler(M.v),isVoted:this.isVoteHandler&&T===M.v}),i&&x.a.createElement(R,{value:T===M.u?C+1:C,onVote:this.getVoteHandler(M.u)}),x.a.createElement(U,{value:y})),A.pixels&&A.pixels.map(function(e,t){return x.a.createElement("img",{key:"tilePixel-".concat(t),src:e,style:{display:"none"}})}))))}}]),t}(h.Component);ee.defaultProps={className:"",usePrivacy:!1,viewGif:!0};function te(e){var t=e.gallery,n=e.agent;return{viewGif:t.get("viewGif")&&!t.get("pauseAnimation"),isWebPSupported:n.get(k.r)}}var ne={onGalleryImageVote:_.A,onSaveGalleryPage:_.M,onRemoveGalleryPage:_.J,adTileInView:C.l,adTileTapped:C.m},re=Object(y.b)(te,ne)(ee);ee.__docgenInfo={description:"",methods:[{name:"getVoteHandler",docblock:null,modifiers:[],params:[{name:"voteType",type:null}],returns:null},{name:"handlerSaveGalleryPage",docblock:null,modifiers:[],params:[],returns:null},{name:"clickHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inViewHandler",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostHome",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},usePrivacy:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},viewGif:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},spinner:{type:{name:"object"},required:!0,description:""},isViewPort:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},styles:{type:{name:"object"},required:!1,description:""},onGalleryImageVote:{type:{name:"func"},required:!1,description:""},onSaveGalleryPage:{type:{name:"func"},required:!1,description:""},onRemoveGalleryPage:{type:{name:"func"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},adTileInView:{type:{name:"func"},required:!1,description:""},adTileTapped:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""}}};t.c=Object(O.a)(Object(y.b)(te,ne)(ee))},"ej/z":function(e,t,n){"use strict";function r(e,t,n){if(t<=e)return null;var r=n/t;return Math.ceil(e*r)}function a(e,t){return t/2<e}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},emG5:function(e,t,n){},f6ut:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("lSNA"),m=n.n(r),a=n("q1tI"),f=n.n(a),i=n("TSYQ"),g=n.n(i),h=(n("17x9"),n("m+bm"),{default:"",left:"Checkmark--left",right:"Checkmark--right"});function o(e){var t=e.selected,n=e.text,r=void 0===n?"":n,a=e.handleOnChange,i=void 0===a?function(){}:a,o=e.checkmarkPosition,s=void 0===o?"default":o,c=e.name,l=void 0===c?"":c,d=e.value,u=void 0===d?"":d,p=g()(m()({Checkmark:!0},h[s],!0));return f.a.createElement("label",{className:"Checkbox-wrapper"},r,f.a.createElement("input",{onChange:i,type:"checkbox",defaultChecked:t,name:l,value:u}),f.a.createElement("div",{className:p}))}o.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{text:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},handleOnChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},checkmarkPosition:{defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1},{value:"'left'",computed:!1},{value:"'right'",computed:!1}]},required:!1,description:""},name:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},value:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},selected:{type:{name:"bool"},required:!1,description:""},reference:{type:{name:"func"},required:!1,description:""}}}},fbUk:function(e,t,n){},fuAU:function(e,t,n){},fwpH:function(e,t,n){e.exports=n.p+"desktop-assets/sign-out.0d47b3673013e057809852351cc9c7b8.svg"},gAaL:function(e,t,n){},"gY/+":function(e,t,n){e.exports=n.p+"desktop-assets/bg-mountain-left-large.8078d009f0b46a7e436362bb12d1e0e6.svg"},ghid:function(e,t,n){},gjSL:function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return A}),n.d(t,"c",function(){return T});var r=n("pVnL"),c=n.n(r),a=n("QILm"),l=n.n(a),i=n("lwsE"),d=n.n(i),o=n("W8MJ"),u=n.n(o),s=n("a1gu"),p=n.n(s),m=n("Nsbk"),f=n.n(m),g=n("PJYZ"),h=n.n(g),b=n("7W2i"),v=n.n(b),y=n("lSNA"),E=n.n(y),_=n("q1tI"),C=n.n(_),O=(n("17x9"),n("/MKj")),S=n("WSv3"),I=n("E9Wd"),k=n("GB65");var w=function(){return"".concat(I.L,"/signin?redirect=").concat(encodeURIComponent(Object(k.w)()))},A=function(){return"".concat(I.L,"/register?redirect=").concat(encodeURIComponent(Object(k.w)()))},P={replaceUrlOnFail:"",redirectUrlOnLogout:""},T=function(e){var s=0<arguments.length&&void 0!==e?e:P;return function(o){var e=function(e){function i(){var e,t;d()(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=p()(this,(e=f()(i)).call.apply(e,[this].concat(r))),E()(h()(t),"handleRedirectLogout",function(){(0,t.props.logout)()}),E()(h()(t),"handleLoginRedirect",function(){return s.replaceUrlOnFail&&Object(k.nb)(s.replaceUrlOnFail)}),t}return v()(i,e),u()(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isUserLoaded,n=e.isLoading,r=e.fetchSignedInUser,a=e.isFailed;t||n||r(),a&&this.handleLoginRedirect()}},{key:"componentDidUpdate",value:function(e){this.props.isFailed&&!e.isFailed&&this.handleLoginRedirect()}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.isUserLoggedIn,r=e.username,a=e.displayUsername,i=l()(e,["isLoading","isUserLoggedIn","username","displayUsername"]);return C.a.createElement(o,c()({},i,{logout:this.handleRedirectLogout,isLoading:t,isUserLoggedIn:n,username:r,displayUsername:a,loginLink:w()}))}}]),i}(C.a.Component);return e.displayName="WithUserData(".concat(function(e){return e.displayName||e.name||"Component"}(o),")"),Object(O.b)(function(e){var t=e.user,n=e.ui;return{username:t.get("username"),displayUsername:t.get("displayUsername"),isUserLoggedIn:t.get("isLoggedIn"),isUserLoaded:t.get("isLoaded"),isLoading:n.spinner.get("user")&&n.spinner.get("user").loading,isFailed:n.spinner.get("user")&&n.spinner.get("user").loadFail,isSubscribed:t.getIn(["subscription","isSubscribed"])}},{logout:S.H,fetchSignedInUser:S.C})(e)}}},gmqy:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n("pVnL"),a=n.n(r),i=n("lwsE"),o=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),d=n.n(l),u=n("Nsbk"),p=n.n(u),m=n("PJYZ"),f=n.n(m),g=n("7W2i"),h=n.n(g),b=n("lSNA"),v=n.n(b),y=n("q1tI"),E=n.n(y),_=(n("17x9"),n("DUmG")),C=n.n(_);function O(e){var t=e.isLoading,n=e.color,r=e.height;if(!t)return null;var a={position:"absolute",zIndex:"".concat(C.a.$zIndexPostSpinner),top:0,left:0,width:"100%",height:"".concat(r,"px"),background:"linear-gradient(".concat(n,", ").concat(C.a.$voyagerDarkGrey,")")};return E.a.createElement("div",{className:"Spinner",style:a})}function S(t){return function(e){function n(e){var t;return o()(this,n),t=d()(this,p()(n).call(this,e)),v()(f()(t),"_isMounted",!1),v()(f()(t),"loadHandler",function(){t._isMounted&&t.setState({isLoading:!1})}),v()(f()(t),"errorHandler",function(){t.setState({isLoading:!1})}),t.state={isLoading:!0},t}return h()(n,e),c()(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.spinner;return E.a.createElement("div",{className:"Post-item-media",style:this.props.styles},E.a.createElement(O,{isLoading:this.state.isLoading,color:e.color,height:e.height}),E.a.createElement(t,a()({},this.props,{onLoad:this.loadHandler,onError:this.errorHandler})))}}]),n}(E.a.Component)}O.__docgenInfo={description:"",methods:[],displayName:"PostSpinner",props:{isLoading:{type:{name:"bool"},required:!1,description:""},color:{type:{name:"string"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""}}}},hIyu:function(e,t,n){"use strict";var r=n("pVnL"),c=n.n(r),a=n("QILm"),l=n.n(a),i=n("lwsE"),o=n.n(i),s=n("W8MJ"),d=n.n(s),u=n("a1gu"),p=n.n(u),m=n("Nsbk"),f=n.n(m),g=n("PJYZ"),h=n.n(g),b=n("7W2i"),v=n.n(b),y=n("lSNA"),E=n.n(y),_=n("q1tI"),C=n.n(_),O=n("/MKj"),S=(n("17x9"),n("1coQ")),I=n("66r6"),k=n("26Ob"),w=n("AoHe"),A=n("RJ0p"),P=n("P5Jw"),T=n("G5ih"),j=n("E9Wd"),N=n("wmRA"),D=n("uGFe"),x=n("fdoY"),q=n("9rNq"),M=n("pNV7");n("Ya97");function R(e){var t=e.id,n=e.downloadImageAction,r=e.isLoggedIn,a=e.onFavorite,i=C.a.createElement(P.CopyToClipboard,{text:j.s+t},C.a.createElement("button",{type:"button"},C.a.createElement("span",{className:"label"},Object(T.a)("imageCopy")))),o=C.a.createElement("button",{type:"button",onClick:function(){return n(t,t)}},C.a.createElement("span",{className:"label"},Object(T.a)("download"))),s=C.a.createElement("button",{type:"button",onClick:function(){return a(t,null,!1,null,N.t)}},C.a.createElement("span",{className:"label"},Object(T.a)("favoriteLabel")));return C.a.createElement(q.a,{className:"mediaDropdown-menu",dropdownIcon:C.a.createElement(M.db,{name:M.j,width:21})},i,o,r&&s)}R.__docgenInfo={description:"",methods:[],displayName:"MediaItemDropDownMenu",props:{id:{type:{name:"string"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},onFavorite:{type:{name:"func"},required:!0,description:""},downloadImageAction:{type:{name:"func"},required:!0,description:""}}};var B=Object(O.b)(function(e){return{isLoggedIn:!!e.user.get("isLoggedIn")}},{downloadImageAction:D.Eb,onFavorite:x.ab})(R),U=n("9uSn");var L=function(e){function i(){var e,r;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=p()(this,(e=f()(i)).call.apply(e,[this].concat(n))),E()(h()(r),"getReactionPreview",function(e){var t=r.props.onClick;if(e){var n=e.match(I.c);return C.a.createElement("div",{className:"MediaPreview-wrapper",onClick:t},C.a.createElement("div",{className:"MediaMenuContainer"},Object(A.b)(e),C.a.createElement(B,{id:n[1]})))}}),r}return v()(i,e),d()(i,[{key:"expandLink",value:function(){return"true"===this.props.expandlink&&this.props.children!==I.a&&new RegExp(I.c).test(this.props.href)}},{key:"renderTargetMedia",value:function(){var e=this.props,t=(e.children,e.href),n=e.postMedia,r=e.onClick,a=l()(e,["children","href","postMedia","onClick"]),i=n.get(parseInt(t,10)-1),o=i.getIn(["src",i.get("isVideo")?"video":"image"]),s=C.a.createElement("a",c()({href:o},a),"#".concat(t));return C.a.createElement(U.a,{className:"Tooltip-targetMedia",onClick:r,inline:!0,src:o},s)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.href,r=(e.postMedia,l()(e,["children","href","postMedia"]));if(this.expandLink())return this.getReactionPreview(n);if(t===I.e)return this.renderTargetMedia();var a=t===I.a?n:t,i=C.a.createElement("a",c()({href:n},r),a);return Object(w.g)(n)?C.a.createElement(U.a,{className:"Tooltip-media",inline:!0,src:n},i):i}}]),i}(C.a.Component);L.defaultProps={expandlink:"false"};t.a=Object(O.b)(function(){return{component:L}},function(n){return{onClick:function(e){var t=e.target.src||e.target.href;return!Object(w.g)(t)||(e.preventDefault(),e.stopPropagation(),n(Object(k.b)({show:!0,src:t})),!1)}}})(S.a);L.__docgenInfo={description:"",methods:[{name:"expandLink",docblock:null,modifiers:[],params:[],returns:null},{name:"getReactionPreview",docblock:null,modifiers:[],params:[{name:"href",type:null}],returns:null},{name:"renderTargetMedia",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LinkifyDecorator",props:{expandlink:{defaultValue:{value:"'false'",computed:!1},type:{name:"enum",value:[{value:"'true'",computed:!1},{value:"'false'",computed:!1}]},required:!1,description:""},children:{type:{name:"string"},required:!0,description:""},href:{type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""},postMedia:{type:{name:"object"},required:!1,description:""}}}},hrf1:function(e,t,n){},"iaU+":function(e,t,n){"use strict";n.d(t,"a",function(){return Re});var r=n("lwsE"),o=n.n(r),a=n("W8MJ"),s=n.n(a),i=n("a1gu"),c=n.n(i),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),y=n.n(g),h=n("q1tI"),E=n.n(h),b=(n("17x9"),n("TSYQ")),_=n.n(b),v=n("/MKj"),C=n("E9Wd"),O=n("GB65"),S=n("LZBw"),I=n("zTH+"),k=n("c0eP"),w=n("DzJC"),A=n.n(w),P=n("kpbE"),T=n("G5ih"),j=n("JzwX"),N=n("pNV7"),D=n("xypG"),x=n("oYs2");function q(e){var t=e.suggestion,i=e.searchString,n=t[x.a];return n&&n.length?E.a.createElement("div",{className:"Suggestion-block ".concat(x.a)},E.a.createElement("div",{className:"Suggestion-title"}),n.map(function(e,t){var n="".concat(C.L,"/gallery/").concat(e.hash||e.id),r=e.title,a=V(i,r);return a.length?E.a.createElement("a",{href:n,key:"".concat(t),className:"Suggestion-item",title:r},E.a.createElement("span",{className:"Suggestion-item-text"},a)):null})):null}q.__docgenInfo={description:"",methods:[],displayName:"SuggestedPosts",props:{suggestion:{type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};var M=n("55Ip"),R=n("+qLk");function B(e){var t=e.suggestion,a=e.searchString,n=t[x.b];return n&&n.length?E.a.createElement("div",{className:"Suggestion-block ".concat(x.b)},E.a.createElement("div",{className:"Suggestion-title"},x.b),n.map(function(e,t){var n=e.display_name,r=V(a,n);return r.length?E.a.createElement(M.b,{to:"/".concat(R.D,"/").concat(e.name),key:"".concat(t),className:"Suggestion-item",title:n},E.a.createElement("div",{className:"thumbnail ".concat(x.b),style:{backgroundImage:"url(".concat(C.M,"/").concat(e.background_hash,"_d.jpg?maxwidth=60&shape=thumb&fidelity=high)")}}),E.a.createElement("span",{className:"Suggestion-item-text"},"#",r)):null})):null}B.__docgenInfo={description:"",methods:[],displayName:"SuggestedTags",props:{suggestion:{type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};var U=n("7tbW"),L=n.n(U);function F(e){var t=e.suggestion,n=void 0===t?{}:t,o=e.searchString,r=n[x.c];return r&&r.length?E.a.createElement("div",{className:"Suggestion-block ".concat(x.c)},E.a.createElement("div",{className:"Suggestion-title"},x.c),r.map(function(e,t){var n="".concat(C.L,"/user/").concat(e.url),r=e.url,a=r.split(""),i=L()(o.toLowerCase().split(""));return E.a.createElement("a",{href:n,key:"".concat(t),className:"Suggestion-item",title:r},E.a.createElement("div",{className:"thumbnail ".concat(x.c),style:{backgroundImage:"url(".concat(e.avatar,")")}}),E.a.createElement("span",{className:"Suggestion-item-text"},"@",a.map(function(e,t){return-1===i.indexOf(e.toLowerCase())?e:E.a.createElement("strong",{key:"strong-users-".concat(t),className:"Suggestion-match-case"},e)})))})):null}F.__docgenInfo={description:"",methods:[],displayName:"SuggestedUsers",props:{suggestion:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};n("A8WO");function W(e,t){return E.a.createElement("strong",{key:t,className:"Suggestion-match-case"},e)}function V(e,t,n){var r=2<arguments.length&&void 0!==n?n:W,a=[];if(!e)return a;for(var i=e.trim().toLowerCase().replace(/\s+/g," ").split(" ").join("|"),o=new RegExp("(".concat(i,")"),"gi"),s=o.exec(t),c=0;null!==s&&s[0];)c!==s.index&&0<s.index&&a.push(t.slice(c,s.index)),c=s.index+s[0].length,a.push(r(t.slice(s.index,c),s.index)),s=o.exec(t);return c<t.length&&a.push(t.slice(c,t.length)),a}function G(e){function t(e){var t=e.target.closest(".Suggestion-list");t&&0<e.deltaY&&t.clientHeight+t.scrollTop+5>=t.scrollHeight&&e.preventDefault()}var n=e.suggestion,r=e.searchString,a=e.maxHeight;return E.a.createElement("div",{className:"Suggestion"},E.a.createElement("div",{className:"Suggestion-list".concat(a?" Scrollbar":""),onWheel:t,onTouchMove:t,style:{maxHeight:a?a/2:null}},E.a.createElement(D.d,{model:"suggest",size:20}),E.a.createElement(q,{suggestion:n,searchString:r}),E.a.createElement(B,{suggestion:n,searchString:r}),E.a.createElement(F,{suggestion:n,searchString:r})))}G.__docgenInfo={description:"",methods:[],displayName:"SearchbarSuggestion",props:{suggestion:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},searchString:{type:{name:"string"},required:!0,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},loading:{type:{name:"bool"},required:!1,description:""}}};n("oG7g");var z=function(e){function t(e){var i;return o()(this,t),i=c()(this,d()(t).call(this,e)),y()(p()(i),"inputChangeHandler",function(e){if(!e.target.value)return i.setState({isOpen:!1}),void i.props.cleanSearch();i.props.inputSearch(e.target.value)}),y()(p()(i),"getSuggest",function(e){var t=e.handleFetchSuggest,n=e.searchTag,r=e.searchString,a=i.getSearchString(r,n.symbol);i.setState({isOpen:!!a}),a?t(a.toLowerCase(),n.tagName):r||i.props.cleanSearch()}),y()(p()(i),"submitHandler",function(e){e.preventDefault(),i.props.onSubmitSearch(i.props.searchString),Object(O.db)("".concat(C.L,"/search?q=").concat(i.props.searchString))}),y()(p()(i),"handleMouseDown",function(){i.props.suggest.size&&i.setState({isOpen:!!i.props.suggest.size})}),y()(p()(i),"handleKeyDown",function(e){27===e.keyCode&&i.setState({isOpen:!1})}),i.state={isOpen:!1},i}return f()(t,e),s()(t,[{key:"componentDidUpdate",value:function(e,t){if(e.searchString!==this.props.searchString)this.getSuggest(this.props);else if(e.positionY!==this.props.positionY&&this.searchText&&t.isOpen){this.searchText.getBoundingClientRect().bottom<-70&&this.setState({isOpen:!1})}}},{key:"componentDidMount",value:function(){var e=this;this.removeAutoCloser=Object(j.a)({el:function(){return e.searchText},cb:function(){return e.setState({isOpen:!1})}});this.getSuggest=A()(this.getSuggest,600,{leading:!1,trailing:!0})}},{key:"componentWillUnmount",value:function(){this.getSuggest.cancel(),this.removeAutoCloser&&this.removeAutoCloser()}},{key:"getSearchString",value:function(e,t){return-1<["#","@"].indexOf(t)?e.slice(1,e.length):e}},{key:"render",value:function(){var t=this,e=this.props,n=e.searchString,r=e.loading,a=e.suggest,i=e.searchTag,o=e.style,s=a.size&&"function"==typeof a.toObject?a.toObject():a;return E.a.createElement("div",{className:"Searchbar",style:o},E.a.createElement("form",{onSubmit:this.submitHandler,className:"Searchbar-form"},E.a.createElement("input",{ref:function(e){t.searchText=e},placeholder:Object(T.a)("searchPlaceholder"),type:"text",className:"Searchbar-textInput",value:"".concat(n),onChange:this.inputChangeHandler,onMouseDown:this.handleMouseDown,onKeyDown:this.handleKeyDown,onTouchEnd:this.handleMouseDown,style:{height:36}}),E.a.createElement("button",{onClick:this.submitHandler,type:"submit",className:"Searchbar-submitInput"},E.a.createElement(N.db,{name:N.t}))),this.state.isOpen&&a.size?E.a.createElement(G,{suggestion:s,searchString:this.getSearchString(n,i.symbol),loading:r}):null)}}]),t}(E.a.Component);z.defaultProps={searchTag:{symbol:""},suggest:{},style:{},onSubmitSearch:function(){}},z.__docgenInfo={description:"",methods:[{name:"inputChangeHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"getSearchString",docblock:null,modifiers:[],params:[{name:"searchString",type:null},{name:"symbol",type:null}],returns:null},{name:"getSuggest",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"submitHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Searchbar",props:{searchTag:{defaultValue:{value:"{\n    symbol: '',\n}",computed:!1},type:{name:"shape",value:{symbol:{name:"string",required:!1},tagName:{name:"string",required:!1}}},required:!1,description:""},suggest:{defaultValue:{value:"{}",computed:!1},type:{name:"instanceOf",value:"Object"},required:!1,description:""},style:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},onSubmitSearch:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""},inputSearch:{type:{name:"func"},required:!0,description:""},cleanSearch:{type:{name:"func"},required:!0,description:""},handleFetchSuggest:{type:{name:"func"},required:!0,description:""},loading:{type:{name:"bool"},required:!1,description:""},positionY:{type:{name:"number"},required:!1,description:""}}};var H=Object(v.b)(function(e){var t=e.search,n=e.ui,r=e.display;return{searchString:t.get("searchString")||"",searchTag:t.get("searchTag"),suggest:t.get("suggest")||{},loading:n.spinner&&n.spinner.get("suggest")&&n.spinner.get("suggest").loading,positionY:r.get("positionY")}},function(n){return{handleFetchSuggest:function(e,t){return n(Object(P.e)(e,t))},inputSearch:function(e){return n(Object(P.f)(e))},onSubmitSearch:function(e){return n(Object(P.g)(e))},cleanSearch:function(){return n(Object(P.d)())}}})(z),K=n("ygTn"),Y=n("+VfX"),J=n("lZex"),Q=(n("rvyR"),function(e){function t(){return o()(this,t),c()(this,d()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.searchName;return E.a.createElement("div",{className:"NavbarDropdown"},E.a.createElement("ul",null,E.a.createElement("li",null,E.a.createElement(k.a,null)),E.a.createElement("li",null,E.a.createElement(J.a,null))),e===Y.k&&E.a.createElement(H,{name:"dropdown"}))}}]),t}(E.a.Component));var X=Object(v.b)(function(e){return{searchName:e.ui.cover.getIn(["searchbar","name"])}})(Q);Q.__docgenInfo={description:"",methods:[],displayName:"NavbarDropdown",props:{searchName:{type:{name:"string"},required:!1,description:""}}};n("HhWI");var Z=function(e){function t(e){var r;return o()(this,t),r=c()(this,d()(t).call(this,e)),y()(p()(r),"updateDropdownNavbar",function(e,t){var n=r.dropDown;n&&e.target!==n&&n.parentNode.contains(e.target)&&"INPUT"===e.target.tagName?e.preventDefault():r.setState({isOpen:t})}),y()(p()(r),"toggleHandler",function(e){var t=r.state.isOpen;r.updateDropdownNavbar(e,!t)}),r.state={isOpen:!1},r}return f()(t,e),s()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.forceClose;this.state.isOpen&&e.forceClose!==t&&this.setState({isOpen:!1})}},{key:"componentDidMount",value:function(){var t=this;this.removeAutoCloser=Object(j.a)({el:function(){return t.dropDown},cb:function(e){return t.updateDropdownNavbar(e,!1),!0}})}},{key:"componentWillUnmount",value:function(){this.removeAutoCloser&&this.removeAutoCloser()}},{key:"render",value:function(){var t=this,e=this.state.isOpen;return E.a.createElement("div",{className:"NavbarMenuButton"},E.a.createElement("div",{className:"icon icon-menu",ref:function(e){t.dropDown=e},onClick:this.toggleHandler}),e&&E.a.createElement(X,null))}}]),t}(h.Component);Z.__docgenInfo={description:"",methods:[{name:"updateDropdownNavbar",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"isOpen",type:null}],returns:null},{name:"toggleHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"NavbarMenuButton",props:{forceClose:{type:{name:"number"},required:!1,description:""}}};var $=function(e){function t(){return o()(this,t),c()(this,d()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.left,a=e.top,i=e.right,o=e.bottom,s=_()(y()({MoveContainer:!0},t,t));return E.a.createElement("div",{className:s,style:{left:r,top:a,right:i,bottom:o}},n)}}]),t}(h.Component);$.defaultProps={className:""},$.__docgenInfo={description:"",methods:[],displayName:"MoveContainer",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},left:{type:{name:"number"},required:!1,description:""},top:{type:{name:"number"},required:!1,description:""},right:{type:{name:"number"},required:!1,description:""},bottom:{type:{name:"number"},required:!1,description:""}}};var ee=n("2JvH"),te=n("RIqP"),ne=n.n(te),re=n("LvDl"),ae=n("zMZQ"),ie=n.n(ae),oe=n("r9xK"),se=n.n(oe),ce=n("DT9I"),le=n.n(ce),de=n("+sW7"),ue=n.n(de),pe=n("uFEW"),me=n.n(pe),fe=n("naFI"),ge=n.n(fe),he=n("X9Zs"),be=n.n(he),ve=[ie.a,se.a,le.a,ue.a],ye=[me.a,ge.a,be.a],Ee=[-90,90],_e=[-45,45];n("w1ny");var Ce=100,Oe={limit:50,speed:[5.5,2.5],wind:[-.5,.5],spin:[-25,25]};function Se(e,t,n,r){var a=[];e.forEach(function(e){var t=re.random.apply(void 0,ne()(Oe.spin));a.push(Object.assign(e,{y:e.y+e.speed},{x:e.x+e.wind},{rotate:e.rotate+t}))});var i=a.filter(function(e){return function(e){return e.x<Object(O.v)()&&e.y<Object(O.u)()}(e)});return t<n&&i.length<Ce?(i.push(function(e,t){var n=t();return n.speed=re.random.apply(void 0,ne()(Oe.speed)),n.wind=re.random.apply(void 0,ne()(Oe.wind)),n.x=Object(re.random)(0,Object(O.v)()),n.y=-10,n.key=e,n}("particle ".concat(t+1),r)),{totalCreated:t+1,confetti:i}):{totalCreated:t,confetti:i.slice(0,n)}}var Ie=function(e){function t(e){var i;return o()(this,t),i=c()(this,d()(t).call(this,e)),y()(p()(i),"startConfetti",Object(re.debounce)(function(){var r=i.props.particleGenerator;i.setState(function(e){var t=e.limit+Oe.limit,n=Se(e.confetti,e.totalCreated,t,r);return{confetti:n.confetti,totalCreated:n.totalCreated,limit:t}},function(){1===i.state.confetti.length&&i.runAnimation()})},500,{leading:!0})),y()(p()(i),"runAnimation",function(){var t=i.props.particleGenerator,e=i.state,n=e.confetti,r=e.totalCreated,a=e.limit;Object(O.pb)(function(){var e=Se(n,r,a,t);i.setState({confetti:e.confetti,totalCreated:e.totalCreated}),e.confetti.length&&i.runAnimation()})}),i.state={confetti:[],totalCreated:0,limit:0},i}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props.eventName;Object(O.c)(e,this.startConfetti,!0)}},{key:"componentWillUnmount",value:function(){var e=this.props.eventName;Object(O.mb)(e,this.startConfetti,!0)}},{key:"render",value:function(){var e=this.state.confetti;return E.a.createElement("div",null,0<e.length&&e.map(function(e){return E.a.createElement("img",{className:"confetti-particle",src:e.svg,style:{transform:"rotateZ(".concat(e.rotate,"deg)"),top:"".concat(e.y,"px"),left:"".concat(e.x,"px"),maxWidth:36,maxHeight:36},key:e.key})}))}}]),t}(E.a.Component);Ie.defaultProps={particleGenerator:function(){var e={};return Math.random()<.15?(e.svg=ye[Math.floor(Math.random()*ye.length)],e.rotate=re.random.apply(void 0,_e)):(e.svg=ve[Math.floor(Math.random()*ve.length)],e.rotate=re.random.apply(void 0,Ee)),e},eventName:"confetti"},Ie.__docgenInfo={description:"",methods:[{name:"runAnimation",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Confetti",props:{particleGenerator:{defaultValue:{value:"party",computed:!0},type:{name:"func"},required:!1,description:""},eventName:{defaultValue:{value:"'confetti'",computed:!1},type:{name:"string"},required:!1,description:""}}};var ke=[-45,45,-90,90],we="accolade_confetti",Ae=function(e){function i(){var e,a;o()(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a=c()(this,(e=d()(i)).call.apply(e,[this].concat(n))),y()(p()(a),"getUrls",function(){var e=a.props,t=e.accoladeData,n=e.accolades,r=t.get("accoladeIds");if(!n||!r)return[];return r.map(function(e){return function(e){return e&&e.get("image_url")}(n.find(function(t){return function(e){return e.get("id")===parseInt(t,10)}}(e)))}).filter(function(e){return!!e})}),a}return f()(i,e),s()(i,[{key:"componentDidUpdate",value:function(e){this.props.accoladeData!==e.accoladeData&&Object(O.Eb)(we)}},{key:"render",value:function(){var e=this.getUrls();return 0===e.length?null:E.a.createElement(E.a.Fragment,null,E.a.createElement(Ie,{eventName:we,particleGenerator:function(e){return function(){return{svg:e[Math.floor(Math.random()*e.length)],rotate:re.random.apply(void 0,ke)}}}(e)}))}}]),i}(E.a.Component);Ae.defaultProps={accoladeData:null,accolades:null},Ae.__docgenInfo={description:"",methods:[{name:"getUrls",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AccoladeConfetti",props:{accoladeData:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""},accolades:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""}}};var Pe=Object(v.b)(function(e){var t=e.postsData;return{accoladeData:e.ui.gallery.get("accoladeData"),accolades:t.getIn(["currentPostMeta","accolades","available"])}},{})(Ae);n("oJUB"),n("sUKj"),n("6IHV");var Te=function(e){function t(){return o()(this,t),c()(this,d()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.top,r=e.forceClose,a=_()({"Navbar HomeNavbar":!0,active:t});return E.a.createElement($,{className:a,top:n},E.a.createElement(Pe,null),E.a.createElement(Ie,null),E.a.createElement(Z,{"forcelose":r}),E.a.createElement("div",{className:"NavbarContainer-left"},E.a.createElement(K.a,null),E.a.createElement(k.b,null),E.a.createElement(ee.a,{className:"ProfileCover-up"})),E.a.createElement("div",{className:"NavbarContainer-center"},E.a.createElement(H,null)),E.a.createElement("div",{className:"NavbarContainer-right"},E.a.createElement(S.a,null)))}}]),t}(E.a.Component);Te.defaultProps={username:""},Te.__docgenInfo={description:"",methods:[],displayName:"Navbar",props:{username:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},fireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},fireInDropDownMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},top:{type:{name:"number"},required:!1,description:""},searchName:{type:{name:"string"},required:!1,description:""},forceClose:{type:{name:"number"},required:!1,description:""}}};var je=Object(v.b)(function(e){var t=e.user,n=e.ui,r=e.display;return{username:t.get("username"),top:n.cover.getIn(["navbar","top"]),searchName:n.cover.getIn(["searchbar","name"]),forceClose:r.get("positionY")}},function(e){return{fireMessagingNavAnalytics:function(){e(Object(I.c)("topNavBar"))},fireInDropDownMessagingNavAnalytics:function(){e(Object(I.c)("usernameDropdown")),e(Object(I.e)("messages"))}}})(Te),Ne=n("Bw9V");n("hrf1");function De(e){var t=e.newPosts,n=e.handleGalleryPostRerender;return t?E.a.createElement("div",{className:"NewPostsNotification",onClick:n},E.a.createElement(N.db,{name:N.b,className:"".concat(N.b)}),Object(T.a)("newPosts",t)):null}De.__docgenInfo={description:"",methods:[],displayName:"NewPostsNotification",props:{newPosts:{type:{name:"number"},required:!0,description:""},handleGalleryPostRerender:{type:{name:"func"},required:!0,description:""}}};var xe=Object(v.b)(function(e){return{newPosts:e.ui.newPosts.get("newPostsNumber")}},{handleGalleryPostRerender:Ne.C})(De),qe=n("/PhX");n("sQc6");var Me=function(e){function i(){var e,a;o()(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a=c()(this,(e=d()(i)).call.apply(e,[this].concat(n))),y()(p()(a),"scrollHandler",function(){var e=a.props.onScroll;a._lastKnownScrollPosition=Math.round(Object(O.bb)()),a._ticking||Object(O.pb)(function(){a.calculatePositioning(a._lastKnownScrollPosition),a._ticking=!1}),a._ticking=!0,e&&e()}),y()(p()(a),"updateHeight",function(){var e=a.props,t=e.coverHeight,n=e.modifyCoverHeight;if(a._elem){var r=Math.round(a._elem.getBoundingClientRect().height);t!==r&&n({height:r})}}),a}return f()(i,e),s()(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.modifyCoverHeight,n=e.updateHeightHandler;this._elem&&t({height:this._elem.getBoundingClientRect().height});this._lastKnownScrollPosition=0,this._ticking=!1,Object(O.a)("scroll",this.scrollHandler),"function"==typeof n&&n(this.updateHeight)}},{key:"calculatePositioning",value:function(e){var t=this.props,n=t.coverFixed,r=t.coverHeight,a=t.modifyCoverPosition;n&&e>r+Y.a||a({scrollY:e})}},{key:"componentWillUnmount",value:function(){(0,this.props.modifyCoverHeight)({height:0,top:0}),Object(O.ib)("scroll",this.scrollHandler)}},{key:"componentDidUpdate",value:function(){this.updateHeight()}},{key:"render",value:function(){var t=this,e=this.props,n=e.isPromoted,r=e.backgroundHash,a=e.coverTop,i=e.coverFixed,o=e.children,s=e.className,c=e.backgroundType,l=e.minHeight,d=e.Banner,u=e.isNavBar,p=e.SCTU,m=e.SCTUPath,f=e.SCTUTargeting,g=e.hideNewPostNotification,h=e.transformationStyle,b=_()(y()({isFixed:i,isPromoted:n},s,s)),v={top:a,minHeight:l,backgroundImage:function(e,t){switch(e){case Y.o:case Y.n:return;case Y.t:return"linear-gradient(to bottom, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.3) 20%), url(".concat(C.M,"/").concat(t,".jpg)");case Y.q:return"linear-gradient( rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2) ), url(".concat(C.L,"/user/").concat(t,"/cover)");case Y.v:return"linear-gradient(180deg, rgba(39, 42, 51, 0.8) 21%, #272A33 77%), linear-gradient(116.32deg, rgba(105, 19, 254, 0.56) 0%, rgba(1, 185, 107, 0.56) 100%), url(".concat(C.M,"/").concat(t,".jpg)");case Y.u:return"linear-gradient(rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 1) 100%), url(".concat(C.M,"/").concat(t,".jpg)");default:return"linear-gradient(167deg, rgba(68, 215, 142, 0), rgba(41, 182, 112, 0)), linear-gradient(rgba(0, 0, 0, 0.43), rgba(0, 0, 0, 0.43)), linear-gradient(141deg, #3023ae, #3ec871), url(".concat(C.M,"/").concat(t,".jpg)")}}(c,r)};return i&&(v=Object.assign(v,h)),E.a.createElement("div",{className:"App-cover NewCover ".concat(b),style:v,ref:function(e){t._elem=e}},p&&E.a.createElement(p,{path:m,onStatusChange:this.updateHeight,slotTargeting:f}),d&&E.a.createElement(d,{onStatusChange:this.updateHeight}),u&&E.a.createElement(je,null),o,!g&&i&&E.a.createElement(xe,null))}}]),i}(E.a.Component);Me.defaultProps={className:"",backgroundHash:"",isPromoted:!1,top:0,minHeight:Y.l,isNavBar:!0,SCTUTargeting:{},hideNewPostNotification:!1,preventFixed:!1};var Re=Object(v.b)(function(e,t){var n=e.gallery,r=e.ui,a=e.ad,i=t.backgroundType,o=t.backgroundHash,s=t.preventFixed,c=i===Y.q?(o||"").toLowerCase():n.get("streamBackgroundHash"),l={};return a.getIn(["transformation","animatingIn"])&&(l={opacity:0}),a.getIn(["transformation","enabled"])&&(l={background:"linear-gradient(rgba(".concat(a.getIn(["transformation","backgroundColor"]),", 0.64), rgba(").concat(a.getIn(["transformation","backgroundColor"]),", 0.9)), url(").concat(a.getIn(["transformation","backgroundImage"]),")"),opacity:a.getIn(["transformation","animatingOut"])?0:1}),{coverTop:r.cover.get("top"),coverHeight:r.cover.get("height"),isPromoted:n.get("streamIsPromoted"),backgroundHash:c,transformationStyle:l,coverFixed:!s&&r.cover.get("fixed")}},{modifyCoverHeight:qe.z,modifyCoverPosition:qe.A})(Me);Me.__docgenInfo={description:"",methods:[{name:"scrollHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"calculatePositioning",docblock:null,modifiers:[],params:[{name:"position",type:null}],returns:null},{name:"updateHeight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CoverHeader",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},backgroundHash:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},top:{defaultValue:{value:"0",computed:!1},required:!1},minHeight:{defaultValue:{value:"DEFAULT_HEIGHT",computed:!0},type:{name:"number"},required:!1,description:""},isNavBar:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},SCTUTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},hideNewPostNotification:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},preventFixed:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""},modifyCoverHeight:{type:{name:"func"},required:!0,description:""},modifyCoverPosition:{type:{name:"func"},required:!0,description:""},coverHeight:{type:{name:"number"},required:!0,description:""},backgroundType:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},coverFixed:{type:{name:"bool"},required:!1,description:""},updateHeightHandler:{type:{name:"func"},required:!1,description:""},Banner:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},SCTU:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},SCTUPath:{type:{name:"number"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""}}}},j33L:function(e,t,n){e.exports=n.p+"desktop-assets/bg-trees-left-large.a21da10d88fa26cbfa323b3bd4dfb31e.svg"},jakS:function(e,t,n){e.exports=n.p+"desktop-assets/icon-gift-only.6951e09baf803e59898127175c91be9f.svg"},kVJ9:function(e,t,n){},kacx:function(e,t,n){},lQn5:function(e,t,n){"use strict";n.d(t,"a",function(){return ne});var r=n("lwsE"),o=n.n(r),a=n("W8MJ"),s=n.n(a),i=n("a1gu"),c=n.n(i),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("sEfC")),E=n.n(y),_=n("/MKj"),C=n("ANjH"),O=n("Ty5D"),S=n("if3o"),I=n("Bw9V"),k=n("Gk2F"),w=n("+qLk"),A=n("TSYQ"),P=n.n(A),T=n("Njrs");function j(e){var t,n=e.children,r=e.data,a=e.handleDragItem,i=e.dragEnd,o=e.className,s=P()(h()({Draggable:!0},o,!!o));return v.a.createElement("div",{ref:function(e){t=e},className:s,draggable:"true","data-transfer":JSON.stringify(r),onDragStart:function(e){e.stopPropagation();try{e.dataTransfer.setDragImage(t,-20,-20)}catch(e){}e.dataTransfer.setData("text","{}"),a()},onDragEnd:i},n)}j.defaultProps={className:""};var N=Object(_.b)(null,function(e,t){var n=t.name,r=t.data;return{handleDragItem:function(){return e(Object(T.c)({name:n,data:r}))},dragEnd:function(){return e(Object(T.d)({name:n}))}}})(j);j.__docgenInfo={description:"",methods:[],displayName:"Draggable",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},children:{type:{name:"object"},required:!0,description:""},data:{type:{name:"object"},required:!1,description:""},src:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},handleDragItem:{type:{name:"func"},required:!1,description:""},dropItem:{type:{name:"func"},required:!1,description:""},dragEnd:{type:{name:"func"},required:!1,description:""}}};var D=n("fKOs");function x(e){var t=e.selected,n=e.children,r=e.className,a=e.handleToggle,i=["Selectable"];return r&&i.push(r),t&&i.push("Selectable-selected"),v.a.createElement("div",{className:i.join(" "),onClick:function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation(),a())}},n)}var q=Object(_.b)(function(e,t){var n=t.name,r=t.data,a=e.selectables.get(n);return{selected:a&&a.has(r)}},function(e,t){var n=t.name,r=t.data;return{handleToggle:function(){return e(Object(D.f)({name:n,data:r}))}}})(x);x.__docgenInfo={description:"",methods:[],displayName:"Selectable",props:{data:{type:{name:"string"},required:!1,description:""},children:{type:{name:"object"},required:!0,description:""},name:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},selected:{type:{name:"bool"},required:!1,description:""},handleToggle:{type:{name:"func"},required:!1,description:""}}};var M=n("G5ih"),R=n("f6ut"),B=n("9uSn");n("wmkP");function U(e){var t=e.checked,n=e.onToggle,r=e.withTooltip,a=v.a.createElement(R.a,{handleOnChange:n,selected:t});return v.a.createElement("div",{className:"FavoritesPostCheckbox"},r&&v.a.createElement(B.a,{text:Object(M.a)("dragDropTooltip")},a),!r&&a)}U.defaultProps={checked:!1,withTooltip:!1},U.__docgenInfo={description:"",methods:[],displayName:"FavoritesPostCheckbox",props:{checked:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},withTooltip:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onToggle:{type:{name:"func"},required:!0,description:""}}};n("FuWu");function L(e){var t=e.onClick,n=e.withTooltip,r=v.a.createElement("span",{className:"icon-trash"});return v.a.createElement("div",{className:"FavoritesPostDelete",onClick:t},n&&v.a.createElement(B.a,{text:Object(M.a)("deleteFavFromAll")},r),!n&&r)}L.defaultProps={withTooltip:!1},L.__docgenInfo={description:"",methods:[],displayName:"FavoritesPostDelete",props:{withTooltip:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};var F=n("ega+"),W=n("1Gek"),V=n("Uzvo"),G=n("Uyyq"),z=n.n(G),H=n("mpKo"),K=n.n(H);n("wcKY");function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(n,!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Q="selectedFavorites",X=function(e){function i(){var e,r;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=c()(this,(e=d()(i)).call.apply(e,[this].concat(n))),h()(p()(r),"handlerRemoveFromFavorite",function(){var e=r.props,t=e.folderInfo,n=e.post;(0,e.removeFromFavorite)(n.id,n.isAlbum,Object(W.e)(n),t&&t.get("id"))}),h()(p()(r),"handlerToggle",function(){var e=r.props,t=e.firstTime,n=e.post;(0,e.handleToggle)(Object(W.e)(n),t)}),r}return f()(i,e),s()(i,[{key:"render",value:function(){var e=this.props,t=e.post,n=e.folderInfo,r=e.firstTime,a=e.selectables,i=e.isOwner,o=e.username;if(!n)return null;var s=Object(W.e)(t),c=n&&n.get("id"),l="".concat(Object(W.a)(n.toJS(),i,o),"/").concat(t.id),d=a&&1<a.size,u=a&&a.has(s),p=r&&c===S.a,m=J({},this.props,{post:Object.assign(t,{href:l})});if(!i)return v.a.createElement(F.b,m);var f=P()({FavoritesPost:!0,isSelected:u});return v.a.createElement("div",{className:f},v.a.createElement(N,{className:"FavoritesPost-draggable",name:"favorites",src:d?K.a:z.a,data:{selectableName:Q,id:s}},v.a.createElement(q,{name:Q,className:"FavoritesPost-selectable",data:s},v.a.createElement(F.b,J({},m,{usePrivacy:!t.inGallery})))),v.a.createElement(L,{withTooltip:p,onClick:this.handlerRemoveFromFavorite}),v.a.createElement(U,{onToggle:this.handlerToggle,checked:u,withTooltip:p}))}}]),i}(b.Component);X.defaultProps={className:""},X.__docgenInfo={description:"",methods:[{name:"handlerRemoveFromFavorite",docblock:null,modifiers:[],params:[],returns:null},{name:"handlerToggle",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FavoritesPost",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},folderInfo:{type:{name:"object"},required:!1,description:""},firstTime:{type:{name:"bool"},required:!0,description:""},username:{type:{name:"string"},required:!1,description:""},selectables:{type:{name:"object"},required:!1,description:""},removeFromFavorite:{type:{name:"func"},required:!0,description:""},handleToggle:{type:{name:"func"},required:!0,description:""}}};var Z=Object(V.a)(Object(C.c)(O.h,Object(_.b)(function(e,t){var n=e.user,r=e.account,a=e.favorites,i=e.selectables,o=t.match,s=(o.params.username||"").toLowerCase(),c=parseInt(o.params.id||S.a,0),l=r.getIn(["accounts",s]),d=l?l.get("username"):null;return{isOwner:n.get("username")===d,folderInfo:a.getIn(["folders",c]),firstTime:!a.get("hasUsedFavoriteFolders"),username:s,selectables:i.get(Q)}},function(i,e){var o=e.link;return{removeFromFavorite:function(e,t,n,r){var a={id:e,isAlbum:t};r===S.a?i(Object(k.w)(a)):i(Object(k.v)({id:r,link:o,faves:[n]})),i(Object(I.K)([a]))},handleToggle:function(e,t){i(Object(D.f)({name:Q,data:e})),t&&i(Object(k.y)())}}}))(X));n("1POK");function $(e){var t=e.id,n=e.isOwner,r=Object(M.a)("noFavoritesToShow");return n&&(r=Object(M.a)("noFavoritesOfMine"),t!==S.a&&(r=Object(M.a)("noFavoritesInFolderOfMine"))),v.a.createElement("div",{className:"ProfileFavoritesEmpty"},r)}function ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(n,!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ne(){var n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return function(t){var e=function(e){function i(){var e,n;o()(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=c()(this,(e=d()(i)).call.apply(e,[this].concat(r))),h()(p()(n),"moreDataFetch",E()(function(){n.props.hasMore&&n.fetchGallery(te({},n.props,{insertionModifier:I.a}))},w.p,{leading:!0,trailing:!1})),h()(p()(n),"dataFetch",function(e){n.props.cleanupGallery(),n.fetchGallery(te({},e,{insertionModifier:I.n,streamPage:0}))}),h()(p()(n),"fetchGallery",function(e){if(!n.props.isFetching){var t=e||n.props;n.props.fetchGallery(t.folderId,t.streamPage,t.streamSort,t.streamOrganized,t.insertionModifier)}}),h()(p()(n),"getEmptyRow",function(){return v.a.createElement($,{isOwner:n.props.isOwner})}),n}return f()(i,e),s()(i,[{key:"componentDidMount",value:function(){n&&this.props.isFoldersFetched&&this.dataFetch(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.folderId,r=t.streamOrganized,a=t.streamSort,i=t.isFoldersFetched;return n&&n!==e.folderId?this.dataFetch(this.props):i&&!e.isFoldersFetched?this.dataFetch(this.props):r&&r!==e.streamOrganized?this.dataFetch(this.props):a&&a!==e.streamSort?this.dataFetch(this.props):void 0}},{key:"render",value:function(){return v.a.createElement(t,{Child:Z,moreDataFetch:this.moreDataFetch,emptyRow:this.getEmptyRow})}}]),i}(v.a.Component);return e.defaultProps={folderId:S.a},e.displayName="WithFavoritesData(".concat(function(e){return e.displayName||e.name||"Component"}(t),")"),Object(C.c)(O.h,Object(_.b)(function(e,t){var n=e.favorites,r=e.gallery,a=t.match,i=Number.parseInt(a.params.id||S.a,10);return{streamSort:n.get("sort"),streamPage:Number.parseInt(n.get("page")||0,10),streamOrganized:n.get("organized"),isFoldersFetched:n.get("isFoldersFetched"),isFetching:r.get("isFetching"),hasMore:r.get("hasMore"),folderId:i}},function(l,e){var d=e.username,u=e.isOwner,p=e.isLoggedIn;return{fetchGallery:function(e,t,n,r,a){var i=1<arguments.length&&void 0!==t?t:0,o=2<arguments.length&&void 0!==n?n:S.d,s=3<arguments.length&&void 0!==r?r:S.l,c=4<arguments.length?a:void 0;return l(0<=e?Object(k.p)({username:d,id:e,isOwner:u,page:i,sort:o,insertionModifier:c,isAuthed:p}):u?Object(k.o)({username:d,page:i,sort:o,organized:s,insertionModifier:c,isAuthed:p}):Object(k.r)({username:d,page:i,sort:o,insertionModifier:c,isAuthed:p}))},cleanupGallery:function(){return l(Object(I.s)())}}}))(e)}}$.defaultProps={isOwner:!1},$.__docgenInfo={description:"",methods:[],displayName:"ProfileFavoritesEmpty",props:{isOwner:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""}}}},lZex:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return u});var r=n("q1tI"),a=n.n(r),i=n("55Ip"),o=n("G5ih"),s=n("BWa0"),c=Object(o.a)("labelTopComments"),l="/leaderboard";function d(){return a.a.createElement(i.b,{to:l,title:c},a.a.createElement(s.W,{name:s.g,width:"32",height:"32",viewBox:"0 -2 34 34",className:"uScaleTransition ProfileNavbar-item"}))}function u(){return a.a.createElement(i.b,{to:l},c)}d.__docgenInfo={description:"",methods:[],displayName:"NavbarLeaderboardButton"},u.__docgenInfo={description:"",methods:[],displayName:"NavbarLeaderboardMenuItem"}},"m+bm":function(e,t,n){},m6gU:function(e,t,n){},mDRf:function(e,t,n){e.exports=n.p+"desktop-assets/bg-trees-right-large.e95fb12a34771badfcbcd6522d3a5c4d.svg"},mky3:function(e,t,n){},mnhf:function(e,t,n){e.exports=n.p+"desktop-assets/bg-mountain-3.ee765deb9a938c21772c5783ec8fc728.svg"},mpKo:function(e,t,n){e.exports=n.p+"desktop-assets/multi-drag.c600d4c73980a8f8fb9f06a3d290bb2b.png"},"n/mK":function(e,t,n){"use strict";var r=n("pVnL"),s=n.n(r),a=n("QILm"),c=n.n(a),i=n("q1tI"),l=n.n(i),o=(n("17x9"),n("/MKj")),d=n("55Ip"),u=n("GB65");function p(e){var t=e.innerRef,n=e.to,r=(e.isLoggedIn,e.isPostPageBeta),a=e.children,i=(e.dispatch,e.isExternalAd),o=c()(e,["innerRef","to","isLoggedIn","isPostPageBeta","children","dispatch","isExternalAd"]);return r&&!i?l.a.createElement(d.a,s()({draggable:"false",to:Object(u.jb)(n),ref:t},o),a):l.a.createElement("a",s()({draggable:"false",href:n,ref:t},o),a)}p.__docgenInfo={description:"",methods:[],displayName:"PostLinkComponent",props:{innerRef:{type:{name:"object"},required:!1,description:""},to:{type:{name:"string"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isPostPageBeta:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""},dispatch:{type:{name:"func"},required:!0,description:""},isExternalAd:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(o.b)(function(e){var t=e.user;return{isLoggedIn:t.get("isLoggedIn"),isPostPageBeta:t.get("flags").get("desktopPostPageBeta")}})(p)},n9cy:function(e,t,n){e.exports=n.p+"desktop-assets/menu.98f5c4266857ea55e10bf20a73843ecc.svg"},nAF4:function(e,t,n){},nFdL:function(e,t,n){},naFI:function(e,t,n){e.exports=n.p+"desktop-assets/b2.8b9e5b2c5f0b610eb10ef24ece1539cd.svg"},neJP:function(e,t,n){},nj4u:function(e,t,n){e.exports=n.p+"desktop-assets/bg-trees-left.de2e209c199ee9cb5bec40ea75901ed5.svg"},nswd:function(e,t,n){},"o+s0":function(e,t,n){},o0ye:function(e,t,n){},o9hv:function(e,t,n){},oAby:function(e,t,n){},oG7g:function(e,t,n){},oHla:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});n("aYmD");function r(e){return/firefox/.test(e.toLowerCase())}function a(e){return/edge/.test(e.toLowerCase())}},oJUB:function(e,t,n){},oYpj:function(e,t,n){},oi1Q:function(e,t,n){e.exports=n.p+"desktop-assets/reg-check.49c1d1168cb99b2de6e38c98aa907348.svg"},"p5h/":function(e,t,n){},pR6v:function(e,t,n){"use strict";n.r(t),n.d(t,"HiddenAlbum",function(){return u}),n.d(t,"HiddenImage",function(){return p});var r=n("/MKj"),a=n("fdoY"),i=n("ErBw"),o=n("/PhX"),s=n("2c7z"),c=n("76Z7"),l=n("WSv3"),d=n("Pom+"),u=Object(r.b)(d.b,{retrievePostAction:a.vb,retrievePostMetaAction:a.yb,resetPostDataAction:a.tb,updateViewportHeightAction:c.c,updateGalleryContentWrapperWidth:o.F,goToNextPostAction:a.cb,goToPreviousPostAction:a.db,newPostAction:a.fb,promotedPostViewAction:a.mb,reachedBottom:a.ob,toggleAudioState:s.f,postpageBetaOptOutAction:l.M,setTransformationAction:i.t})(d.a),p=Object(r.b)(d.b,{retrievePostAction:a.wb,retrievePostMetaAction:a.yb,resetPostDataAction:a.tb,updateViewportHeightAction:c.c,updateGalleryContentWrapperWidth:o.F,goToNextPostAction:a.cb,goToPreviousPostAction:a.db,newPostAction:a.fb,promotedPostViewAction:a.mb,reachedBottom:a.ob,toggleAudioState:s.f,postpageBetaOptOutAction:l.M,setTransformationAction:i.t})(d.a)},pxaO:function(e,t,n){},q8cC:function(e,t,n){},qAYT:function(e,t,n){},qMU6:function(e,t,n){},qh6O:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("lSNA"),s=n.n(r),a=n("q1tI"),c=n.n(a),i=n("TSYQ"),l=n.n(i),d=(n("17x9"),n("Nm7g"));function o(e){var t=e.date,n=e.datetime,r=e.timestamp,a=e.className,i=t||new Date(r||Date.parse(n)),o=l()(s()({When:!0},a,a));return c.a.createElement("span",{className:o,title:i},Object(d.c)(i.getTime()/1e3))}o.defaultProps={className:""},o.__docgenInfo={description:"TODO:\nfromNow, and utils/formatting is a problem. That code should not be there\nit should be in here. It's also not internationalized. Anytime at all that we\nwant to have a formatted datetime, it will be inside a React Component, so we should\njust have a react component that does the formatting, which is what this does. At somepoint\nwe should change over all uses of the `fromNow` code where ever it used to this component\nand then to also internationalize the component. Date formatting is a job of a view. It's\npresentation data, and it doesn't belong in utils.\n\nfromNow is also problematic in that it expects a PHP generated timestamp, which is seconds\nfrom UTC. It should have accepted a date object.\n\nAnother problem with the fromNow is that it shows plural s when there shouldn't be a plural s,\nlike \"1 days\" should be \"1 day\".\n\nBy it being in a react component we can also ensure that dates always look the same. Same CSS\nsame exact date format.",methods:[],displayName:"When",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},date:{type:{name:"instanceOf",value:"Date"},required:!1,description:""},datetime:{type:{name:"string"},required:!1,description:""},timestamp:{type:{name:"number"},required:!1,description:""}}}},qhsG:function(e,t,n){},r9xK:function(e,t,n){e.exports=n.p+"desktop-assets/s2.dd85daa2582e347fdab35ad5a8e74dca.svg"},rbYx:function(e,t,n){},rvyR:function(e,t,n){},sQc6:function(e,t,n){},sUKj:function(e,t,n){},t8wH:function(e,t,n){e.exports=n.p+"desktop-assets/reg-email-active.61278b87e5af2baac2077ccac87c853d.svg"},tqmg:function(e,t,n){e.exports=n.p+"desktop-assets/bg-mountain-right-large.1146dd593f5426d89df5c3c96a909933.svg"},uFEW:function(e,t,n){e.exports=n.p+"desktop-assets/b1.606f828f35a1cbfa3829dcafa2635c36.svg"},vhd3:function(e,t,n){e.exports=n.p+"desktop-assets/bg-space-1-left.65f9f07b8a516db2158c87acc5de8863.svg"},vuO0:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var r=n("lwsE"),s=n.n(r),a=n("W8MJ"),c=n.n(a),i=n("a1gu"),l=n.n(i),o=n("Nsbk"),d=n.n(o),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("/MKj")),E=n("sEfC"),_=n.n(E),C=n("Bw9V"),O=n("enaV"),S=n("+qLk"),I=n("ega+"),k=n("xypG"),w=n("hWib");function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(n,!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function T(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return function(o){var e=function(e){function i(){var e,n;s()(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=l()(this,(e=d()(i)).call.apply(e,[this].concat(r))),h()(p()(n),"initialDataFetch",function(e){n.fetchGallery(P({},e||n.props,{streamPage:0,insertionModifier:C.g}))}),h()(p()(n),"moreDataFetch",function(){n.fetchGallery(P({},n.props,{insertionModifier:C.a}))}),h()(p()(n),"replaceDataFetch",function(e){n.fetchGallery(P({},e,{streamPage:0,insertionModifier:C.n}))}),h()(p()(n),"fetchGallery",_()(function(e){if(!n.props.isFetching){var t=e||n.props;n.props.fetchGallery(t.streamSection,t.streamParam,t.streamWindow,t.streamPage,t.streamSort,t.isPromoted,t.insertionModifier,t.isPostPageBeta)}},S.p,{leading:!0,trailing:!1})),h()(p()(n),"renderWithSpinner",function(){return v.a.createElement(k.c,{isLoading:n.props.isFetching,isScrollSpinner:n.props.hasPosts},v.a.createElement(o,{Child:I.c,moreDataFetch:n.moreDataFetch}))}),h()(p()(n),"renderWithoutSpinner",function(){return v.a.createElement(o,{Child:I.c,moreDataFetch:n.moreDataFetch})}),n}return f()(i,e),c()(i,[{key:"componentDidMount",value:function(){t&&(this.props.isInitialized?this.props.cleanupGallery():this.props.setGalleryParams())}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isInitialized,r=t.streamParam,a=t.streamSection,i=t.streamSort,o=t.streamWindow;if(n||!e.isInitialized)return n&&!e.isInitialized?(this.props.galleryPostRendererReady(),void this.initialDataFetch(this.props)):r&&e.streamParam&&r!==e.streamParam?this.replaceDataFetch(this.props):a&&e.streamSection&&a!==e.streamSection?this.replaceDataFetch(this.props):i&&e.streamSort&&i!==e.streamSort?this.replaceDataFetch(this.props):o&&e.streamWindow&&o!==e.streamWindow?this.replaceDataFetch(this.props):void 0;this.props.setGalleryParams()}},{key:"render",value:function(){return v.a.createElement(w.a,{action:this.fetchGallery,retries:this.props.failedFetchAttempts},n?this.renderWithSpinner():this.renderWithoutSpinner())}}]),i}(v.a.Component);return e.displayName="WithGalleryData(".concat(function(e){return e.displayName||e.name||"Component"}(o),")"),Object(y.b)(function(e){var t=e.gallery,n=e.posts,r=e.user;return{streamSection:t.get("streamSection"),streamSort:t.get("streamSort"),streamPage:t.get("streamPage"),streamParam:t.get("streamParam"),streamWindow:t.get("streamWindow"),isFetching:t.get("isFetching"),isPromoted:t.get("streamIsPromoted"),fetchError:t.get("fetchError"),insertionModifier:t.get("insertionModifier"),isInitialized:t.get("isInitialized"),failedFetchAttempts:t.get("failedFetchAttempts"),hasPosts:0<n.get("posts").size,isPostPageBeta:r.get("flags").get("desktopPostPageBeta")}},function(c){return{fetchGallery:function(e,t,n,r,a,i,o,s){c(Object(C.D)({isFetching:!0})),c(Object(O.a)({gallery:e,param:t,streamWindow:n,page:r,sort:a,isPromoted:i,insertionModifier:o,isPostPageBeta:s})),0===r&&c(Object(C.z)())},galleryPostRendererReady:function(){return c(Object(C.B)())},cleanupGallery:function(){return c(Object(C.s)())}}})(e)}}},w1ny:function(e,t,n){},w8Sv:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("pVnL"),f=n.n(m),g=n("q1tI"),h=n.n(g),b=(n("17x9"),n("/MKj")),v=n("UX+T");n("QFwP");function y(e){var t=e.statuses;return t.length?h.a.createElement("div",{className:"StatusList"},t.map(function(e){return h.a.createElement(C,f()({key:e.id},e))})):null}var E=Object(b.b)(function(e){return{statuses:e.status?e.status.get("status").filter(function(e){return e.get("active")}).valueSeq().toJS():[]}})(y);var _=function(e){function t(){return a()(this,t),c()(this,d()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.animationDelay;setTimeout(function(){(0,e.props.handleClearStatus)()},t+3e3)}},{key:"render",value:function(){return h.a.createElement(O,this.props)}}]),t}(g.Component);_.defaultProps={animationDelay:0};var C=Object(b.b)(null,function(e,t){var n=t.id;return{handleClearStatus:function(){return e(Object(v.d)({id:n}))}}})(_);function O(e){var t=e.type,n=e.message,r=e.handleClearStatus,a=e.animationDelay;return h.a.createElement("div",{className:"Status Status-".concat(t),onClick:r,style:{animationDelay:"".concat(a,"ms")}},h.a.createElement("div",{className:"Status-container",dangerouslySetInnerHTML:{__html:n}}))}y.__docgenInfo={description:"",methods:[],displayName:"StatusListContainer",props:{statuses:{type:{name:"array"},required:!(O.defaultProps={animationDelay:0}),description:""}}},_.__docgenInfo={description:"",methods:[],displayName:"StatusContainer",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},statusType:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}},O.__docgenInfo={description:"",methods:[],displayName:"Status",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}}},wMLv:function(e,t,n){},wQjI:function(e,t,n){},"wT/c":function(e,t,n){},wZPJ:function(e,t,n){},wcKY:function(e,t,n){},wmkP:function(e,t,n){},x1Q6:function(e,t,n){e.exports=n.p+"desktop-assets/dropdown.8ef4175d4e6e56395939da866df2b61b.svg"},xbNk:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("/MKj")),E=n("wAdX"),_=n("7oyi"),C=n("/PhX"),O=n("p5w4"),S=n("G5ih"),I=n("pNV7");n("ghid");n.d(t,"b",function(){return O.d}),n.d(t,"c",function(){return O.e});var k="report",w=function(e){function t(e){var s;return a()(this,t),s=c()(this,d()(t).call(this,e)),h()(p()(s),"handleClose",function(){s.setState({reason:null},function(){return s.props.close()})}),h()(p()(s),"handleReport",function(){var e=s.props,t=e.type,n=e.submit,r=e.id,a=e.reportedComments,i=e.reportedPosts;if(null!==s.state.reason){var o=t===O.d?a:i;n(t,r,s.state.reason,o)}}),h()(p()(s),"handleChoose",function(e){s.setState({reason:e})}),h()(p()(s),"handleDescription",function(e){var t=e;s.state.showDescription===e&&(t=null),s.setState({showDescription:t})}),s.state={reason:e.isMature?-1:null,showDescription:e.isMature?-1:null},s}return f()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){e.isMature!==this.props.isMature&&this.setState({reason:this.props.isMature?-1:null,showDescription:this.props.isMature?-1:null})}},{key:"render",value:function(){var t=this,e=this.props,n=e.type,r=e.isMature;if(n===O.f)return null;var a=[r?{label:Object(S.a)("precheckedMatureLabel",n),explanation:Object(S.a)("precheckedMatureExplanation"),value:-1,name:"reportpost-disabled",onClick:function(e){e.preventDefault()},extraClass:" disabled",defaultChecked:!0}:{label:Object(S.a)("matureLabel"),explanation:Object(S.a)("matureExplanation",n),value:4},{label:Object(S.a)("sexuallyLabel"),explanation:Object(S.a)("sexuallyExplanation",n),value:5},{label:Object(S.a)("spamLabel"),explanation:Object(S.a)("spamExplanation",n),value:2},{label:Object(S.a)("abusiveLabel"),explanation:Object(S.a)("abusiveExplanation",n),value:3},{label:Object(S.a)("dnboiLabel"),explanation:Object(S.a)("dnboiExplanation",n),value:1}],i=0<this.state.reason?"-do":"-cancel";return v.a.createElement(E.a,{className:"ReportDialog",isModal:!1,onClose:this.handleClose,name:k},v.a.createElement("div",{className:"ReportDialog-head"},v.a.createElement("span",null,Object(S.a)("reportTitle",n)),v.a.createElement(_.a,{className:"ReportDialog-head--close",imageSrc:I.a[I.i],onClick:this.handleClose})),v.a.createElement("div",{className:"ReportDialog-content"},a.map(function(e){return t.renderOption(e)})),v.a.createElement("div",{className:"ReportDialog-footer"},v.a.createElement("p",{className:"ReportDialog-CommunityRules"},Object(S.a)("reportRules")),v.a.createElement("button",{type:"button",className:"ReportDialog-button-".concat(i),onClick:this.handleReport},Object(S.a)("report"))))}},{key:"renderOption",value:function(e){var t=this,n=this.state.showDescription===e.value?" active":"";return v.a.createElement("label",{className:"ReportDialog-RadioBox-item".concat(e.extraClass||"").concat(n),key:e.value},v.a.createElement("div",{className:"ReportDialog-RadioBox-content-wrapper"},v.a.createElement("input",{className:"ReportDialog-RadioBox-radio",type:"radio",onClick:e.onClick||function(){return t.handleChoose(e.value)},name:e.name||"reportpost"}),v.a.createElement("div",{className:"ReportDialog-RadioBox-checkbox"},""),v.a.createElement("div",{className:"ReportDialog-RadioBox-title"},e.label),v.a.createElement("div",{className:"ReportDialog-RadioBox-chevron",onClick:function(){return t.handleDescription(e.value)}},v.a.createElement("i",{className:"ReportDialog-RadioBox-chevron-icon"}))),v.a.createElement("div",{className:"ReportDialog-RadioBox-description"},e.explanation))}}]),t}(b.Component);w.defaultProps={isMature:!1},w.__docgenInfo={description:"",methods:[{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleReport",docblock:null,modifiers:[],params:[],returns:null},{name:"handleChoose",docblock:null,modifiers:[],params:[{name:"reason",type:null}],returns:null},{name:"handleDescription",docblock:null,modifiers:[],params:[{name:"reason",type:null}],returns:null},{name:"renderOption",docblock:null,modifiers:[],params:[{name:"option",type:null}],returns:null}],displayName:"Report",props:{isMature:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},close:{type:{name:"func"},required:!0,description:""},submit:{type:{name:"func"},required:!0,description:""},type:{type:{name:"string"},required:!0,description:""},reportedComments:{type:{name:"object"},required:!1,description:""},reportedPosts:{type:{name:"object"},required:!1,description:""}}},t.d=Object(y.b)(function(e,t){var n=e.report,r=t.type;return{id:n.get("id"),reportedComments:n.get("reportedComments"),reportedPosts:n.get("reportedPosts"),isMature:!!n.get("isMature"),type:n.get("type")||r}},function(a){return{close:function(){a(Object(C.u)(k))},submit:function(e,t,n,r){e===O.d?a(Object(O.g)(t,n,r)):a(Object(O.i)(t,n,r)),a(Object(C.u)(k))}}})(w)},xsax:function(e,t,n){},"y/VL":function(e,t,n){},"y/zE":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("q1tI"),l=n.n(r),a=(n("17x9"),n("/MKj")),d=n("E9Wd");n("5I/V");function i(e){var t=e.username,n=e.displayUsername,r=e.className,a=void 0===r?"":r,i=e.children,o=e.src,s=void 0===o?"":o;if(!t)return null;var c="".concat(d.L,"/user/").concat(t,"/avatar");return s&&(c=s),l.a.createElement("span",{className:"UserAvatar ".concat(a),style:{backgroundImage:"url(".concat(c,")")},title:n},i)}i.__docgenInfo={description:"",methods:[],displayName:"UserAvatar",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},src:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""},displayUsername:{type:{name:"string"},required:!1,description:""},children:{type:{name:"node"},required:!1,description:""}}},t.b=Object(a.b)(function(e,t){var n=e.user,r=e.account,a=t.username,i=n.get("username");return a&&a!==i?{username:a}:{username:n.get("username"),src:r.getIn(["accounts",i,"avatarUrl"],"")}})(i)},y3QZ:function(e,t,n){e.exports=n.p+"desktop-assets/bg-trees-right.d90c511e303b0558a2746205fb5e5ab2.svg"},y5Q4:function(e,t,n){},y6ID:function(e,t,n){},yFeA:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),f=n.n(m),g=n("lSNA"),h=n.n(g),b=n("q1tI"),v=n.n(b),y=(n("17x9"),n("xk4V")),E=n.n(y),_=n("/MKj"),C=n("sEfC"),O=n.n(C),S=n("ErBw"),I=n("E9Wd"),k=n("9Jdl"),w=n("PLrP"),A=n("bWDY"),P=n("Z6Av"),T=n("Rzka"),j=n("GB65"),N=n("Y22u"),D=n("TSYQ"),x=n.n(D),q=n("Y+p1"),M=n.n(q),R=n("mR1B"),B=n("cDf5"),U=n.n(B),L=(n("ATuD"),new(function(){function e(){var o=this;i()(this,e),h()(this,"init",function(e){var t=Object(j.B)("pbjs")||{};t.que=t.que||[],o.initOAJS(),t.que.push(function(){t.setConfig({consentManagement:{cmpApi:"iab",timeout:8e3,allowAuctionWithoutConsent:!0},priceGranularity:{buckets:[{precision:2,max:15,increment:.01},{precision:2,max:20,increment:.05},{precision:2,max:50,increment:1}]},enableSendAllBids:!1,userSync:{iframeEnabled:!0,syncsPerBidder:5,filterSettings:{iframe:{bidders:"*",filter:"include"}},userIds:[{name:"unifiedId",params:{url:"https://match.adsrvr.org/track/rid?ttd_pid=openx&fmt=json"},storage:{type:"cookie",name:"pbjs_unifiedid",expires:7}},{name:"identityLink",params:{pid:"1287"},storage:{type:"cookie",name:"idl_env",expires:7}}],syncDelay:5e3}})}),t.que.push(function(){Object.keys(k.f).forEach(function(n){"object"!==U()(Object(j.B)("pbjs").bidderSettings)&&(t.bidderSettings={}),"object"!==U()(Object(j.B)("pbjs").bidderSettings[n])&&(t.bidderSettings[n]={}),t.bidderSettings[n].bidCpmAdjustment=function(e){var t=e*k.f[n];return t<k.g?0:t}}),"object"!==U()(t.bidderSettings.standard)&&(t.bidderSettings.standard={}),t.bidderSettings.standard.adserverTargeting=[{key:"hb_bidder",val:function(e){return e.bidder}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return e.pbHg}}],t.addAdUnits(o.getPbjsUnits(e)),Object(j.wb)("pbjs",t)}),o.savedBids={}}),h()(this,"getPbjsUnits",function(e){o.adSlots={};var t=[];return e.forEach(function(e){t.push({code:e.name,mediaTypes:{banner:{sizes:e.sizes}},bids:e.prebid}),o.adSlots[e.name]=e}),t}),h()(this,"adUnitCodes",function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n].code;o.adSlots&&o.adSlots[r]&&-1===t.indexOf(r)&&t.push(r)}return t}),h()(this,"requestPrebidBids",function(e,t){var n=o.adUnitCodes(e);n.length?Object(j.B)("pbjs").que.push(function(){Object(j.B)("pbjs").requestBids({timeout:k.h,adUnitCodes:n,bidsBackHandler:t})}):t&&t()}),h()(this,"isBidValid",function(e){return"rendered"!==e.status&&(Date.now()-new Date(e.responseTimestamp).getTime())/1e3<e.ttl}),h()(this,"renderIframe",function(e,t,n){if(o.adSlots[t]){var r=o.getHighestCpmBid(t);if(r.adId){var a=Object(j.z)(e);if(a){var i=Object(j.n)("iframe",{scrolling:"no",frameborder:0});i.style.width=r.width,i.style.height=r.height,i.style.overflow="hidden",a.appendChild(i),Object(j.B)("pbjs").renderAd(i.contentWindow.document,r.adId),i.contentWindow.document.body.style.padding=0,i.contentWindow.document.body.style.margin=0,n&&n({hasAd:!0})}}}})}return o()(e,[{key:"initOAJS",value:function(){var e=Object(j.B)("oajs");e||(e={cmd:[]},Object(j.wb)("oajs",e),Object(j.d)(Object(j.n)("script",{src:"https://oa.openxcdn.net/oa.js",defer:!0})),e.cmd.push(function(){Object(j.B)("oajs").start({storage_type:"cookie",placementID:"1287",tdidPartnerID:"openx",oaID:"imgur"})}))}},{key:"getBidsByHighestCpm",value:function(e){var t=Object(j.B)("pbjs").getBidResponses()[e],n=this.savedBids[e]?this.savedBids[e].filter(this.isBidValid):[];return t&&0!==t.bids.length?t.bids.concat(n).filter(function(e){return 0<e.cpm}).sort(function(e,t){return t.cpm-e.cpm}):n}},{key:"getHighestCpmBid",value:function(e){return this.getBidsByHighestCpm(e)[0]||{}}},{key:"saveValidBidsForUnit",value:function(e,t){this.savedBids[e]=t.filter(this.isBidValid)}}]),e}())),F=new(function(){function e(){var a=this;i()(this,e),h()(this,"isDesktop",function(e){return k.o.includes(e)}),h()(this,"getSiteId",function(e){return a.isDesktop(e)?k.r:k.v}),h()(this,"getPageName",function(){var e=Object(j.w)();switch(!0){case"/"===e:return"home";case e.startsWith("/gallery/"):return"gallery";case e.startsWith("/a/"):return"albums";case e.startsWith("/t/"):return"t/tag";case e.startsWith("/r/"):return"r/subreddit";default:return"non-gallery"}}),h()(this,"getPageId",function(e){var t=a.getPageName();return a.isDesktop(e)?k.p[t]:k.t[t]}),h()(this,"getPageIndex",function(e){return Object(j.B)("sasPageIndex")[e]||1}),h()(this,"setBiddingWinner",function(e){var t=L.getBidsByHighestCpm(e.formatId),n=t[0]||{};n.adId&&(n.currency=n.currency||"USD"),Object(j.B)("sas").setHeaderBiddingWinner(e.slotID,n),L.saveValidBidsForUnit(e.formatId,t.slice(1))}),h()(this,"convertTargeting",function(e,t,n){if(!t)return e;for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(Number.isInteger(a))n[r]=a;else if(Array.isArray(a))for(var i in a)a.hasOwnProperty(i)&&(e+="".concat(r,"=").concat(a[i],";"));else e+="".concat(r,"=").concat(a,";")}return e}),h()(this,"getApsBidsTarget",function(e,t,n){if(!t)return e;for(var r in t)if(t.hasOwnProperty(r)&&t[r].slotID===n){t[r].sasTargeting&&(e+="".concat(t[r].sasTargeting,";"));break}return e}),h()(this,"refreshSlots",function(){var t=a.getEligibleForRefreshSlots();if(t.length&&!Object(j.y)("hidden")){if(!Object(A.e)()){Object(A.a)();var e=Object(j.B)("slotsRefreshCount");e++,Object(j.wb)("slotsRefreshCount",e);var n,r=Object(j.B)("apsSlots");n=Object(j.B)("apstag")?function(){return Object(j.B)("apstag").fetchBids({slots:r},function(e){L.requestPrebidBids(t,a.sasRefreshAfterPrebidResponse.bind(a,t,e))})}:function(){L.requestPrebidBids(t,a.sasRefreshAfterPrebidResponse.bind(a,t,null))},a.cmp(n),Object(j.wb)("adRefreshTimeout",setTimeout(a.refreshSlots,3e4))}}else Object(j.wb)("adRefreshTimeout",setTimeout(a.refreshSlots,3e4))}),h()(this,"isNewPage",function(){return!!Object(j.B)("isNewPage")&&(Object(j.wb)("isNewPage",!1),!0)}),h()(this,"getForceMasterFlag",function(){var e=Object(j.w)(),t=Object(j.B)("forceMasterFlagPath");return(!t||t!==e)&&(Object(j.wb)("forceMasterFlagPath",e),!0)}),h()(this,"receiveMessage",function(e){if(e&&e.data&&"string"==typeof e.data){var t=e.data.match(/disableRefresh:(\S+);?/);t&&t[1]&&a.disableSlotRefresh(t[1])}}),h()(this,"disableSlotRefresh",function(e){Object(j.B)("slotsDisabledFromRefreshing",[]).push(e),a.removeRefreshSlotById(e)}),h()(this,"handleNoad",function(e,t){L.renderIframe(e.tagId,e.formatId,t)})}return o()(e,[{key:"init",value:function(e){if(!Object(j.S)("sas")){var t=this.isDesktop(e);Object(j.d)(Object(j.n)("script",{src:"https://tagan.adlightning.com/imgur/op.js",defer:!0})),Object(j.d)(Object(j.n)("script",{src:"https://ced.sascdn.com/tag/1357/smart.js",defer:!0})),Object(j.d)(Object(j.n)("script",{src:"https://ced-ns.sascdn.com/diff/templates/ts/dist/viewability/sas-viewability-1.1.js",defer:!0}));var n=Object(j.B)("sas")||{};n.cmd=n.cmd||[],n.setup=n.setup||[],n.cmd.push(function(){n.setup({networkid:3370,domain:"https://www9.smartadserver.com",async:!0,inSequence:!0})}),Object(j.wb)("sas",n),Object(j.wb)("isNewPage",!0),Object(j.wb)("sasPageIndex",{}),Object(j.wb)("adCall",0),document.write=function(){},Object(j.c)("message",this.receiveMessage),this.initAdRefresh(),this.insertionID=Object(j.O)().insertionID,L.init(t?k.l:k.j)}}},{key:"increasePageIndex",value:function(e){var t=this.getPageIndex(e),n=Object(j.B)("sasPageIndex");n[e]=++t,Object(j.wb)("sasPageIndex",n)}},{key:"getAdCall",value:function(){var e=Object(j.B)("adCall");return Object(j.wb)("adCall",++e),e}},{key:"viewCallback",value:function(e){this.pushOnce(Object(j.B)("slotsToRefresh"),e),this.pushOnce(Object(j.B)("apsSlots"),{slotID:e.slotID,sizes:e.sizes})}},{key:"pushOnce",value:function(e,t){e.filter(function(e){return e.slotID===t.slotID}).length||e.push(t)}},{key:"initViewabilityForRefreshableSlot",value:function(e){var t=Object(j.z)(e.slotID),n=Object(j.B)("Viewability");t&&n&&(this.removeRefreshSlotById(e.slotID),Object(A.f)(e.slotID),(new n).init(t,{},{area:50,delay:1,viewCallback:this.viewCallback.bind(this,e)}))}},{key:"displayAd",value:function(t,e,n,r,a,i,o){var s=this;this.increasePageIndex(n);var c,l={code:"".concat(n),slotID:t,formatId:n,targeting:r,slotTargeting:a,sizes:e};c=Object(j.B)("apstag")?function(){return Object(j.B)("apstag").fetchBids({slots:[{slotID:t,sizes:e}]},function(e){L.requestPrebidBids([l],s.sasCallAfterPrebidResponse.bind(s,l,function(){i&&s.initViewabilityForRefreshableSlot(l),s.sasCall(t,n,s.getTarget(r,a,e,t),o,s.handleNoad)}))})}:function(){L.requestPrebidBids([l],s.sasCallAfterPrebidResponse.bind(s,l,function(){i&&s.initViewabilityForRefreshableSlot(l),s.sasCall(t,n,s.getTarget(r,a,null,t),o,s.handleNoad)}))},this.cmp(c),i&&(this.pushOnce(Object(j.B)("slotsToRefresh"),l),this.pushOnce(Object(j.B)("apsSlots"),{slotID:t,sizes:e}))}},{key:"sasCallAfterPrebidResponse",value:function(e,t){var n=this;Object(j.B)("sas").cmd.push(function(){Object(j.B)("pbjs").que.push(function(){n.setBiddingWinner(e),t()})})}},{key:"cmp",value:function(e){Object(j.S)("__tcfapi")?Object(j.B)("__tcfapi")("getTCData",2,function(){e()}):e()}},{key:"sasCall",value:function(e,t,n,r,a){var i=this;Object(j.B)("sas").cmd.push(function(){Object(j.z)(e)&&Object(j.B)("sas").call("std",{siteId:i.getSiteId(t),pageId:i.getPageId(t),formatId:t,tagId:e,target:n},{forceMasterFlag:i.getForceMasterFlag(),resetTimestamp:i.isNewPage(),onLoad:r,onNoad:function(e){return a(e,r)}})})}},{key:"getTarget",value:function(e,t,n,r){var a={},i="";i=this.convertTargeting(i,e,a),i=this.convertTargeting(i,t,a),i=this.getApsBidsTarget(i,n,r);var o=JSON.parse(Object(j.F)("ccRealtimeData")),s=o?o.audiences.map(function(e){return"crbn_sgmt=".concat(e.id)}).join(";"):null;if(s&&(i+="".concat(s,";")),i+="detectedLanguage=".concat(Object(j.D)(),";"),i+="url=".concat(Object(j.G)(),";"),this.insertionID&&(i+="insertionID=".concat(this.insertionID,";")),i+="pv=".concat(R.a.getPageView().toString(),";"),i+="adcall=".concat(this.getAdCall().toString(),";"),i+="page=".concat(this.getPageName()),0<Object.keys(a).length)for(var c in i+=";|",a)a.hasOwnProperty(c)&&(i+="".concat(c,"=").concat(a[c],";"));return i}},{key:"sasRefreshAfterPrebidResponse",value:function(e,n){var r=this;Object(j.B)("sas").cmd.push(function(){Object(j.B)("pbjs").que.push(function(){e.forEach(function(e){r.setBiddingWinner(e),e.targeting.refresh_count=Object(j.B)("slotsRefreshCount");var t=r.getTarget(e.targeting,e.slotTargeting,n,e.slotID);r.initViewabilityForRefreshableSlot(e),Object(j.B)("sas").refresh(e.slotID,{forceMasterFlag:!1,resetTimestamp:!1,target:t})})})})}},{key:"initAdRefresh",value:function(){Object(j.wb)("slotsRefreshCount",0),Object(j.wb)("slotsToRefresh",Object(j.B)("slotsToRefresh")||[]),Object(j.wb)("slotsDisabledFromRefreshing",Object(j.B)("slotsDisabledFromRefreshing")||[]),Object(j.wb)("adRefreshTimeout",setTimeout(this.refreshSlots,3e4))}},{key:"getEligibleForRefreshSlots",value:function(){var n=Object(j.B)("slotsDisabledFromRefreshing",[]);return Object(j.B)("slotsToRefresh",[]).filter(function(e){var t=e.slotID;return!n.includes(t)})}},{key:"removeRefreshSlotById",value:function(t){var e=Object(j.B)("slotsToRefresh")||[];e=e.filter(function(e){return e.slotID!==t}),Object(j.wb)("slotsToRefresh",e)}}]),e}()),W=function(e){function r(e){var t;i()(this,r);var n=(t=c()(this,d()(r).call(this,e))).props.formatId;return n!==k.q&&n!==k.u&&Object(A.b)("sas",k.k),F.init(t.getFormatId()),t.state={pageIndex:F.getPageIndex(t.getFormatId())},t}return f()(r,e),o()(r,[{key:"componentDidMount",value:function(){this.displayAd()}},{key:"shouldComponentUpdate",value:function(e){return!M()(e,this.props)}},{key:"componentDidUpdate",value:function(){this.displayAd()}},{key:"getFormatId",value:function(){return this.props.formatId}},{key:"getSize",value:function(){var e=this.getFormatId();return k.w[e]?k.w[e]:k.d[e]}},{key:"getSlotId",value:function(){var e=this.props.slotTargeting,t=this.state.pageIndex;return e.lastAdBeforeWall?"sas_beforecontinue":e.firstAdAfterWall?"sas_aftercontinue":"sas_".concat(this.getFormatId(),"_pg").concat(t)}},{key:"displayAd",value:function(){var e=this.props,t=e.targeting,n=e.slotTargeting,r=e.refresh,a=e.callback;F.displayAd(this.getSlotId(),this.getSize(),this.getFormatId(),t,n,r,a)}},{key:"render",value:function(){var e=this.props.className,t=x()(h()({Ad:!0,sas:!0},e,!0));return v.a.createElement("div",{className:t,id:this.getSlotId()})}}]),r}(b.Component);W.defaultProps={targeting:{},slotTargeting:{},refresh:!1},W.__docgenInfo={description:"",methods:[{name:"getFormatId",docblock:null,modifiers:[],params:[],returns:null},{name:"getSize",docblock:null,modifiers:[],params:[],returns:null},{name:"getSlotId",docblock:null,modifiers:[],params:[],returns:null},{name:"displayAd",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SmartProvider",props:{targeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},slotTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},refresh:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},slotId:{type:{name:"string"},required:!0,description:""},formatId:{type:{name:"number"},required:!0,description:""},callback:{type:{name:"func"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},location:{type:{name:"object"},required:!1,description:""}}};var V=new(function(){function e(){i()(this,e),h()(this,"getPageIndex",function(e){return Object(j.B)("btPageIndex")[e]||1})}return o()(e,[{key:"init",value:function(){if(!Object(j.B)("BT")){Object(j.wb)("BT",{}),Object(j.wb)("btPageIndex",{}),Object(j.zb)("bt_page_layout_version","1");var e=document.createElement("script");e.src="https://imgur-com.videoplayerhub.com/galleryplayer.js",e.async=!0,document.getElementsByTagName("head")[0].appendChild(e)}}},{key:"increasePageIndex",value:function(e){var t=this.getPageIndex(e),n=Object(j.B)("btPageIndex");n[e]=++t,Object(j.wb)("btPageIndex",n)}}]),e}()),G=function(e){function n(e){var t;return i()(this,n),t=c()(this,d()(n).call(this,e)),V.init(),t.state={pageIndex:V.getPageIndex(e.path)},t}return f()(n,e),o()(n,[{key:"componentDidMount",value:function(){var e=this.props.callback;e&&e({hasAd:!0})}},{key:"getPageFormatId",value:function(){var e=this.props.path,t=this.state.pageIndex;return"bt_".concat(e,"_pg").concat(t)}},{key:"render",value:function(){var e=this.props.className,t=x()(h()({Ad:!0},e,!0));return v.a.createElement("div",{className:t,id:this.getPageFormatId()})}}]),n}(b.Component);G.__docgenInfo={description:"",methods:[{name:"getPageFormatId",docblock:null,modifiers:[],params:[],returns:null}],displayName:"BlockthroughProvider",props:{path:{type:{name:"number"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""},callback:{type:{name:"func"},required:!1,description:""}}};var z=new(function(){function e(){var t=this;i()(this,e),h()(this,"getPageIndex",function(e){return Object(j.B)("ylhhPageIndex")[e]||1}),h()(this,"refreshSlots",function(){var e=Object(j.B)("ylhhSlotsToRefresh");if(e.length&&!Object(j.y)("hidden")){if(!Object(A.e)()){Object(A.a)();t.cmp(function(){Object(j.B)("yieldlove_cmd").push(function(){e.forEach(function(e){Object(j.B)("YLHH").bidder.startAuction(e)})})}),Object(j.wb)("adRefreshTimeout",setTimeout(t.refreshSlots,3e4))}}else Object(j.wb)("adRefreshTimeout",setTimeout(t.refreshSlots,3e4))})}return o()(e,[{key:"init",value:function(e){if(!Object(j.S)("yieldlove_cmd")){Object(j.wb)("yieldlove_site_id","yieldlove.com_demo"),Object(j.wb)("yieldlove_prevent_autostart",!0),Object(j.wb)("yieldlove_cmd",Object(j.B)("yieldlove_cmd")||[]),Object(j.wb)("ylhhPageIndex",{}),Object(j.wb)("googletag",Object(j.B)("googletag")||{cmd:[]});var t=Object(j.B)("googletag");t.cmd.push(function(){t.pubads().disableInitialLoad(),t.enableServices()});var n=e?"_m":"_new";Object(j.d)(Object(j.n)("script",{src:"https://tagan.adlightning.com/imgur/op.js",defer:!0})),Object(j.d)(Object(j.n)("script",{src:"https://cdn-a.yieldlove.com/yieldlove-bidder.js?imgur.com".concat(n),defer:!0})),Object(j.d)(Object(j.n)("script",{src:"https://www.googletagservices.com/tag/js/gpt.js",defer:!0})),this.initAdRefresh()}}},{key:"increasePageIndex",value:function(e){var t=this.getPageIndex(e),n=Object(j.B)("ylhhPageIndex");n[e]=++t,Object(j.wb)("ylhhPageIndex",n)}},{key:"displayAd",value:function(r,a,i,e,o){this.increasePageIndex(r);this.cmp(function(){var n=Object(j.B)("googletag");n.cmd.push(function(){n.pubads().display(r,a,i);var e=n.pubads().getSlots().find(function(e){return e.getSlotElementId()===i});for(var t in o)o.hasOwnProperty(t)&&e.setTargeting(t,o[t])}),Object(j.B)("yieldlove_cmd").push(function(){Object(j.B)("YLHH").bidder.cloneUnit(r,i,{startAuction:!0,skipDuplex:!0})}),e&&Object(j.B)("ylhhSlotsToRefresh").push(i)})}},{key:"cmp",value:function(e){Object(j.S)("__tcfapi")?Object(j.B)("__tcfapi")("getTCData",2,function(){e()}):e()}},{key:"initAdRefresh",value:function(){Object(j.wb)("ylhhSlotsToRefresh",Object(j.B)("ylhhSlotsToRefresh")||[]),Object(j.wb)("adRefreshTimeout",setTimeout(this.refreshSlots,3e4))}},{key:"removeRefreshSlotById",value:function(t){var e=Object(j.B)("ylhhSlotsToRefresh")||[];e=e.filter(function(e){return e!==t}),Object(j.wb)("ylhhSlotsToRefresh",e)}}]),e}()),H=function(e){function r(e){var t;i()(this,r),t=c()(this,d()(r).call(this,e));var n=e.isMobile;return z.init(n),t.state={pageIndex:z.getPageIndex(t.getSlotId())},t}return f()(r,e),o()(r,[{key:"componentDidMount",value:function(){if(this.getSlotId()){var e=this.props.callback;e&&e({hasAd:!0}),this.displayAd()}}},{key:"shouldComponentUpdate",value:function(e){return!M()(e,this.props)}},{key:"componentWillUnmount",value:function(){var t=this,n=Object(j.B)("googletag");z.removeRefreshSlotById(this.getPageFormatId()),n&&n.cmd.push(function(){var e=n.pubads().getSlots().find(function(e){return e.getSlotElementId()===t.getPageFormatId()});e&&n.destroySlots([e])})}},{key:"getPageFormatId",value:function(){var e=this.props.formatId,t=this.state.pageIndex;return"ylhh_".concat(e,"_pg").concat(t)}},{key:"getSize",value:function(){var e=this.props.formatId;return k.w[e]?k.w[e]:k.d[e]}},{key:"getSlotId",value:function(){var e=this.props.formatId;return k.y[e]}},{key:"displayAd",value:function(){var e=this.props,t=e.refresh,n=e.slotTargeting;z.displayAd(this.getSlotId(),this.getSize(),this.getPageFormatId(),t,n)}},{key:"render",value:function(){var e=this.props.className,t=x()(h()({Ad:!0},e,!0));return v.a.createElement("div",{className:t,id:this.getPageFormatId()})}}]),r}(b.Component);H.defaultProps={refresh:!1},H.__docgenInfo={description:"",methods:[{name:"getPageFormatId",docblock:null,modifiers:[],params:[],returns:null},{name:"getSize",docblock:null,modifiers:[],params:[],returns:null},{name:"getSlotId",docblock:null,modifiers:[],params:[],returns:null},{name:"displayAd",docblock:null,modifiers:[],params:[],returns:null}],displayName:"YieldloveProvider",props:{refresh:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},slotId:{type:{name:"string"},required:!0,description:""},formatId:{type:{name:"number"},required:!0,description:""},callback:{type:{name:"func"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},location:{type:{name:"object"},required:!1,description:""},isMobile:{type:{name:"bool"},required:!1,description:""},slotTargeting:{type:{name:"object"},required:!0,description:""}}};var K=function(e){function t(){return i()(this,t),c()(this,d()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this.props.callback;e&&e({hasAd:!0})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.ads,n=e.clickthrough,r=e.onClick,a=Math.floor(Math.random()*t.size);return v.a.createElement("div",{className:"TransformationUnit"},v.a.createElement("a",{href:n,onClick:r,target:"_blank",rel:"noopener"},v.a.createElement("img",{src:t.get(a)})))}}]),t}(v.a.Component);K.__docgenInfo={description:"",methods:[],displayName:"TransformationAd",props:{ads:{type:{name:"object"},required:!1,description:""},callback:{type:{name:"func"},required:!1,description:""},clickthrough:{type:{name:"string"},required:!1,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};var Y=Object(_.b)(null,{onClick:S.u})(K),J=function(e){function r(e){var t;if(i()(this,r),t=c()(this,d()(r).call(this,e)),Object(j.S)("_taboola"))return c()(t);Object(j.wb)("_taboola",[]),Object(j.d)(Object(j.n)("script",{src:"https://cdn.taboola.com/libtrc/imgur-imgur/loader.js",defer:!0,id:"tb_loader_script"}));var n=Object(j.B)("performance");return n&&"function"==typeof n.mark&&n.mark("tbl_ic"),t}return f()(r,e),o()(r,[{key:"componentDidMount",value:function(){var e=this.props.path,t=Object(j.B)("_taboola");t.push({article:"auto",url:Object(j.G)()}),t.push({mode:"alternating-thumbnails-a",container:e,placement:"Below Article Thumbnails",target_type:"mix"})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.path,r=x()(h()({Ad:!0},t,!0));return v.a.createElement("div",{className:r,id:n})}}]),r}(b.Component);function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(n,!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}J.__docgenInfo={description:"",methods:[],displayName:"TaboolaProvider",props:{path:{type:{name:"string"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""}}};var Z=function(e){function n(e){var t;return i()(this,n),t=c()(this,d()(n).call(this,e)),h()(p()(t),"lazyLoadHandler",O()(function(){Object(N.a)(t.ad.current,200)&&(t.setState({lazyLoadedIntoView:!0}),Object(j.mb)("scroll",t.lazyLoadHandler),Object(j.mb)("resize",t.lazyLoadHandler))},200)),t.callback=t.callback.bind(p()(t)),t.ad=v.a.createRef(),t.state={slotId:E()(),refresh:e.refresh,lazyLoadedIntoView:!1},t}return f()(n,e),o()(n,[{key:"componentDidMount",value:function(){this.props.shouldLazyLoad&&(Object(j.c)("scroll",this.lazyLoadHandler),Object(j.c)("resize",this.lazyLoadHandler))}},{key:"componentWillUnmount",value:function(){this.props.shouldLazyLoad&&(Object(j.mb)("scroll",this.lazyLoadHandler),Object(j.mb)("resize",this.lazyLoadHandler))}},{key:"componentDidUpdate",value:function(e){this.props.path!==e.path&&this.setState({slotId:E()()})}},{key:"getEnvironmentTargeting",value:function(){return I.p===I.F?{environment_type:I.p}:Object(P.b)()?{environment_type:I.g}:{}}},{key:"getSlotTargeting",value:function(){var e=this.props,t=e.slotTargeting,n=e.tags,r=X({},t,{},this.getEnvironmentTargeting());if(!n.length)return r;var a=n.filter(function(e){return e.name}).map(function(e){return e.name});return a.length?X({},r,{item_tag:a}):r}},{key:"shouldHide",value:function(){var e=this.props,t=e.adsEnabled,n=e.shouldHide;return!t||n()}},{key:"callback",value:function(e){var t=this.state.refresh;if(Object(A.c)(e)&&t&&e.slot){var n=e.slot.getHtml();n&&-1!==n.indexOf(k.e)&&this.setState({refresh:!1})}var r=this.props,a=r.callback,i=r.showWhitelistDialog,o=r.whitelistedFirstAdAction;a&&a(e),!i&&T.a.get(S.k,!1)&&o()}},{key:"shouldLoadYieldlove",value:function(){var e=this.props,t=e.countryCode,n=e.path;return k.C.includes(t)&&k.y[n]}},{key:"shouldSkipSmart",value:function(){var e=this.props.countryCode;return k.C.includes(e)}},{key:"render",value:function(){if(this.shouldHide())return null;var e=this.props,t=e.className,n=e.path,r=e.dimensions,a=e.targeting,i=e.onloadCallback,o=e.callback,s=e.isMobile,c=e.transformationAds,l=e.transformationClickthrough,d=e.shouldLazyLoad,u=this.state,p=u.slotId,m=u.refresh,f=u.lazyLoadedIntoView;if(d&&!f)return v.a.createElement("div",{ref:this.ad,className:t});var g=c&&c.get("".concat(n));return g?v.a.createElement(Y,{ads:g,callback:o,clickthrough:l}):c?null:Object(j.W)()&&!k.a.has(n)?v.a.createElement(G,{className:t,callback:o,path:n}):this.shouldLoadYieldlove()?v.a.createElement(H,{className:t,callback:o,slotId:p,formatId:n,sizes:r,refresh:m,isMobile:s,slotTargeting:this.getSlotTargeting()}):k.B.has(n)?v.a.createElement(J,{className:t,path:n}):this.shouldSkipSmart()?null:v.a.createElement(W,{className:t,slotId:p,formatId:n,sizes:r,targeting:a,slotTargeting:this.getSlotTargeting(),refresh:m,callback:this.callback,onloadCallback:i})}}]),n}(b.Component);Z.defaultProps={targeting:{},slotTargeting:{},tags:[],refresh:!1,shouldHide:function(){return!1},className:"",shouldLazyLoad:!1},Z.__docgenInfo={description:"",methods:[{name:"getEnvironmentTargeting",docblock:null,modifiers:[],params:[],returns:null},{name:"getSlotTargeting",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldHide",docblock:null,modifiers:[],params:[],returns:null},{name:"callback",docblock:null,modifiers:[],params:[{name:"eventData",type:null}],returns:null},{name:"shouldLoadYieldlove",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldSkipSmart",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Ad",props:{targeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},slotTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},tags:{defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"object"}},required:!1,description:""},refresh:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},shouldHide:{defaultValue:{value:"() => false",computed:!1},type:{name:"func"},required:!1,description:""},className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},shouldLazyLoad:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},path:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!0,description:""},dimensions:{type:{name:"array"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},callback:{type:{name:"func"},required:!1,description:""},onloadCallback:{type:{name:"func"},required:!1,description:""},countryCode:{type:{name:"string"},required:!1,description:""},isMobile:{type:{name:"bool"},required:!1,description:""},transformationAds:{type:{name:"object"},required:!1,description:""},transformationClickthrough:{type:{name:"string"},required:!1,description:""},showWhitelistDialog:{type:{name:"bool"},required:!0,description:""},whitelistedFirstAdAction:{type:{name:"func"},required:!0,description:""}}};t.a=Object(_.b)(function(e){var t,n,r=e.agent,a=e.ad,i=e.user;return a.getIn(["transformation","enabled"])&&(t=a.getIn(["transformation","ads"]),n=a.getIn(["transformation","adClickthrough"])),{countryCode:r.get("countryCode"),isMobile:r.get(w.b),showWhitelistDialog:Object(j.W)()&&!i.get("isLoggedIn"),transformationAds:t,transformationClickthrough:n}},{whitelistedFirstAdAction:S.x})(Z)},yQno:function(e,t,n){},ygTn:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("q1tI"),a=n.n(r),i=(n("17x9"),n("/MKj")),o=n("55Ip"),s=n("GB65"),c=n("zTH+"),l=n("BWa0");function d(e){var t=e.frontPageBeta,n=e.logoClicked,r=t?a.a.createElement(o.b,{className:"Navbar-logo",to:"/",onClick:function(){"/"===Object(s.w)()&&Object(s.hb)()}},a.a.createElement(l.W,{className:"icon stroke fill",name:l.t,width:"94",height:"34",viewBox:"0 0 94 34",fillColor:"#ffffff",onClick:n})):a.a.createElement("a",{className:"Navbar-logo",href:"/"},a.a.createElement(l.W,{className:"icon stroke fill",name:l.t,width:"94",height:"34",viewBox:"0 0 94 34",fillColor:"#ffffff",onClick:n}));return a.a.createElement("div",{className:"Navbar-logo-container"},r)}var u=Object(i.b)(function(e){return{frontPageBeta:e.user.getIn(["flags","desktopFrontPageBeta"])}},{logoClicked:c.d})(d);d.__docgenInfo={description:"",methods:[],displayName:"NavbarLogo",props:{frontPageBeta:{type:{name:"bool"},required:!1,description:""},logoClicked:{type:{name:"func"},required:!0,description:""}}}},yzGh:function(e,t,n){},z6Nj:function(e,t,n){e.exports=n.p+"desktop-assets/bg-land-2.eaf8894ff895dc9c26b3da8f70574593.svg"},zMZQ:function(e,t,n){e.exports=n.p+"desktop-assets/s1.db8c19b82d156f87cd9fcf09311622c1.svg"}}]);